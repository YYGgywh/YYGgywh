(function(t){function e(e){for(var i,s,c=e[0],r=e[1],l=e[2],d=0,m=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var r=n[s];0!==a[r]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},a={pc:0},o=[];function s(t){return c.p+"js/"+({amr:"amr"}[t]||t)+"."+{amr:"d8ebe3b6"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=a[t]=[e,i]}));e.push(n[2]=i);var o,r=document.createElement("script");r.charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.src=s(t);var l=new Error;o=function(e){r.onerror=r.onload=null,clearTimeout(d);var n=a[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,n[1](l)}a[t]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:r})}),12e4);r.onerror=r.onload=o,document.head.appendChild(r)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var u=l;o.push([2,"chunk-imsdk","chunk-vendors"]),n()})({0:function(t,e){},"00ad":function(t,e,n){t.exports=n.p+"img/scissors.475924b7.svg"},"0161":function(t,e,n){},"019f":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.showNotice?e("div",{staticClass:"block-notice",attrs:{title:t.$t("common_view_all")}},[e("div",{staticClass:"notice",class:{"notice--mobile":t.isMobile}},[e("div",{staticClass:"notice__title"},[t._v(" "+t._s(t.$t("notice_slider_header"))+" ")]),e("div",{ref:"noticeContent",staticClass:"notice__content",on:{click:t.showPop}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.needMove,expression:"needMove"}],staticClass:"notice__mask notice__mask--left"}),e("div",{ref:"noticeList",staticClass:"notice__list",style:t.listStyle},[t._l(t.noticeList,(function(n,i){return e("div",{key:"x"+i,staticClass:"notice__item"},[t._v(" "+t._s(n.content)+" ")])})),t._l(t.noticeList,(function(n,i){return e("div",{key:"y"+i,staticClass:"notice__item"},[t._v(" "+t._s(n.content)+" ")])}))],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.needMove,expression:"needMove"}],staticClass:"notice__mask notice__mask--right"})]),e("div",{staticClass:"notice__tool",on:{click:t.closeNotice}},[e("span",{staticClass:"notice__close"})])]),e("NoticePanel",{ref:"noticePanel",attrs:{notice:t.noticeList}})],1):t._e()},a=[],o=n("d4ec"),s=n("bee2"),c=n("8f33"),r=n("262e"),l=n("ade3"),d=(n("99af"),n("d81d"),n("14d9"),n("e9f5"),n("ab43"),n("b64b"),n("d3b7"),n("5087"),n("9ab4")),u=n("1b40");function m(t){requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,15)}var f=n("ea5f"),h=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("popup",{ref:"noticePanel",attrs:{show:t.open,title:t.$t("notice_popup_header")},on:{"update:show":function(e){t.open=e}}},[t.notice?e("div",{staticClass:"p-notice"},t._l(t.notice,(function(n,i){return e("div",{key:i,staticClass:"p-notice__item"},[e("div",{staticClass:"p-notice__title"},[t._v(" "+t._s(("gjh"===n.type?t.$t("notice_item_header_gjh"):t.$t("notice_item_header"))+n.title)+" ")]),e("div",{staticClass:"p-notice__text"},[t._v(" "+t._s(n.content)+" ")])])})),0):t._e()])},p=[],g=n("7dc1"),v=function(t){function e(){var t;Object(o["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(c["a"])(this,e,[].concat(i)),Object(l["a"])(t,"notice",void 0),Object(l["a"])(t,"open",!1),t}return Object(r["a"])(e,t),Object(s["a"])(e)}(u["d"]);Object(d["a"])([Object(u["c"])({required:!0,default:function(){return[]}})],v.prototype,"notice",void 0),v=Object(d["a"])([Object(u["a"])({components:{Popup:g["a"]}})],v);var b=v,_=b,w=(n("c51b"),n("2877")),y=Object(w["a"])(_,h,p,!1,null,"3abb864b",null),x=y.exports,C=n("55b6"),T=5e3,k=45,I=function(t){function e(){var t;Object(o["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(c["a"])(this,e,[].concat(i)),Object(l["a"])(t,"wpaDetail",void 0),Object(l["a"])(t,"noticeList",[]),Object(l["a"])(t,"needMove",!1),Object(l["a"])(t,"moveTimer",null),Object(l["a"])(t,"listStyle",{transitionDuration:"0s",left:0}),Object(l["a"])(t,"showNotice",!1),t}return Object(r["a"])(e,t),Object(s["a"])(e,[{key:"isMobile",get:function(){return!this.$platform.pc}},{key:"created",value:function(){this.init()}},{key:"showPop",value:function(){var t=this.$refs.noticePanel;t.open=!0}},{key:"closeNotice",value:function(){this.showNotice=!1}},{key:"init",value:function(){this.resetMove(),this.fetchNotice()}},{key:"fetchNotice",value:function(){var t=this,e=this.wpaDetail,n=e.kfuin,i=e.fid,a=e.key,o={kfuin:n,wpaId:i,key:a,fields:["announcement"]};Object(f["a"])(o,(function(e){var n=e.announcement,i=void 0===n?{}:n,a=i.code,o=i.data;if(!a){var s=o.rpt_get_resource_rsp;if(s&&(t.noticeList=s.map((function(t){var e=t.str_result_node_json;return JSON.parse(e)})),t.showNotice=!0),null!==o&&void 0!==o&&o.topNotice){var c=t.wpaDetail.qidian_lang?C["a"][t.wpaDetail.qidian_lang]:"zh";t.noticeList.push({content:o.topNotice[c],id:"gjhTopNotice",title:""}),t.showNotice=!0}t.showNotice&&t.$nextTick((function(){return t.startMove()}))}}))}},{key:"resetMove",value:function(){var t=this;this.noticeList=[],this.moveTimer&&clearTimeout(this.moveTimer),this.listStyle.transitionDuration="0s",m((function(){return t.listStyle.left=0}))}},{key:"startMove",value:function(){var t=this;this.moveTimer=setTimeout((function(){var e=t.$refs.noticeContent,n=t.$refs.noticeList,i=e.clientWidth,a=n.clientWidth/2;console.log(1111,i,a),a<=i||(t.needMove=!0,t.move(a))}),T)}},{key:"move",value:function(t){var e=this,n=Math.ceil(t/k);this.listStyle.transitionDuration="".concat(n,"s"),m((function(){return e.listStyle.left="".concat(0-t,"px")})),setTimeout((function(){e.listStyle.transitionDuration="0s",m((function(){e.listStyle.left=0,m((function(){return e.move(t)}))}))}),1e3*n)}}])}(u["d"]);Object(d["a"])([Object(u["c"])()],I.prototype,"wpaDetail",void 0),I=Object(d["a"])([Object(u["a"])({components:{NoticePanel:x}})],I);var M=I,A=M,S=(n("7e37"),Object(w["a"])(A,i,a,!1,null,"33a32ef2",null));e["a"]=S.exports},"01ed":function(t,e,n){},"0355":function(t,e){t.exports="data:image/png;base64,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"},"03a4":function(t,e,n){t.exports=n.p+"img/icon-cancle-upload.2133835f.svg"},"03b2":function(t,e,n){"use strict";n("c2ad")},"0af3":function(t,e,n){},"0b25":function(t,e,n){},"0b9b":function(t,e,n){},"0ba6":function(t,e,n){},"0c6c":function(t,e,n){t.exports=n.p+"img/qq-white.23a152b3.svg"},"0d10":function(t,e,n){"use strict";n("cb85")},"0d3f":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("2909"),a=n("4478"),o=(n("99af"),n("d81d"),n("e9f5"),n("7d54"),n("ab43"),n("e9c4"),n("b64b"),n("d3b7"),n("ac1f"),n("5319"),n("498a"),n("159b"),n("5ac5")),s=n("126a"),c=n("6cd4"),r=n("8118"),l=n("9de0"),d={Msg:function(t){return t},$:{ajax:function(t){var e=t.url,n=t.type,i=t.data,a=void 0===i?{}:i,o=t.success,c=void 0===o?function(){}:o,r=t.error,l=void 0===r?function(){}:r;s["a"][n.toLowerCase()](e,a).then((function(t){return c(t)})).catch((function(t){return l(t)}))}},qd:{action:{sendC2B:function(t,e){var n=JSON.stringify({scene:e.data.scene,sceneArgs:e.data.sceneArgs,sendSource:e.data.sendSource,extRobotType:4});o["a"].sendQDXMLMessage({qdxml:{content:e.data.xml,brief:"零售电商卡片消息"}},null,{robot_ctrl:{str_ext2robot:n}})},sendB2C:function(t,e){o["a"].addMessageList({type:l["b"].TYPES.MSG_QDXML,status:r["b"].Success,time:Date.now(),to:(o["a"].wpaDetail||{}).kfuin||0,seq:l["c"].generateUUID(),content:{path:"",brief:"",content:e.data.xml}},r["a"].Sync,!1)}}}};function u(t,e,n,o){var s=Object.assign({},d,o),c=Object.keys(s),r=["window"].concat(c),l=["return ".concat(n.trim()||"{}")],u=Object(a["a"])(Function,[].concat(Object(i["a"])(r),l)),h=c.map((function(t){return s[t]})),p=u.apply(void 0,[s].concat(Object(i["a"])(h)));m(t),f(t,e,p)}function m(t){var e="msg-xml-fold",n="expand",i=t.querySelectorAll(".".concat(e));function a(t){var e=t.currentTarget.parentNode;e.className.indexOf(n)>-1?e.className=e.className.replace(n,""):e.className="".concat(e.className," ").concat(n)}i.forEach((function(t){var e=t.querySelector(":first-child");e.removeEventListener("click",a),e.addEventListener("click",a,!1)}))}function f(t,e,n){var i=e.props,a=e.children,o=i.action||{},s=o.type,r=o.fun;if(s&&r){var l=t.querySelectorAll("[".concat(c["b"],'="').concat(s,'"][').concat(c["a"],'="').concat(r,'"]'));l.forEach((function(t){t.removeEventListener(s,n[r]),t.addEventListener(s,n[r],!1)}))}a.forEach((function(e){return f(t,e,n)}))}},"0e10":function(t,e,n){},"0eb3":function(t,e,n){"use strict";n("0e10")},"0eb8":function(t,e,n){},1:function(t,e){},"117e":function(t,e,n){},"126a":function(t,e,n){"use strict";var i=n("5530"),a=(n("d3b7"),n("2b0e")),o=n("5ac5");function s(t,e){var n=function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,l){var d=s&&Object(i["a"])({},s);if(e&&(d.params=s),o["a"].auth){c.headers||(c.headers={});var u=o["a"].auth,m=u.appid,f=u.aid,h=u.d2;c.headers=Object(i["a"])(Object(i["a"])({},c.headers),{},{"X-Appid":m,"X-Aid":f,"X-D2":h,"X-Tenant-Id":o["a"].kfuin})}a["a"].prototype.$ajax[t]("".concat(n),d,c).then((function(t){r(t)})).catch((function(t){l(t)}))}))};return n}e["a"]={get:s("get",!0),post:s("post")}},1284:function(t,e,n){var i={"./apk.png":"f041","./audio.png":"87de","./excel.png":"c906","./html.png":"cf42","./pdf.png":"32fe","./picture.png":"1a05","./ppt.png":"ca6d","./psd.png":"a33c","./txt.png":"85dd","./unknown.png":"39d4","./video.png":"7ac4","./word.png":"4d71","./zip.png":"96c5"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id="1284"},1642:function(t,e,n){},"16c8":function(t,e,n){},1747:function(t,e,n){},"175a":function(t,e,n){"use strict";n("3f18")},1915:function(t,e,n){"use strict";n.r(e);n("a4d3"),n("e01a"),n("99af"),n("e9c4");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"richmsg-type-3"},[e("div",{staticClass:"content"},[e("div",{staticClass:"desc-section",class:t.questions.length>0?"":"desc-section--only"},[t._l(t.description,(function(n,i){return[n.url?e("a",{key:i,attrs:{href:n.url},on:{click:function(e){return e.preventDefault(),t.handlLinkClick(n.url)}}},[t._v(t._s(n.text))]):e("span",{key:i},[t._v(t._s(n.text))])]}))],2),t.questions.length>0?[e("div",{staticClass:"question-title"},[t.qlist.type&&2==t.qlist.type?e("div",[t._v("你可能还想问：")]):e("div",[t._v("亲，你是不是想问：")])]),e("ul",{staticClass:"question-list"},t._l(t.questions,(function(n,i){return e("li",{key:i,staticClass:"question-item"},[e("a",{attrs:{action:"msg",href:"qdweb://webim/message/ext2robotsendc2b?content=".concat(t.textToUnicode(n.text),"&ext=").concat(t.textToUnicode(JSON.stringify(n)))}},[e("i",{staticClass:"question-icon"}),t._v(t._s(n.text))])])})),0)]:t._e()],2)])},a=[],o=n("c14f"),s=n("1da1"),c=n("9ec0"),r={name:"qlist-msg",props:{message:{type:Object,default:function(){return{}}}},data:function(){var t=this.message.content,e=t.content||{},n=e.description||[],i=e.questions||[];return{qlist:e,description:n,questions:i}},methods:{handlLinkClick:function(){},handlQuestionClick:function(t,e){var n=this;return Object(s["a"])(Object(o["a"])().m((function i(){var a,s;return Object(o["a"])().w((function(i){while(1)switch(i.p=i.n){case 0:return a=n.$qdim.createTextMessage({text:t}),a.qlist={kfUin:n.$qdim.globalVars.receptionist.kfUin,type:e},n.$store.commit("sendMessage",a),i.p=1,i.n=2,n.$qdim.sendMessage(a);case 2:n.$store.commit("changeMessageStatus",{message:a,status:"success"}),i.n=4;break;case 3:i.p=3,s=i.v,console.log("[send message error]",s),n.$store.commit("changeMessageStatus",{message:a,status:"fail"});case 4:return i.a(2)}}),i,null,[[1,3]])})))()},textToUnicode:function(t){return Object(c["d"])(t)}}},l=r,d=(n("d70f"),n("2877")),u=Object(d["a"])(l,i,a,!1,null,"d04b2706",null);e["default"]=u.exports},"1a05":function(t,e){t.exports="data:image/png;base64,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"},"1c47":function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qq-invite-card"},[e("div",{staticClass:"content"},[e("div",{staticClass:"kf-detail"},[e("p",{staticClass:"avatar"},[e("img",{attrs:{src:t.message.avatar}})]),e("dl",{staticClass:"detail"},[e("dt",[t._v(t._s(t.message.name))]),t.message.corpName?e("dd",[t._v(" "+t._s(t.message.corpName)+" "),t.message.position?e("span",{staticClass:"resign"},[t._v(t._s(t.message.position))]):t._e()]):t._e()])]),e("a",{staticClass:"btn-act",staticStyle:{"background-color":"#4A70FF"},attrs:{href:"javascript:;","data-style":"button"},on:{click:function(e){return t.$emit("onLunchQQ",t.data)}}},[t._v(" 发起QQ会话 ")])])])},a=[],o={props:{data:{type:Object,default:function(){return{}}}},computed:{message:function(){var t;return null!==(t=this.data.msgBody)&&void 0!==t?t:{}}}},s=o,c=(n("4bfe"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,"6018c298",null);e["default"]=r.exports},"1c5f":function(t,e,n){"use strict";n("9cad")},"1cdc":function(t,e,n){"use strict";n("b0c0"),n("9911");var i=function(){var t=this,e=t._self._c;return e("div",{class:t.source},[t.data.content&&t.data.content.length?e("form",{staticClass:"information-form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t.data.note?e("div",{staticClass:"declare"},[t._v(t._s(t.data.note))]):t._e(),e("div",{staticClass:"form-container"},[e("div",{staticClass:"form-content"},t._l(t.data.content,(function(n,i){return e("div",{key:n.id,staticClass:"form-content-item"},[t.getInputType(n)?e("div",{staticClass:"item-input"},[e("label",{class:["label",{required:n.required}]},[t._v(t._s(n.name))]),e("van-field",{staticClass:"input",attrs:{type:t.getInputType(n),rows:"1",maxlength:2===n.type?1e3:100,autosize:"",clearable:"",placeholder:"请输入"+n.name},on:{blur:function(e){return t.checkFormItem(n,i)}},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"item.value"}})],1):e("div",{staticClass:"item-input"},[e("label",{class:["label",{required:n.required}]},[t._v(t._s(n.name))]),e("van-field",{staticClass:"input",attrs:{readonly:"",clickable:"",clearable:"",placeholder:"请选择"+n.name,"right-icon":"arrow-down"},on:{click:function(e){return t.widgetClick(n,i)}},model:{value:n.text,callback:function(e){t.$set(n,"text",e)},expression:"item.text"}})],1),n.error?e("div",{staticClass:"error"},[t._v(t._s(n.error))]):t._e()])})),0)]),e("div",{staticClass:"form-footer"},[t.data.hasAgreement?e("div",{staticClass:"form-agree"},[e("span",{class:["agree-input",{agreed:t.data.isAgree}],on:{click:t.switchAgreement}}),e("div",{staticClass:"agree-detail"},[t._l(t.data.agreement,(function(n){return[n.link?e("a",{staticClass:"agree-href",attrs:{href:n.link}},[t._v(t._s(n.text))]):e("span",{staticClass:"agree-text"},[t._v(t._s(n.text))])]}))],2)]):t._e(),e("div",{staticClass:"footer-btns"},[t.data.isSkip?e("div",{staticClass:"button skip",on:{click:t.handleSkip}},[t._v("跳过")]):t._e(),e("div",{class:["button","submit",{"fit-width":!t.data.isSkip}],on:{click:t.handleSubmit}},[t._v("提交")])])])]):t._e(),e("date-time-picker-for-h5",{ref:"datePicker",on:{pickedDateTimeChange:t.pickedDateTimeChange}}),e("MultipleSelectForH5",{ref:"multipleSelector",on:{multipleSelectChange:t.multipleSelectChange}}),e("single-select-for-h5",{ref:"singleSelector",on:{singleSelectChange:t.singleSelectChange}})],1)},a=[],o=(n("caad"),n("14d9"),n("e9f5"),n("7d54"),n("d3b7"),n("159b"),n("7dc1")),s=function(){var t=this,e=t._self._c;return e("popup",{ref:"popup",attrs:{show:t.openPop,showClose:!1,hideTitle:!0},on:{"update:show":function(e){t.openPop=e}}},[e("van-datetime-picker",{attrs:{type:"date",title:"请选择日期","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.confirm,cancel:t.cancel},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)},c=[],r=(n("f0a2"),{components:{Popup:o["a"]},data:function(){return{openPop:!1,pickerIdx:-1,minDate:new Date(-2209017943e3),maxDate:new Date(4828176e6),currentDate:new Date}},methods:{confirm:function(t){this.$emit("pickedDateTimeChange",{val:t,pickerIdx:this.pickerIdx}),this.hide()},cancel:function(){this.$emit("cancel"),this.hide()},show:function(t){var e=this;setTimeout((function(){e.openPop=!0}),400),this.pickerIdx=t},hide:function(){this.openPop=!1,this.pickerIdx=-1}}}),l=r,d=n("2877"),u=Object(d["a"])(l,s,c,!1,null,"11210992",null),m=u.exports;n("99af");function f(t){if(!t)return"";try{var e=t.getFullYear(),n=t.getMonth()+1,i=n>9?"".concat(n):"0".concat(n),a=t.getDate(),o=a>9?"".concat(a):"0".concat(a);return"".concat(e,"-").concat(i,"-").concat(o)}catch(s){return""}}var h=function(){var t=this,e=t._self._c;return e("popup",{ref:"popup",staticClass:"popup",attrs:{show:t.openPop,hideTitle:!0},on:{"update:show":function(e){t.openPop=e}}},[e("div",{staticClass:"container"},[e("div",{staticClass:"list"},t._l(t.options,(function(n,i){return e("div",{staticClass:"checkbox-item",on:{click:function(e){return t.click(i)}}},[e("span",{class:[{choosed:n.isChoosed},{"input-checkbox":!n.isChoosed}]}),e("span",{staticClass:"checkbox-text"},[t._v(t._s(n.text))])])})),0),e("div",{staticClass:"footer"},[e("div",{staticClass:"confirm-button",on:{click:t.confirm}},[t._v("确定")])])])])},p=[],g=(n("4de4"),n("910d"),{components:{Popup:o["a"]},data:function(){return{openPop:!1,options:[],choosedValue:[]}},methods:{show:function(t){var e=this;setTimeout((function(){e.openPop=!0}),400),this.options=this.handleoptions(t.options),this.widgetSymbol=t.widgetSymbol},cancel:function(){this.openPop=!1},confirm:function(){var t=this.options.filter((function(t){return t.isChoosed})),e=[];t.length&&t.forEach((function(t){return e.push(t)})),this.$emit("multipleSelectChange",{choosed:e,widgetSymbol:this.widgetSymbol}),this.openPop=!1},handleoptions:function(t){var e=[];return t&&t.forEach((function(t){e.push({value:t.value,isChoosed:!1,text:t.text})})),e},click:function(t){t>-1&&(this.options[t].isChoosed=!this.options[t].isChoosed)}}}),v=g,b=(n("d90e"),Object(d["a"])(v,h,p,!1,null,"1d14c293",null)),_=b.exports,w=n("2981"),y=(n("fdc4"),n("8ac5")),x={0:"unknown",1:"text",2:"textarea",3:"number",4:"date",5:"time",6:"select",7:"radio",8:"checkbox",9:"casecad"},C=[x[1],x[2],x[3]],T={mixins:[y["a"]],components:{Popup:o["a"],DateTimePickerForH5:m,MultipleSelectForH5:_,SingleSelectForH5:w["a"]},data:function(){return{isShowDatePicker:!1}},methods:{showDatePicker:function(t){this.$refs.datePicker.show(t)},pickedDateTimeChange:function(t){var e=t.val,n=t.pickerIdx;if(n>-1){var i=f(e);this.data.content[n].value=i,this.$set(this.data.content[n],"text",i)}},getInputType:function(t){var e=t.type;return C.includes(x[e])?x[e]||"text":""},widgetClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t.type,i=x[n]||x[0];switch(i){case x[4]:this.showDatePicker(e);break;case x[8]:this.$refs.multipleSelector.show({options:t.options,widgetSymbol:e});break;case x[6]:case x[7]:this.$refs.singleSelector.show({options:t.options,widgetSymbol:e})}},multipleSelectChange:function(t){var e=t.choosed,n=void 0===e?[]:e,i=t.widgetSymbol,a=[],o=[];n.forEach((function(t){a.push(t.value),o.push(t.text)})),i>-1&&(this.data.content[i].value=a,this.$set(this.data.content[i],"text",o))},singleSelectChange:function(t){var e=t.choosed,n=void 0===e?{}:e,i=t.widgetSymbol;i>-1&&(this.data.content[i].value=n.value,this.$set(this.data.content[i],"text",n.text))}}},k=T,I=(n("600c"),Object(d["a"])(k,i,a,!1,null,"711551a1",null));e["a"]=I.exports},"1e0d":function(t,e,n){"use strict";n("0eb8")},"1e3a":function(t,e,n){"use strict";n.r(e);n("cb29"),n("4de4"),n("b0c0"),n("e9f5"),n("910d"),n("d3b7");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"feedback-wrap-box",class:{"feedback-wrap-box-pc":this.$platform.pc}},[e("div",{staticClass:"feedback-wrap"},[e("div",{staticClass:"feedback-container"},[e("div",{staticClass:"feedback-title"},[t._v(" "+t._s(t.fbParams.editable?t.fbParams.title:t.fbParams.reply[t.fbParams.value])+" ")]),e("div",{staticClass:"feedback-evaluation-wrap"},[t.fbParams.editable?e("div",{staticClass:"feedback-evaluation"},t._l(t.fbParams.evaluation,(function(n){return e("div",{key:n.value,class:"feedback-evaluation-item"+(n.value===t.fbParams.value?"_active":""),on:{click:function(e){return t.setValue(n.value)}}},[t.fbParams.extendData&&1===t.fbParams.extendData.styleType?e("div",{staticClass:"feedback-evaluation-icon",class:"feedback-icon-start"+(n.value<=t.fbParams.value?"_active":"")}):e("div",{staticClass:"feedback-evaluation-icon",class:"feedback-icon-"+n.name+(n.value===t.fbParams.value?"_active":"")}),e("div",{staticClass:"feedback-evaluation-text",class:"feedback-evaluation-text"+(n.value===t.fbParams.value?"_active":"")},[t._v(" "+t._s(n.text)+" ")])])})),0):e("div",t._l(t.fbParams.evaluation.filter((function(e){return e.value===t.fbParams.value})),(function(n){return e("div",{key:n.value,staticClass:"feedback-evaluation-result"},[e("div",{staticClass:"feedback-evaluation-item_active"},[t.fbParams.extendData&&1===t.fbParams.extendData.styleType?e("div",t._l(Array(t.fbParams.value).fill(1),(function(t,n){return e("div",{key:n,staticClass:"feedback-icon-start_active feedback-evaluation-icon start-inline"})})),0):e("div",{staticClass:"feedback-evaluation-icon",class:"feedback-icon-"+n.name+"_active"}),e("div",{staticClass:"feedback-evaluation-item_active-text"},[t._v(" "+t._s(n.text)+" ")])])])})),0)]),t.fbParams.showTags?e("div",{staticClass:"feedback-mark-list",class:t.fbParams.editable?"":"feedback-mark-list-label"},[t.fbParams.editable?t._l(t.fbParams.tags.filter((function(e){return e.level===t.fbParams.value})),(function(n,i){return e("div",{key:i,staticClass:"feedback-tag",class:"feedback-tag"+(t.fbParams.ids.indexOf(n.id)>-1?"-active":""),on:{click:function(e){return t.addTags(n)}}},[t._v(" "+t._s(n.name)+" ")])})):t._l(t.fbParams.tags.filter((function(e){return t.fbParams.ids.indexOf(e.id)>-1})),(function(n,i){return e("div",{key:i,staticClass:"feedback-tag"},[t._v(" "+t._s(n.name)+" ")])}))],2):t._e()]),t.fbParams.showOpinion?e("div",{staticClass:"feedback-opinion"},[t.fbParams.editable?e("div",{staticClass:"feedback-textarea-wrap"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.fbParams.text,expression:"fbParams.text"}],staticClass:"feedback-textarea",attrs:{disabled:t.fbParams.isDemo,maxlength:t.fbParams.availLetterSum,placeholder:t.fbParams.placeholder},domProps:{value:t.fbParams.text},on:{input:function(e){e.target.composing||t.$set(t.fbParams,"text",e.target.value)}}}),e("div",{staticClass:"feedback-textarea-limit"},[e("span",{staticClass:"feedback-textarea-limit-current"},[t._v(t._s(t.fbParams.text.length))]),e("span",{staticClass:"feedback-textarea-limit-total"},[t._v("/"+t._s(t.fbParams.availLetterSum))])])]):t.fbParams.text?e("div",{staticClass:"feedback-opinion-label"},[t._v(" "+t._s(t.fbParams.text)+" ")]):t._e()]):t._e(),t.fbParams.showSolve?e("div",[t.fbParams.editable?e("div",{staticClass:"feedback-solvtion"},[e("div",{staticClass:"feedback-title"},[t._v("是否解决了您的问题？")]),e("div",{staticClass:"feedback-status"},[e("div",{staticClass:"feedback-status-wrap",class:"feedback-status-wrap"+(1===t.fbParams.isSolve?"_active":""),on:{click:function(e){return t.setResolved(1)}}},[e("div",{staticClass:"feedback-status-icon",class:"feedback-status-resolved"+(1===t.fbParams.isSolve?"_active":"")}),e("div",[t._v("已解决")])]),e("div",{staticClass:"feedback-status-wrap",class:"feedback-status-wrap"+(2===t.fbParams.isSolve?"_active":""),on:{click:function(e){return t.setResolved(2)}}},[e("div",{staticClass:"feedback-status-icon",class:"feedback-status-unresolved"+(2===t.fbParams.isSolve?"_active":"")}),e("div",[t._v("未解决")])])])]):e("div",{staticClass:"feedback-status",class:1!==t.fbParams.isSolve&&2!==t.fbParams.isSolve?"no-data":""},[2===t.fbParams.isSolve?e("div",{staticClass:"feedback-status-wrap feedback-status-wrap_label"},[e("div",{staticClass:"feedback-status-icon",class:"feedback-status-"+(1===t.fbParams.isSolve?"resolved":"unresolved")}),e("div",[t._v(t._s(1===t.fbParams.isSolve?"已解决":"未解决"))])]):t._e(),1===t.fbParams.isSolve?e("div",{staticClass:"feedback-status-wrap feedback-status-wrap_label"},[e("div",{staticClass:"feedback-status-icon",class:"feedback-status-"+(1===t.fbParams.isSolve?"resolved":"unresolved")}),e("div",[t._v(t._s(1===t.fbParams.isSolve?"已解决":"未解决"))])]):t._e()])]):t._e(),t.fbParams.editable?e("div",{staticClass:"feedback-submit"},[e("button",{staticClass:"feedback-submit-btn",class:t.fbParams.disableSubmit?"is-disabled":"",attrs:{disabled:t.fbParams.disableSubmit},on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("chat_feedback_submit_text"))+" ")])]):t._e()])])},a=[],o=n("c14f"),s=n("1da1"),c=n("5530"),r=(n("99af"),n("14d9"),n("a434"),n("7d54"),n("e9c4"),n("159b"),n("4328")),l=n.n(r),d=n("9de0"),u=d["b"].create(),m="/webim/innerPage/feedBack",f={name:"feedback",props:{data:{type:Object,default:function(){return{}}},singleSeqs:{type:String,default:""}},inject:["globalData","wpaDetail","to"],data:function(){var t={disableSubmit:!0,value:0,text:"",isSolve:0,ids:[],editable:!0,evaluation:[{name:"veryDissatisfied",text:this.$t("chat_feedback_very_dissatisfied_text"),value:1},{name:"dissatisfied",text:this.$t("chat_feedback_dissatisfied_text"),value:2},{name:"neutral",text:this.$t("chat_feedback_neutral_text"),value:3},{name:"satisfied",text:this.$t("chat_feedback_satisfied_text"),value:4},{name:"verySatisfied",text:this.$t("chat_feedback_very_satisfied_text"),value:5}],reply:{1:"很抱歉服务不周，我们会不断改进的",2:"很抱歉服务不周，我们会不断改进的",3:"很抱歉服务不周，我们会不断改进的",4:"感谢你的鼓励，祝你生活愉快",5:"感谢你的鼓励，祝你生活愉快"},title:this.$t("chat_feedback_title_text"),tags:[],placeholder:"点击此处给我们建议",availLetterSum:60,showTags:!1,showSolve:!1,showOpinion:!1,showTitle:!1,isMobile:!1,isDemo:!1,extendData:{styleType:0}},e={tags:[],openTag:!0,openSolve:!0,reply:!1,style:"",extendData:{},result:{}},n=this.data.content;n=n||e;var i=[];(n.tags||[]).forEach((function(t,e){t.forEach((function(t){i.push(Object.assign({level:5-e},t))}))}));var a={isMobile:!this.$platform.pc,showTags:1===n.openTag,showSolve:1===n.openSolve,reply:n.reply,showOpinion:2===n.style,showTitle:!0,title:this.$t("chat_feedback_title_text"),tags:i,extendData:n.extendData},o=n.result||{},s=o.fbLevel,r=o.fbDesc,l=o.isSolve;return a.value=s||0,a.text=r||"",a.isSolve=l||0,a.editable=!s,{msgDataBody:n,fbParams:Object(c["a"])(Object(c["a"])({},t),a)}},computed:{},methods:{setValue:function(t){Object.assign(this.fbParams,{value:t,ids:[]}),this.fbParams.isDemo||Object.assign(this.fbParams,{disableSubmit:!1})},addTags:function(t){var e=this.fbParams.ids,n=e.indexOf(t.id);n>-1?e.splice(n,1):e.push(t.id),Object.assign(this.fbParams,{ids:e})},setResolved:function(t){Object.assign(this.fbParams,{isSolve:t})},onSubmit:function(){if(!this.fbParams.isDemo){var t=this.fbParams.disableSubmit;t||this.beforeSubmit()&&(Object.assign(this.fbParams,{editable:!1}),this.sendResult(this.fbParams))}},beforeSubmit:function(){return!0},sendResult:function(t){var e=this;return Object(s["a"])(Object(o["a"])().m((function n(){var i,a,s,c,r,d,u,f,h,p;return Object(o["a"])().w((function(n){while(1)switch(n.n){case 0:return console.log("this.globalData",e.globalData),i=[],a=t.ids||[],console.log("this.msgDataBody",e.msgDataBody),(e.msgDataBody.tags||[]).forEach((function(t){t.forEach((function(t){a.indexOf(t.id)>-1&&i.push(t)}))})),s=e.msgDataBody,c={fbLevel:t.value,fbDesc:t.text,isSolve:t.isSolve,tags:i,seq:s.seq,fbKey:s.fbKey,visitorId:e.to.user_id,kfuin:e.wpaDetail.kfUin,extUin:s.extUin,wpaId:e.wpaDetail.wpaId,session_time:e.data.time,sessionId:e.msgDataBody.sessionId,extendData:s.extendData},r=l.a.stringify(c),d="".concat(m,"?kfuin=").concat(c.kfuin),n.n=1,e.$ajax.post(d,r);case 1:u=n.v,f=u.data,f.code||f.r?(h=u.message||e.$t("chat_feedback_error_msg"),e.$Toast({text:h,type:"error"})):(p=e.$t("chat_feedback_success_msg"),e.$Toast(p),e.handleResultToDb(s));case 2:return n.a(2)}}),n)})))()},handleResultToDb:function(){u.setMessageTags(this.data,[{tag:"feed_back",value:JSON.stringify(this.msgDataBody)}])}}},h=f,p=(n("efdc"),n("2877")),g=Object(p["a"])(h,i,a,!1,null,"5966f5ed",null);e["default"]=g.exports},"1ec8":function(t,e,n){t.exports=n.p+"img/file-upload.d2ccbf58.svg"},"1f79":function(t,e,n){"use strict";n("0af3")},2:function(t,e,n){t.exports=n("cb74")},"20b7":function(t,e,n){"use strict";n("d3b7");var i=n("ae03"),a=n("97e5");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e){i["a"].post(a["z"],t).then((function(t){e(t.data)})).catch((function(){e({code:999,data:{},msg:"获取更多数据失败"})}))}))}e["a"]=o},"20e9":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"surveyRef",staticClass:"box-survey",class:{"box-survey--pc":this.$platform.pc}})},a=[],o=n("5530"),s=n("d4ec"),c=n("bee2"),r=n("8f33"),l=n("262e"),d=n("ade3"),u=(n("99af"),n("4de4"),n("caad"),n("d81d"),n("14d9"),n("e9f5"),n("910d"),n("7d54"),n("ab43"),n("a9e3"),n("d3b7"),n("2532"),n("159b"),n("9ab4")),m=n("1b40"),f=n("4328"),h=n.n(f),p=n("5ac5"),g=n("7b05"),v=function(t){function e(){var t;Object(s["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(d["a"])(t,"wpaDetail",void 0),Object(d["a"])(t,"data",void 0),Object(d["a"])(t,"originConfig",{}),Object(d["a"])(t,"config",{}),Object(d["a"])(t,"isNeedScorll",!1),t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"reqSuffix",get:function(){return this.data?this.data.content.content:""}},{key:"mounted",value:function(){var t=this;setTimeout((function(){Object(g["a"])()<g["b"]?t.isNeedScorll=!0:t.isNeedScorll=!1}),110),this.fetchData()}},{key:"fetchData",value:function(){var t,e=this,n=this.reqSuffix;-1===n.indexOf("kfuin=")&&null!==(t=this.wpaDetail)&&void 0!==t&&t.kfuin&&(n+="&kfuin=".concat(this.wpaDetail.kfuin));var i="/v1/qf/report/survey/getSatisfactionData?".concat(n);this.$ajax.get(i).then((function(t){var n;[0,1].includes(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)&&(e.config=t.data.data||{},e.handle((null===t||void 0===t?void 0:t.data)||{}))}))}},{key:"handle",value:function(t){var e=this;this.originConfig=t;var n=t.code,i=t.data,a=t.evaluation_label,s=t.reply,c=t.satisfaction_tag,r=void 0===c?[]:c,l=t.solve_the_problem,d=t.title,u=t.extendData;if([0,1].includes(n)){var m={editable:0===n};i.forEach((function(t){if(1===Number(t.id)&&(m.title=t.title,1===n&&(m.value=Number((t.contents&&t.contents[0]).score||1))),2===Number(t.id)){var e=t.contents&&t.contents[0]||{content:"",maxNum:60};m.availLetterSum=e.maxNum,m.showOpinion=!0,1===n&&(m.text=e.content)}if(3===Number(t.id))if(1===n){var i=t.contents&&t.contents[0]&&t.contents[0].content||[];m.ids=i.map((function(t){return t.id}))}else m.ids=[];4===Number(t.id)&&1===n&&(m.isSolve=Number(t.contents&&t.contents[0]&&t.contents[0].content||0))}));var f=[];(r||[]).forEach((function(t,e){t.forEach((function(t){f.push(Object.assign({level:5-e},t))}))})),m.value||(m.value=5);var h=Object(o["a"])(Object(o["a"])({},m),{},{showTags:1===a,showSolve:1===l,reply:s,showTitle:!!d,title:d,tags:f,extendData:u});this.config=Object(o["a"])({},h),new window.Feedback(this.$refs.surveyRef,h,{onSubmit:function(t){return e.submit(t)}}),this.$nextTick((function(){return e.onLoad()}))}}},{key:"submit",value:function(t){var e=this;return new Promise((function(n){var i=[],a=t.value,o=t.text,s=t.ids,c=t.isSolve;i[0]={id:1,contents:[a]},i[1]={id:2,contents:[o]},e.config.showTags&&(i[2]={id:3,contents:e.config.tags.filter((function(t){return s.includes(t.id)}))}),e.config.showSolve&&(i[3]={id:4,contents:c}),Object.assign(e.config,{editable:!1});var r=e.wpaDetail.kfuin;e.$ajax.post("/v1/qf/report/survey/sendSatisfaction?kfuin=".concat(r),h.a.stringify({kfuin:r,uk:e.originConfig.uk,submit:i}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){var i=(null===t||void 0===t?void 0:t.data)||{},a=i.code,o=i.message,s=0===a?e.$t("chat_feedback_success_msg"):o||e.$t("chat_feedback_error_msg");e.$Toast(s),n(0===a)})).catch((function(t){n(!1),e.$Toast({text:t.message||"提交满意度错误！",type:"error"})}))}))}},{key:"onLoad",value:function(){var t=this;setTimeout((function(){t.isNeedScorll&&p["a"]["scrollToBottom"](!0,0),t.isNeedScorll=!1}),500)}}])}(m["d"]);Object(u["a"])([Object(m["b"])()],v.prototype,"wpaDetail",void 0),Object(u["a"])([Object(m["c"])()],v.prototype,"data",void 0),v=Object(u["a"])([Object(m["a"])({name:"MsgSatisfactionSurvey"})],v);var b=v,_=b,w=(n("ca63"),n("2877")),y=Object(w["a"])(_,i,a,!1,null,null,null);e["default"]=y.exports},"20ff":function(t,e,n){var i={"./BatchMsg.vue":"81e7","./FreeMsg.vue":"277d","./HtmlMsg.vue":"a273","./MarkdownMsg.vue":"d1d7","./ModelMsg.vue":"9a5b","./QlistMsg.vue":"1915","./TableMsg.vue":"e578"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id="20ff"},2148:function(t,e,n){t.exports=n.p+"img/video_line.4604df1d.svg"},"215a":function(t,e,n){},2363:function(t,e,n){"use strict";n("4fe8")},"24bc":function(t,e,n){"use strict";n("28c7")},"26b0":function(t,e,n){"use strict";n("c11c")},"277d":function(t,e,n){"use strict";n.r(e);n("a15b");var i=function(){var t=this,e=t._self._c;return e("div",{attrs:{"data-msg-type":t.msgType}},[1===t.msgType?[t.isBtnList?e("div",[e("div",{staticClass:"btn-title",domProps:{innerHTML:t._s(t.btnListData.title)}}),e("div",{staticClass:"bubble-btn",class:"bubble-btn-cnt-".concat(t.btnListData.list.length),domProps:{innerHTML:t._s(t.btnListData.list.join(""))}})]):e("div",{staticClass:"richmsg-type-5",domProps:{innerHTML:t._s(t.msgContent)}})]:[e("div",{staticClass:"qlist-content"},[e("div",{staticClass:"qlist-title",domProps:{innerHTML:t._s(t.qlist.title)}}),e("div",{staticClass:"qlist-list",domProps:{innerHTML:t._s(t.qlist.list.join(""))}})])]],2)},a=[],o=(n("99af"),n("14d9"),n("fb6a"),n("ac1f"),n("f439")),s=n("d90f"),c=n("5ac5"),r={props:{message:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{msgData:function(){return this.message.content},msgContent:function(){var t=this.message.content.content;return t=s["a"].coverEmojIndex2EmojiImg(Object(o["a"])(t)),t},msgType:function(){return this.message.content.msgType||1},qlist:function(){return this.parseQList(this.msgContent)},isBtnList:function(){return this.msgContent.indexOf("quick-relply-btn")>-1},btnListData:function(){return this.parseBtnList(this.msgContent)}},methods:{parseQList:function(t){var e=/(<a[^>]*?>)(.*?)(<\/a>)/g,n={title:"",list:[]},i=0,a=null;while(a=e.exec(t))0===i&&(i=a.index),a.length>=4&&n.list.push("".concat(a[1],'<span title="').concat(a[2],'">').concat(a[2],"</span>").concat(a[3]));return i&&(n.title=Object(o["a"])(t.slice(0,i))),n},parseBtnList:function(t){var e=/(<a[^>]*?quick-relply-btn[^>]*?>)(.*?)(<\/a>)/g,n={title:"",list:[]},i=0,a=null;while(a=e.exec(t))0===i&&(i=a.index),a.length>=4&&n.list.push("".concat(a[1],'<span title="').concat(a[2],'">').concat(a[2],"</span>").concat(a[3]));return i&&(n.title=Object(o["a"])(t.slice(0,i))),n}},mounted:function(){if(!this.message.fromHisotry&&c["a"].IVHPlayContent){var t=this.$el.querySelector(".richmsg-type-5").innerText;t&&c["a"].IVHPlayContent({playContent:t,msgSeq:this.message.seq,isFinal:!0})}}},l=r,d=(n("b4e8"),n("2877")),u=Object(d["a"])(l,i,a,!1,null,"871c1f04",null);e["default"]=u.exports},"27a3":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("f80b"),a=!0;try{localStorage.setItem("test-qd-localStorage","1")}catch(s){a=!1}var o={getItem:function(t){try{return a?localStorage.getItem(t):i["a"].get(t)}catch(s){return""}},setItem:function(t,e){try{return a?localStorage.setItem(t,e):i["a"].set(t,e,{expires:365})}catch(s){return""}},removeItem:function(t){try{return a?localStorage.removeItem(t):i["a"].remove(t)}catch(s){return""}}}},2809:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA4RJREFUWAndVj1M01EQf/fKh0aCgUHUQQcTqAFaDa5AqV/RBWWTQQedjIOJwmKEopvExMEw6YqJg8oCMRooOJlICBVCIWHQAWQQYqwJ0Pad90rv9fWfftBCiPG/3O8+3t3vf//rvQrxvz0+n6+kkHeShQTni631tPQu/1SDiAj5YtlfEFs+lEnWelt7hFIBJGedt3WWRF+mOKdt9zqAWGmSI/a6vS0dRs8Bdo1AZ4e/GwBGkrVAKTFQ7/NV5KidcO2IAA3cPi4QCARURWnZNQDxbcuGNdFVdY/92WTRBBIDt6qG7amfnPz4S0h4wMUAxX2P58Ih1jPJogjUeZsfCsQATXvbjzX1zE4cnhofFABT2oYCKzZw447td+KiCFDmdU6kFN52N7Y1sU5zgC6Ax6wLwKsGZwBFEZgPfeoXAt4m8wFC/Imdu6YKRojIH22jLjU0NPlP2H4bb5uAc6LLykq6aOCiySJ+t/dsLScOBoPrtA/es74Zi7czdsptEdADF1tVQ/aGm5kcXRQI7zghqtgVxlrSKhxmHRDNJ2Iby7wEdPHkwPlPeny3+KCWVCRFQKjzaT4pF42OeNRgB8hJgIvzGQXqJuOElKVfWKfPcYxxQqJryeggCifgLK6T0bTVm6QEXFXxVBGEtCK5fHaOrB0gB3U49xOLVloxqO+hLE92X1YC4dBEQAL02RkRUN9y5oHInyMpRSwbTCC+5kp1BNJ9dlxWAjrISUKifGkfFip6hnV6x++MExLiKQIoUp8qLUiInAR0LJOgxTI6Fwq+sM9Tz81PD4T8kOZTKrV8AIonwCRKqmW7XrNcJLHdAA0BAXKIfVpS4GXWEWCSsVPm7QAfmA0GI4y13NyM9VPbSzXW3ZkPjc1rrB99TdN0XtzShCgrcaWRY7uW2yZgH6rzNHfRO/IlQ7Pp6rb9K2t4ibbmAW0jcjOJrWkHWLgoAghyP+eQEgbCX8dMi/W6jiP2sJ/WNV9axmSDoggsTI8/0j9Reruxw1Xyrp3Qfbq1k1b3KW0DAZFyKH9u+53YWiROV35df2t983FkU9O5g5HoxjTNxvGEDSCwEJpI2yUcy7KoDvBhuzj9J5SR6OYrU1zASmm1fMqx2aQrm6NQ+9Kq6qfWX0+eQ5qNG3Ofx6fz5dlRBxzJfxud5iM8PfHG6HsF3J6WQF1jy2v7j8te1TZ17L/pxvgvg7/exzMkOlY5EgAAAABJRU5ErkJggg=="},"28c7":function(t,e,n){},2981:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("popup",{ref:"popup",staticClass:"popup",attrs:{show:t.openPop,hideTitle:!0,limitMinHeight:!1},on:{"update:show":function(e){t.openPop=e}}},[e("div",{staticClass:"container"},[e("div",{staticClass:"list"},t._l(t.options,(function(n){return e("div",{staticClass:"checkbox-item",on:{click:function(e){return t.choose(n)}}},[t._v(" "+t._s(n.text)+" ")])})),0)])])},a=[],o=n("7dc1"),s={components:{Popup:o["a"]},data:function(){return{openPop:!1,options:[],choosedValue:[]}},methods:{show:function(t){var e=this;setTimeout((function(){e.openPop=!0}),400),this.options=t.options,this.widgetSymbol=t.widgetSymbol},cancel:function(){this.openPop=!1},choose:function(t){this.openPop=!1,this.$emit("singleSelectChange",{choosed:t,widgetSymbol:this.widgetSymbol})}}},c=s,r=(n("9939"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"46037e28",null);e["a"]=l.exports},"298c":function(t,e,n){t.exports=n.p+"img/open-slide.90207692.svg"},2991:function(t,e,n){"use strict";n("ffc2")},"29a1":function(t,e,n){},"2b42":function(t,e,n){t.exports=n.p+"img/changeBatch.abe0bd70.svg"},"2b4d":function(t,e,n){},"2b8a":function(t,e,n){t.exports=n.p+"img/more.b59a6234.svg"},"2bf8":function(t,e,n){"use strict";var i=n("53ca"),a=n("c14f"),o=n("1da1"),s=n("5530"),c=(n("b1f8"),n("99af"),n("b0c0"),n("a9e3"),n("b64b"),n("ac1f"),n("5319"),n("841c"),n("5087"),n("4328")),r=n.n(c),l=(n("e9c4"),["#0067ed","#4A70FF","#ff9232","#ee685d","#25cd98"]),d=l[1],u="qdim_saas_theme_config-";function m(t){var e=t.bgColor,n="--bg-color: ".concat(e||d,";");return n}function f(t){var e,n,i,a=t.theme,o=t.inputStyleConfig,s=o||{},c=s.themeColor,r=s.backgroundImage,d=s.adaptThemeColor;return c?e=c:""!==a&&(e=l[a]),r&&(n=r.mobile||"",i=r.pc||""),{bgColor:e,h5BgImage:n,pcBgImage:i,adaptThemeColor:d}}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.kfuin,i=u+n,a=null;if(!e){var o={};try{o=JSON.parse(localStorage.getItem(i)||"{}")}catch(d){}return a=f(o),{customStyle:m(a),setting:a}}var s=e.theme,c=e.inputStyleConfig,r=void 0===c?{}:c,l={theme:s,inputStyleConfig:r};try{localStorage.setItem(i,JSON.stringify(l))}catch(d){}return a=f(l),{customStyle:m(a),setting:a}}var p,g=n("d5b4"),v=n("e060"),b=n("4758"),_=n("ea5f"),w=n("e395"),y=(n("c740"),n("caad"),n("14d9"),n("a434"),n("2532"),n("5ac5")),x={data:function(){return{bubbleConfig:{}}},computed:{hasBubble:function(){var t,e,n=this.bubbleConfig,i=n.bubbles,a=n.robotBubbles,o=n.aioUpBubbles,s=i&&i.length,c=!(null===o||void 0===o||null===(t=o.menuJson)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.menu)||void 0===t||null===(t=t.list)||void 0===t||!t.length),r=!(null===a||void 0===a||null===(e=a.menuJson)||void 0===e||null===(e=e.content)||void 0===e||null===(e=e.menu)||void 0===e||null===(e=e.list)||void 0===e||!e.length);return s||c||r}},watch:{reception:{handler:function(t,e){var n=t.robotId,i=t.extuin,a=t.inWaitPool,o=t.largeModelRobotId,s=e.robotId,c=e.extuin,r=e.largeModelRobotId;(n!==s||i!==c||a||o!==r)&&(this.bubbleConfig={},this.getBubbleConfig()),e.inWaitPool&&"{}"===JSON.stringify(t)&&(this.bubbleConfig={})},deep:!0}},methods:{getBubbleConfig:function(){var t=this;return Object(o["a"])(Object(a["a"])().m((function e(){var n,i,o,s,c,l,d,u,m,f,h;return Object(a["a"])().w((function(e){while(1)switch(e.n){case 0:n=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),i=["inputUpInfoForCommon","tools"],o=t.reception,s=o.extuin,c=o.inWaitPool,(t.reception.robotId||t.reception.largeModelRobotId)&&i.push("inputUpInfoForRobot"),(s||c)&&i.push("inputUpInfoForHuman"),l=t.wpaDetail,d=l.kfuin,u=l.wpaId,m=l.visitorid,f=l.key,h={kfuin:n.kfuin||d,robotId:t.reception.robotId||t.reception.largeModelRobotId,type:0,visitorId:m,wpaId:u,fields:i,key:f},y["a"].robotTestMode&&(h.answerTestFlag=!0),Object(_["a"])(h,(function(e){var n=e.inputUpInfoForHuman,i=void 0===n?{}:n,a=e.inputUpInfoForCommon,o=void 0===a?{}:a,s=e.inputUpInfoForRobot,c=void 0===s?{}:s,r=e.tools,l=void 0===r?{}:r;try{var d,u,m,f=l.code,h=l.data,p=void 0===h?{}:h;0===+f&&(t.showInfo.isSurvey=p.isSurvey,t.showInfo.isSurveyValid=p.isSurveyValid,t.showInfo.isShowAudo=p.isShowAudo,t.showInfo=JSON.parse(JSON.stringify(t.showInfo)));var g,v,b=(null===o||void 0===o?void 0:o.data)||{},_=(null===c||void 0===c?void 0:c.data)||{},w=(null===i||void 0===i?void 0:i.data)||{};if(_=t.handleBubbles(_),w=t.handleBubbles(w),b=t.handleBubbles(b),t.bubbleConfig={bubbles:b,robotBubbles:_,aioUpBubbles:w},null!==(d=t.bubbleConfig.aioUpBubbles)&&void 0!==d&&null!==(d=d.menuJson)&&void 0!==d&&null!==(d=d.content)&&void 0!==d&&null!==(d=d.menu)&&void 0!==d&&null!==(d=d.list)&&void 0!==d&&d.length?g="forHuman":b&&b.length&&"null"!==b?g="normal":null!==(u=t.bubbleConfig.robotBubbles)&&void 0!==u&&null!==(u=u.menuJson)&&void 0!==u&&null!==(u=u.content)&&void 0!==u&&null!==(u=u.menu)&&void 0!==u&&null!==(u=u.list)&&void 0!==u&&u.length&&(g="robot"),t.reception.largeModelRobotId&&window.location.href.includes("show_ai_bubble=1")&&!t.$platform.pc&&null!==(m=_)&&void 0!==m&&null!==(m=m.menuJson)&&void 0!==m&&null!==(m=m.content)&&void 0!==m&&null!==(m=m.menu)&&void 0!==m&&m.list)g="robot",null!==(v=_)&&void 0!==v&&null!==(v=v.menuJson)&&void 0!==v&&null!==(v=v.content)&&void 0!==v&&null!==(v=v.menu)&&void 0!==v&&v.list?_.menuJson.content.menu.list.unshift({action:10001,name:window.location.href.indexOf("ai_speaker=1")>-1?"文字客服":"数字人"}):t.bubbleConfig.robotBubbles={color:{color:"#566076",value:0},id:100001,menuJson:{content:{menu:{list:[{action:10001,name:window.location.href.indexOf("ai_speaker=1")>-1?"文字客服":"数字人"}]}}}};t.bubbleConfig.type=g,console.log("bubbleConfig",t.bubbleConfig)}catch(y){}}));case 1:return e.a(2)}}),e)})))()},handleBubbles:function(t){try{var e,n,i=this.reception.inWaitPool,a=null===this||void 0===this||null===(e=this.showInfo)||void 0===e?void 0:e.isSurveyValid,o=(null===(n=t)||void 0===n||null===(n=n.menuJson)||void 0===n||null===(n=n.content)||void 0===n||null===(n=n.menu)||void 0===n?void 0:n.list)||Array.isArray(t)&&t;if(o&&o.length){var s,c=o.findIndex((function(t){var e;return 99===t.action&&1===(null===t||void 0===t||null===(e=t.meta)||void 0===e?void 0:e.type)}));c>-1&&i?o=[o[c]]:c>-1?o.splice(c,1):i&&(o=[]);var r=o.findIndex((function(t){return 99===t.action&&3===t.meta.type}));if(r>-1&&!a&&o.splice(r,1),"commonAuth"!==(null===(s=this.authConf)||void 0===s?void 0:s.authType)){var l=o.findIndex((function(t){return 99===t.action&&5===t.meta.type}));l>-1&&o.splice(l,1);var d=o.findIndex((function(t){return 99===t.action&&4===t.meta.type}));d>-1&&o.splice(d,1)}Array.isArray(t)?t=o:t.menuJson.content.menu.list=o}return t}catch(u){return console.log("handleBubbles_catch",u),t}},hideBubble:function(){this.bubbleConfig={}}}},C=(n("e9f5"),n("7d54"),n("d3b7"),n("07ac"),n("00b4"),n("159b"),n("9de0")),T=n("f80b"),k=n("27a3"),I=n("e490"),M="".concat(location.protocol,"//").concat(location.host).concat(location.pathname.replace(/\w+\.html/,"sso-middle.html")),A={commonAuth:{name:"commonAuthCredential",ssoIframe:!0,appType:99},microsoft:{name:"microsoft",ssoIframe:!0},wx_mp:{name:"wx_mp",ssoIframe:!1,appType:1},wx_mini:{name:"wx_mini",ssoIframe:!1,appType:1},wx_mix:{name:"wx_mix",ssoIframe:!1,appType:1},wx_qy:{name:"wx_qy",ssoIframe:!1,appType:19},wx_qy_qrcode:{name:"wx_qy_qrcode",ssoIframe:!1,appType:19},LingHangTEST:{name:"LingHangTEST",appType:6,ssoIframe:!0,ssoIframeUrl:"/cgi-bin/oauth2/authorize?appid=438274603635200001&response_type=code&state=LingHangTEST&scope=clientapi_base&sid=448745233220476928&authCategory=BUYER&authTenantid=438274603635200000&redirect_uri=".concat(encodeURIComponent(M)),authDomain:"it-blinkapi.cantonfair.org.cn",apiDomain:"it-blinkapi.cantonfair.org.cn"},LingHang:{name:"LingHang",appType:6,ssoIframe:!0,ssoIframeUrl:"/cgi-bin/oauth2/authorize?appid=438274603635200001&response_type=code&state=LingHang&scope=clientapi_base&sid=448745233220476928&authCategory=BUYER&authTenantid=438274603635200000&redirect_uri=".concat(encodeURIComponent(M)),authDomain:"it-blinkapi.cantonfair.org.cn",apiDomain:"it-blinkapi.cantonfair.org.cn"},LingHangPT:{name:"LingHangPT",appType:6,ssoIframe:!0,ssoIframeUrl:"/cgi-bin/oauth2/authorize?appid=461435117139689472&response_type=code&state=LingHang&scope=clientapi_base&sid=465371950647181312&authCategory=BUYER&authTenantid=438274603635200000&redirect_uri=".concat(encodeURIComponent(M)),authDomain:"pt-blinkapi.cantonfair.org.cn",apiDomain:"pt-blinkapi.cantonfair.org.cn"},LingHangOL:{name:"LingHangOL",appType:6,ssoIframe:!0,ssoIframeUrl:"/cgi-bin/oauth2/authorize?appid=461101391566348288&response_type=code&state=LingHang&scope=clientapi_base&sid=463996009396080640&authCategory=BUYER&authTenantid=438274603635200000&redirect_uri=".concat(encodeURIComponent(M)),authDomain:"blinkapi.cantonfair.org.cn",apiDomain:"blinkapi.cantonfair.org.cn"},tencentSSO:{name:"tencentSSO",ssoIframe:!1},commonAuthCredential:{name:"commonAuthCredential",ssoIframe:!1},LingLongTEST:{name:"LingLongTEST",appType:11,ssoIframe:!0,ssoIframeUrl:"/CustomerService.html?state=%257B%2522auth%2522%253A%2522LingLongTEST%2522%257D&redirect_uri=".concat(encodeURIComponent(M)),authDomain:"linglongdev.51autoshop.com"},LingLongUAT:{name:"LingLongUAT",appType:11,ssoIframe:!0,ssoIframeUrl:"/CustomerService.html?state=%257B%2522auth%2522%253A%2522LingLongUAT%2522%257D&redirect_uri=".concat(encodeURIComponent(M)),authDomain:"devshop.linglong.cn"},LingLong:{name:"LingLong",getVidUrlKey:"CHECK_THIRD_VISITORID",appType:11,needGetOpenid:!1,reconnectDoSso:!0,ssoIframe:!0,ssoIframeUrl:"/CustomerService.html?state=%257B%2522auth%2522%253A%2522LingLong%2522%257D&redirect_uri=".concat(encodeURIComponent(M)),redirectUrl:"https://webpage.qidian.qq.com/2/chat/sso-middle/index.html",authDomain:"sms.linglong.cn"},shOnline:{name:"shOnline",getVidUrlKey:"CHECK_THIRD_VISITORID",appType:12,needGetOpenid:!1,reconnectDoSso:!0,ssoIframe:!0,ssoIframeUrl:"/webim/sessionSH/wpaOpen?state=%257B%2522auth%2522%253A%2522shOnline%2522%257D&redirect_uri=https%3A%2F%2Fwebpage.qidian.qq.com%2F2%2Fchat%2Fsso-middle%2Findex.html",redirectUrl:"https://webpage.qidian.qq.com/2/chat/sso-middle/index.html",authDomain:"consolecgi.qidian.qq.com"}},S=n("2ca8"),q=n("2ccf"),O=n("97e5"),D={aid:"qdim_saas_user_id",d2:"qdim_saas_token",uuid:"qdim_saas_uuid"},j="qdim_saas_auth_data",P={data:function(){return{hasLogined:!1}},computed:{currentSaasAidLocalStorageKey:function(){return{aid:"".concat(D.aid,"_").concat(this.wpaDetail.kfuin),d2:"".concat(D.d2,"_").concat(this.wpaDetail.kfuin),uuid:"".concat(D.uuid,"_").concat(this.wpaDetail.kfuin)}},currentAuthDataKey:function(){return"".concat(j,"_").concat(this.wpaDetail.kfuin)}},methods:{createLoginConfig:function(){var t=arguments,e=this;return Object(o["a"])(Object(a["a"])().m((function n(){var i,o,c,l,d,u,m,f,h,p,g,v,b,_,w,y,x,T,M,O,D,j,P,F,R,L,E,N,B,Q,G;return Object(a["a"])().w((function(n){while(1)switch(n.p=n.n){case 0:i=t.length>0&&void 0!==t[0]?t[0]:3,o=e.currentSaasAidLocalStorageKey,c=(I["a"],3),l=Number(e.wpaDetail.kfuin),d=e.authConf.authRedirectUrl,u=e.authConf,m=u.authType,f=u.authData,h=/code=[^&]+/.test(f),p="";try{g=e.authDataToStorage(),p=r.a.parse(f).code||"",m&&p&&null!==g&&void 0!==g&&g.d2&&p!==g.code&&(e.authDataToStorage(null),v=JSON.parse(JSON.stringify(g)),delete v.d2,window.QdMonitor&&window.QdMonitor.log({name:"login_removeSessionStorage",ext1:JSON.stringify(r.a.parse(f)),ext2:JSON.stringify(v)}))}catch(a){console.log("清除失败",a)}if(_=e.authDataToStorage(),w=e.getAccount(),y=r.a.parse(f)||{},x="wx_mp"===m&&!h&&!e.isValidAccount(_)&&1!==Number(y.qdRealName)||!A[m],x&&(m="",e.authConf=Object(s["a"])(Object(s["a"])({},e.authConf),{},{authType:m})),T=!1,b=m&&"tencentSSO"!==m&&"commonAuthCredential"!==m&&!T?_:w,M=!1,e.isValidAccount(b)&&(console.log("[hasCacheAccount]",b),M=!0),!m||"tencentSSO"===m||"commonAuthCredential"===m||T){n.n=1;break}if(O=A[m]||{},D=O.ssoIframe,j=O.ssoIframeUrl,P=O.name,f=Object(S["d"])(f,"auth",P),f+="&wpa_id=".concat(e.wpaDetail.wpaId),M||!(D||"wx_mp"===m&&1===Number(y.qdRealName))||h){n.n=1;break}if(!(j||d||"wx_mp"===m&&1===Number(y.qdRealName))){n.n=1;break}return e.jumptoThirdSiteToAuth(),n.a(2);case 1:return F=r.a.stringify({visitorId:e.wpaDetail.visitorId,nickName:e.wpaDetail.nickName,plat:e.wpaDetail.plat}),n.p=2,n.n=3,C["c"].createVisitor({appid:c,kfuin:l,userAgent:null===(L=navigator)||void 0===L?void 0:L.userAgent,extendData:F},b,{authType:m,authData:f});case 3:R=n.v,n.n=13;break;case 4:if(n.p=4,G=n.v,E=JSON.parse(JSON.stringify(b)),delete E.d2,window.QdMonitor&&window.QdMonitor.log({name:"login_fail",ext1:JSON.stringify(Object(s["a"])(Object(s["a"])({appid:c,kfuin:l},E),{authType:m,authData:f})),ext2:JSON.stringify(G)}),!e.inIframe||"tencentSSO"!==m&&"commonAuthCredential"!==m){n.n=5;break}return window.parent.postMessage({act:"ERROR_AUTH",data:{visitorid:R&&R.aid||e.wpaDetail.visitorid,token:R&&R.d2,kfuin:l,wpaId:e.wpaDetail.wpaId,wpaKey:e.wpaDetail.key}},"*"),n.a(2);case 5:if(10017!==G.code&&600017!==G.code){n.n=10;break}if(!m){n.n=7;break}if(e.authDataToStorage(null),10017!==G.code||!(null!==(N=A[m])&&void 0!==N&&N.ssoIframeUrl||d||"wx_mp"===m&&1===Number(y.qdRealName))){n.n=6;break}return e.jumptoThirdSiteToAuth(),n.a(2);case 6:n.n=9;break;case 7:if(e.clearAccount(),i-=1,!(i>0)){n.n=9;break}return n.n=8,e.createLoginConfig(i);case 8:return n.a(2,n.v);case 9:n.n=12;break;case 10:if(6e4!==G.code){n.n=11;break}return q["a"].add({method:"[createLoginConfig-60000]",message:{authType:m,authData:f},url:location.href}),location.href.indexOf("auth=commonAuth")>-1?window.location.replace(location.href.replace(/auth=commonAuth/i,"")):window.location.replace(location.href.replace(/auth=microsoft/i,"")),n.a(2);case 11:G.code;case 12:return n.a(2,Promise.resolve({code:G.code,message:G.message}));case 13:if(e.storeFetchCodeTimes("del"),B=JSON.parse(JSON.stringify(b)),Q=JSON.parse(JSON.stringify(R)),delete B.d2,delete Q.d2,window.QdMonitor&&window.QdMonitor.log({name:"login",ext1:JSON.stringify(Object(s["a"])(Object(s["a"])({appid:c,kfuin:l},B),{authType:m,authData:f})),ext2:JSON.stringify(Q)}),m)!R.userInfo&&_.userInfo&&(R.userInfo=_.userInfo),R.userInfo?e.authDataToStorage({aid:R.aid,d2:R.d2,userInfo:R.userInfo,code:p}):e.authDataToStorage({aid:R.aid,d2:R.d2,code:p});else if(e.inIframe)window.parent.postMessage({act:"UPDATE_AUTH",data:{visitorid:R.aid,token:R.d2,kfuin:l,wpaId:e.wpaDetail.wpaId}},"*");else try{R.aid?k["a"].setItem(o.aid,R.aid):k["a"].removeItem(o.aid),R.d2?k["a"].setItem(o.d2,R.d2):k["a"].removeItem(o.d2)}catch(z){console.log("防止无痕模式iframe中的localStorage报错",z)}return n.a(2,Object(s["a"])(Object(s["a"])({},R),{},{appid:c}))}}),n,null,[[2,4]])})))()},clearAccount:function(){if(this.inIframe)this.wpaDetail.visitorid="",this.wpaDetail.uuid="",this.wpaDetail.token="";else{var t=this.currentSaasAidLocalStorageKey;try{Object.values(t).forEach((function(t){k["a"].removeItem(t)}))}catch(e){}}},getAccount:function(){var t={};if(this.inIframe)t={aid:this.wpaDetail.visitorid,uuid:this.wpaDetail.uuid,d2:this.wpaDetail.token};else{var e=this.currentSaasAidLocalStorageKey;try{t.aid=k["a"].getItem(e.aid)||"",t.d2=k["a"].getItem(e.d2)||"",t.uuid=k["a"].getItem(e.uuid)||""}catch(n){t.aid="",t.d2="",t.uuid=""}}return this.hasLogined=!0,t},getTenecntSig:function(){try{var t="tencentSig",e=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),n=e.visitorId?e.visitorId:T["a"].get(t);return/^\d+$/.test(n)||(n=""),n||(n=localStorage.getItem(t)),n||""}catch(i){return""}},authDataToStorage:function(t){var e=this.currentAuthDataKey;if(t)try{sessionStorage.setItem(e,JSON.stringify(t))}catch(n){}else if(null===t)try{sessionStorage.removeItem(e)}catch(n){}else try{return JSON.parse(sessionStorage.getItem(e)||"{}")}catch(n){return{}}},jumptoThirdSiteToAuth:function(){if(!this.inIframe)if(!1!==this.storeFetchCodeTimes("retry")){var t=this.authConf,e=t.authType,n=t.authRedirectUrl,i=A[e],a=i.authDomain,o=i.ssoIframeUrl;if("wx_mp"!==e)if("microsoft"!==e){var s;n&&(s=Object(S["b"])(n,"redirect_uri",M));var c=s||"https://".concat(a).concat(o),r=window.location.href;r=Object(S["c"])(r,"code"),r=Object(S["c"])(r,"response_type"),r=Object(S["c"])(r,"session_state"),r=Object(S["c"])(r,"scope"),r=Object(S["c"])(r,"nonce"),r=Object(S["c"])(r,"msgInfo");var l=c+encodeURIComponent("?queryString=".concat(encodeURIComponent(r)));q["a"].add({method:"[jumptoThirdSiteToAuth]",message:{authType:e,redirectUrl:l},url:location.href},6e4),window.location.replace(l)}else this.jumpToGetCodeFromMs();else this.jumpToGetCodeFormWx()}else{var d;null===(d=this.$refs)||void 0===d||null===(d=d.aio)||void 0===d||d.showIncomingTimeout()}},hanldErrorForD2:function(t){console.log("[hanldErrorForD2]",t)},storeFetchCodeTimes:function(t){var e=2,n=this.wpaDetail,i=n.kfuin,a=n.wpaId,o="qdim_fetch_code_times_".concat(i,"_").concat(a);try{if("retry"===t){var s=sessionStorage.getItem(o)||0;return s=s-0+1,sessionStorage.setItem(o,s),!(s>e)||(sessionStorage.removeItem(o),!1)}"del"===t&&sessionStorage.removeItem(o)}catch(c){return!1}},isValidAccount:function(t){return!!(t&&t.aid&&t.d2)},jumpToGetCodeFormWx:function(){var t=this,e=this.authConf,n=e.authType,i=e.authData,a=r.a.parse(i)||{};if(a&&1===Number(a.qdRealName)){var o=this.wpaDetail,s=o.kfuin,c=o.wpaId,l=o.key;this.$ajax.post("".concat(O["q"],"?kfuin=").concat(s),{id:Number(c),key:l}).then((function(e){var i=(null===e||void 0===e?void 0:e.data)||{},o=i.code,s=i.data;if(0===o&&null!==s&&void 0!==s&&s.shortLink){var c=Object(S["b"])(s.shortLink,"qdRealName","1");a.reception_type&&(c=Object(S["b"])(c,"reception_type",a.reception_type)),a.reception_id&&(c=Object(S["b"])(c,"reception_id",a.reception_id)),a.qidian_ex1&&(c=Object(S["b"])(c,"qidian_ex1",a.qidian_ex1)),a.qidian_ex2&&(c=Object(S["b"])(c,"qidian_ex2",a.qidian_ex2)),a.qidian_ex3&&(c=Object(S["b"])(c,"qidian_ex3",a.qidian_ex3)),a.qidian_ex4&&(c=Object(S["b"])(c,"qidian_ex4",a.qidian_ex4)),a.qidian_ex5&&(c=Object(S["b"])(c,"qidian_ex5",a.qidian_ex5)),a.qidian_ex6&&(c=Object(S["b"])(c,"qidian_ex6",a.qidian_ex6)),a.qidian_ex7&&(c=Object(S["b"])(c,"qidian_ex7",a.qidian_ex7)),a.wpaShowItemId&&(c=Object(S["b"])(c,"wpaShowItemId",a.wpaShowItemId)),a.DisplayinAIO&&(c=Object(S["b"])(c,"DisplayinAIO",a.DisplayinAIO)),a.mini_mode&&(c=Object(S["b"])(c,"mini_mode",a.mini_mode));var r="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(a.appid)+"&redirect_uri=https%3A%2F%2Fadmin.qidian.qq.com%2Ftemplate%2Fblue%2Fmp%2Fwebim%2Fwx-jump.html"+"&response_type=code&scope=snsapi_base&state=".concat(encodeURIComponent(c))+"&component_appid=".concat("oawebpage.qidian.qq.com"===window.location.host?"wxa15b1b974c057af4":"wxfce1ea6275ab07ac","#wechat_redirect");q["a"].add({method:"[jumptoThirdSiteToAuth_wx_mp]",message:{authType:n,wxRedirectUrl:r},url:window.location.href},1e5),window.location.replace(r)}else{var l;null===(l=t.$refs)||void 0===l||null===(l=l.aio)||void 0===l||l.showIncomingTimeout(),t.storeFetchCodeTimes("del"),window.QdMonitor&&window.QdMonitor.log({name:"[jumptoThirdSiteToAuth_wx_mp_error]",ext1:JSON.stringify({authType:n,res:e}),ext2:window.location.href})}})).catch((function(e){var i;null===(i=t.$refs)||void 0===i||null===(i=i.aio)||void 0===i||i.showIncomingTimeout(),t.storeFetchCodeTimes("del"),window.QdMonitor&&window.QdMonitor.log({name:"[jumptoThirdSiteToAuth_wx_mp_error]",ext1:JSON.stringify({error:e,authType:n}),ext2:location.href})}))}},jumpToGetCodeFromMs:function(){var t=this,e=this.authConf,n=e.authType,i=e.authData,a=e.authRedirectUrl,o=r.a.parse(i)||{},s=this.wpaDetail,c=s.kfuin,l=s.wpaId,d=s.key;this.$ajax.post("".concat(O["q"],"?kfuin=").concat(c),{id:Number(l),key:d}).then((function(e){var i=(null===e||void 0===e?void 0:e.data)||{},s=i.code,c=i.data;if(0===s&&null!==c&&void 0!==c&&c.shortLink){var r,l,d=c.shortLink,u=["linkType","env","kfuin","fid","key","cate","source","isLBS","isCustomEntry","type","ftype","_type","qidian","translateSwitch","isSsc","roleValue","roleData","auth","code"];if(Object.keys(o).forEach((function(t){u.includes(t)||(d=Object(S["b"])(d,t,o[t]))})),!a)return null===(r=t.$refs)||void 0===r||null===(r=r.aio)||void 0===r||r.showIncomingTimeout(),t.$Alert("缺少微软鉴权的必要参数，请联系平台管理员"),void t.storeFetchCodeTimes("del");l="https://webpage.qidian.qq.com/qidian/chatv3/ms-jump.html";var m="".concat(a,"&redirect_uri=").concat(encodeURIComponent(l))+"&response_type=code&scope=openid&state=".concat(encodeURIComponent(d));q["a"].add({method:"[jumptoThirdSiteToAuth_microsoft]",message:{authType:n,msRedirectUrl:m},url:window.location.href},1e5),window.location.replace(m)}else{var f;null===(f=t.$refs)||void 0===f||null===(f=f.aio)||void 0===f||f.showIncomingTimeout(),t.storeFetchCodeTimes("del"),window.QdMonitor&&window.QdMonitor.log({name:"[jumptoThirdSiteToAuth_microsoft_error]",ext1:JSON.stringify({authType:n,res:e}),ext2:window.location.href})}})).catch((function(e){var i;null===(i=t.$refs)||void 0===i||null===(i=i.aio)||void 0===i||i.showIncomingTimeout(),t.storeFetchCodeTimes("del"),window.QdMonitor&&window.QdMonitor.log({name:"[jumptoThirdSiteToAuth_microsoft_error]",ext1:JSON.stringify({error:e,authType:n}),ext2:location.href})}))}}},F=function(){var t=this,e=t._self._c;return e("div",{ref:"chatBubble",class:["chat-bubble",t.isMobile?"":"chat-bubble-pc",t.moreHeight?"more-height":""]},["normal"===t.bubbleConfig.type?e("div",{staticClass:"chat-list-show-box normal"},t._l(t.bubbleConfig.bubbles,(function(n,i){return e("span",{key:i,staticClass:"list-msg",on:{click:function(e){return t.onClickNormal(n)}}},[t._v(t._s(n.text))])})),0):"robot"===t.bubbleConfig.type?e("div",{staticClass:"chat-list-show-box robot",style:"right: "+t.right+"px"},[t._l(t.bubbleConfig.robotBubbles.menuJson.content.menu.list,(function(n,i){return[5===n.action?e("message-link",{key:i,staticClass:"list-msg",style:t.listMsgStyle,attrs:{link:{url:"qdweb://webim/message/ext2robotsendc2b?content=".concat(t.textToUnicode(n.name),"&ext=").concat(t.textToUnicode(JSON.stringify(n))),text:n.name,canClickAgain:!0}}}):e("span",{key:i,staticClass:"list-msg",style:t.listMsgStyle,on:{click:function(e){return t.onClickRobot(n,e)}}},[t._v(t._s(n.name))])]}))],2):"forHuman"===t.bubbleConfig.type?e("div",{staticClass:"chat-list-show-box forHuman",style:"right: "+t.right+"px"},[t._l(t.bubbleConfig.aioUpBubbles.menuJson.content.menu.list,(function(n,i){return[e("span",{key:i,staticClass:"list-msg",style:t.listMsgStyle,on:{click:function(e){return t.onClickAioUpBubble(n,e)}}},[t._v(t._s(n.name))])]}))],2):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile&&t.rightStatus,expression:"!isMobile && rightStatus"}],staticClass:"right-btn icon-arrow-right",on:{click:t.moveRight}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile&&t.leftStatus,expression:"!isMobile && leftStatus"}],staticClass:"left-btn icon-arrow-left",on:{click:t.moveLeft}})])},R=[],L=n("3b97"),E=n("88ab"),N=n("7b05"),B=n("d90f"),Q=n("6e0c"),G=n("f5db"),z=n("60ce"),U=n("9ec0"),H={name:"message-bubble",mixins:[L["a"]],inject:["globalData","wpaDetail"],props:{bubbleConfig:{type:Object,default:function(){return{}}}},components:{MessageLink:E["a"]},computed:{isMobile:function(){return!this.$platform.pc},robotTestMode:function(){return y["a"].robotTestMode},moreHeight:function(){return this.isMobile&&this.robotTestMode},listMsgStyle:function(){var t,e,n,i,a,o,s,c;return"robot"===this.bubbleConfig.type?null!==(n=this.bubbleConfig)&&void 0!==n&&null!==(n=n.robotBubbles)&&void 0!==n&&null!==(n=n.color)&&void 0!==n&&n.borderAdaptTextColor?{color:(null===(a=this.bubbleConfig)||void 0===a||null===(a=a.robotBubbles)||void 0===a||null===(a=a.color)||void 0===a?void 0:a.color)||"rgba(0, 1, 10, 0.93)","border-color":(null===(o=this.bubbleConfig)||void 0===o||null===(o=o.robotBubbles)||void 0===o||null===(o=o.color)||void 0===o?void 0:o.color)||"rgba(17, 32, 70, 0.13)"}:{color:(null===(i=this.bubbleConfig)||void 0===i||null===(i=i.robotBubbles)||void 0===i||null===(i=i.color)||void 0===i?void 0:i.color)||"rgba(0, 1, 10, 0.93)"}:null!==(t=this.bubbleConfig)&&void 0!==t&&null!==(t=t.aioUpBubbles)&&void 0!==t&&null!==(t=t.color)&&void 0!==t&&t.borderAdaptTextColor?{color:(null===(s=this.bubbleConfig)||void 0===s||null===(s=s.aioUpBubbles)||void 0===s||null===(s=s.color)||void 0===s?void 0:s.color)||"rgba(0, 1, 10, 0.93)","border-color":(null===(c=this.bubbleConfig)||void 0===c||null===(c=c.aioUpBubbles)||void 0===c||null===(c=c.color)||void 0===c?void 0:c.color)||"rgba(17, 32, 70, 0.13)"}:{color:(null===(e=this.bubbleConfig)||void 0===e||null===(e=e.aioUpBubbles)||void 0===e||null===(e=e.color)||void 0===e?void 0:e.color)||"rgba(0, 1, 10, 0.93)"}}},data:function(){return{type:"robot",right:0,leftStatus:!1,rightStatus:!1}},mounted:function(){var t=this;this.initArrow(),this.handleResize=Object(Q["a"])((function(){t.initArrow()}),200),window.addEventListener("resize",this.handleResize),Object(N["a"])()<N["b"]&&y["a"].scrollToBottom()},beforeDestory:function(){window.removeEventListener("resize",this.handleResize)},methods:{onClickNormal:function(t){Object(G["b"])(t.url)},onClickRobot:function(t,e){var n,i,a;99!==Number(t.action)||4!==(null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.type)&&5!==(null===t||void 0===t||null===(i=t.meta)||void 0===i?void 0:i.type)||e.stopPropagation();var o,s=JSON.parse(JSON.stringify(t));(this.globalData.reception.largeModelRobotId&&s.action===z["c"].IMGTXT&&s.meta.articles&&(s.meta.articles={}),s.action===z["c"].ACTION_WEB&&null!==(a=s.meta)&&void 0!==a&&a.path)&&(s.action=z["c"].WEB,s.meta.url=null===(o=s.meta)||void 0===o?void 0:o.path);this.handleAction(s,{robot_nav_id:this.bubbleConfig.robotBubbles.id,robot_nav_name:"输入框上方互动导航"},this.globalData.reception.robotId||this.globalData.reception.largeModelRobotId)},onClickAioUpBubble:function(t,e){var n,i,a=this;console.log("[onClickAioUpBubble info]",t),99!==Number(t.action)||4!==(null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.type)&&5!==(null===t||void 0===t||null===(i=t.meta)||void 0===i?void 0:i.type)||e.stopPropagation();var o=Number(t.action),s=t.meta&&t.meta.path||"";switch(o){case z["a"].ACTION_REPLY:this.handleAioBubbleAction(t);break;case z["a"].ACTION_VISITOR:y["a"].sendTextMessage(B["a"].coverEmojIndex2EmojiName(t.meta.replyText)),this.handleAioBubbleAction(t);break;case z["a"].ACTION_WEB:Object(G["b"])(s),this.handleAioBubbleAction(t);break;case z["a"].ACTIVE_FEEDBACK:this.$parent.activeFeedback(),this.handleAioBubbleAction(t);break;case z["a"].CLOSE_SESSION:this.$parent.closeSession().then((function(){a.handleAioBubbleAction(t)})).catch((function(){}));break;case z["a"].SYSTEM_ACTION:this.handleSystemAction(t);break}},handleAioBubbleAction:function(t){var e,n,i=t.action,a=t.meta,o=void 0===a?{}:a,s=o.replyType,c={QidianKfUin:this.wpaDetail.kfuin,menuName:encodeURIComponent(t.name),navId:null===this||void 0===this||null===(e=this.bubbleConfig)||void 0===e||null===(e=e.aioUpBubbles)||void 0===e?void 0:e.id};i===z["a"].ACTION_REPLY?(n="mqqwpa://im/qdmenu?version=1&src_type=app&isNeedReply=true",c.replyType=s,s===z["b"].REPLY_TXT?c.replyText=encodeURIComponent(o.replyText):c.materialId=o.materialId):(n="mqqwpa://im/qdmenu?version=1&src_type=app&isNeedReply=false",c.replyType=22);var r="".concat(n).concat(B["a"].objToUrlParams(c));console.log("handleAioBubbleAction",r),Object(G["b"])(r)},initArrow:function(){var t;p=null===(t=this.$refs)||void 0===t||null===(t=t.chatBubble)||void 0===t?void 0:t.querySelector(".chat-list-show-box"),p&&(p.scrollWidth>p.clientWidth?this.rightStatus=!0:(this.moveRight(),this.rightStatus=!1,this.leftStatus=!1))},moveLeft:function(){p&&(p&&"undefined"!==typeof p.scrollWidth&&p.scrollWidth-this.right<=p.clientWidth?(this.leftStatus=!0,this.rightStatus=!0,this.right-=p.clientWidth,this.right<0&&(this.leftStatus=!1,this.right=0)):(this.leftStatus=!1,this.rightStatus=!0,this.right=0))},moveRight:function(){p&&(p.scrollWidth-p.clientWidth-this.right>=p.clientWidth?(this.rightStatus=!0,this.leftStatus=!0,this.right+=p.clientWidth):(this.rightStatus=!1,this.leftStatus=!0,this.right=p.scrollWidth-p.clientWidth))},handleSystemAction:function(t,e){var n,i=this;console.log("info",t);var a=null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.type;if(a){var o=function(){e?i.urlClickReport(e):i.handleAioBubbleAction(t)};switch(a){case 1:y["a"].exitQueue().then((function(){o()})).catch((function(){}));break;case 2:this.$parent.closeSession().then((function(){o()})).catch((function(){}));break;case 3:this.$parent.activeFeedback(),o();break;case 4:this.$parent&&this.$parent.activeBussiness&&this.$parent.activeBussiness("orderListBtn"),o();break;case 5:this.$parent&&this.$parent.activeBussiness&&this.$parent.activeBussiness("goodsListBtn"),o();break;default:this.$Toast("暂不支持的type类型");break}}else this.$Toast("暂不支持的type类型")},textToUnicode:function(t){return Object(U["d"])(t)}}},W=H,J=(n("dedc"),n("2877")),Y=Object(J["a"])(W,F,R,!1,null,"946cfef4",null),V=Y.exports,X=function(){var t=this,e=t._self._c;return t.inputContent?e("div",{staticClass:"msg-auto-complete"},[t.isMobile&&!t.isPcWechatMiniProgram?e("ul",t._l(t.list,(function(n,i){return e("li",{key:i,on:{touchstart:function(e){return e.stopPropagation(),t.onClickMsg(n)}}},[e("span",{class:t.onlineEllipsis?"text online-ellipsis":"text"},[e("i",{staticClass:"icon-q"}),t._v(t._s(n.question))])])})),0):e("ul",t._l(t.list,(function(n,i){return e("li",{key:i,on:{click:function(e){return e.stopPropagation(),t.onClickMsg(n)}}},[e("span",{class:t.onlineEllipsis?"text online-ellipsis":"text"},[e("i",{staticClass:"icon-q"}),t._v(t._s(n.question))])])})),0)]):t._e()},K=[],Z=(n("498a"),{inject:["wpaDetail"],props:{config:{default:function(){return{}}},inputContent:{default:""}},computed:{onlineEllipsis:function(){var t;return 5===(null===(t=this.config)||void 0===t?void 0:t.count)},isMobile:function(){return!this.$platform.pc},isPcWechatMiniProgram:function(){var t;return null===(t=this.$platform)||void 0===t?void 0:t.PcWechatMiniProgram}},data:function(){return{list:[]}},watch:{inputContent:function(t){this.inputChange(t)},isMobile:function(){return!this.$platform.pc}},mounted:function(){},created:function(){},methods:{inputChange:Object(Q["a"])((function(t){this.onChatInputChange(t)}),300),onChatInputChange:function(t){var e,n,i=this;if(0!==t.trim().length){var a={inner_appid:10002,kfuin:this.config.kfuin,type:2,index:1,count:this.config.count||3,keyword:t,robotId:this.config.robotId,contactId:+new Date,channel:5,channelType:3,wpaId:(null===(e=this.wpaDetail)||void 0===e?void 0:e.wpaId)&&Number(null===(n=this.wpaDetail)||void 0===n?void 0:n.wpaId)};this.$ajax.get(O["y"],{params:a}).then((function(t){var e=t.data.data&&t.data.data.records?t.data.data.records:[];console.log(t,e),e.forEach((function(t){t.question=i.html2text(t.question)})),i.list=e})).catch((function(){}))}else this.list=[]},html2text:function(t){return t.replace(/<[^>]+>/gi,"")},onClickMsg:function(t){this.list=[],this.$emit("onSelected",t)}}}),$=Z,tt=(n("8539"),Object(J["a"])($,X,K,!1,null,"7c7cd326",null)),et=tt.exports,nt=function(){var t=this,e=t._self._c;return t.showQuickOrderCard?e("div",{class:["quick-order-card",t.html?"has-html":""]},[e("div",{ref:"quickCard",staticClass:"xml-card",domProps:{innerHTML:t._s(t.html)}}),t.errorToast?e("div",{staticClass:"toast-ec-card-error"},[t._v(t._s(t.toastMsg))]):t._e()]):t._e()},it=[],at=n("3835"),ot=(n("d9e2"),n("8a2f")),st=n("0d3f"),ct=n("94ea"),rt=n("126a"),lt={name:"QuickOrderCard",props:{sessionStart:{type:Boolean,default:!1},wpaDetail:{type:Object,default:function(){return{}}},authConf:{type:Object,default:function(){return{}}}},data:function(){return{scene:null,sceneArgs:null,userClosed:!1,hasRequested:!1,toastMsg:"",errorToast:!1,toastTimer:null,html:""}},computed:{showQuickOrderCard:function(){return Boolean(this.scene)&&!this.userClosed},kfuin:function(){return this.wpaDetail.kfuin||""},secretKey:function(){return this.wpaDetail.token||""},visitorId:function(){return this.wpaDetail.visitorid||""},channelType:function(){return 4}},watch:{sessionStart:{handler:function(t){this.showQuickOrderCard&&!this.hasRequested&&t&&(this.authConf.authType?(this.hasRequested=!0,this.getQuickOrderCard()):this.userClosed=!0)},immediate:!0}},created:function(){this.getUrlSceneParams()},methods:{getUrlSceneParams:function(){var t=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),e=t.scene,n=t.sceneArgs;this.scene=Number(e)||null,this.sceneArgs=n||null},showToast:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"该功能不可用";this.toastMsg=e,this.errorToast=!0,this.toastTimer&&clearTimeout(this.toastTimer),this.toastTimer=setTimeout((function(){t.errorToast=!1,t.toastMsg="",t.toastTimer=null,t.userClosed=!0}),2500)},getQuickOrderCard:function(){var t=this,e={scene:this.scene,sceneArgs:this.sceneArgs,channelType:this.channelType};rt["a"].post("".concat(O["p"],"?kfuin=").concat(this.kfuin),e).then((function(e){var n=e.data,i=n.code,a=n.message,o=n.data,s=0;if(i!==s)throw Object.assign(new Error(a),{code:i});var c=o.xmlCard,r=o.xmlMsg,l=Object(ot["d"])(c),d=Object(at["a"])(l,2),u=d[0],m=d[1],f=Object(ot["e"])(u),h=Object(ot["f"])(f),p=Object(ct["b"])(h);t.html=p,t.$nextTick((function(){Object(st["a"])(t.$refs.quickCard,h,m,{__onlineGoodsObj:{scene:t.scene,sceneArgs:t.sceneArgs,channelType:4,infoUrl:O["p"],tempXml:r}}),t.$refs.quickCard.firstElementChild.addEventListener("click",(function(){t.userClosed=!0}))}))})).catch((function(e){var n=e.code,i=e.message;[62005,62006].includes(n)?t.showToast():t.showToast(i)}))}}},dt=lt,ut=(n("4310"),Object(J["a"])(dt,nt,it,!1,null,null,null)),mt=ut.exports,ft=(n("fb6a"),function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade",duration:300}},[t.show?e("div",{ref:"goodsList",staticClass:"modal-goods-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.errorShow,expression:"!errorShow"}],staticClass:"modal",on:{click:function(t){return t.stopPropagation(),function(){}.apply(null,arguments)}}},[e("div",{ref:"modalCt",staticClass:"modal__xml-box"},[e("div",{staticClass:"xml__header"},[e("div",{staticClass:"xml__title"},[e("div",{staticClass:"xml__text"},[t._v("请选择您要咨询的商品")]),e("div",{staticClass:"xml__close",on:{click:function(e){return e.stopPropagation(),t.hide.apply(null,arguments)}}},[e("img",{staticClass:"icon-arrow-down",attrs:{src:n("9cdd")}})])]),e("div",{staticClass:"xml__tabs"},t._l(t.ecQuickMenu.goodsTab,(function(n){return e("div",{key:n.key,class:["tabs__item",t.params.tab===n.key?"tabs__item--active":""]},[e("div",{staticClass:"tabs__item__name",on:{click:function(e){return t.changeTab(n)}}},[t._v(" "+t._s(n.name)+" ")])])})),0)]),e("div",{staticClass:"xml__body"},[t._l(t.listData,(function(n){return e("div",{key:n.id,staticClass:"im-product-list-item xml__item",on:{click:function(e){return t.jumpDetail(n.jumpURL,n.shareAppPath)}}},[e("div",{staticClass:"list-item-left"},[e("img",{staticClass:"item-cover",attrs:{src:n.image}})]),e("div",{staticClass:"list-item-right"},[e("div",{staticClass:"item-name"},[t._v(t._s(n.title))]),n.inventoryCustom||null!==n.inventory?e("div",{staticClass:"item-tag"},[n.inventoryCustom?e("span",[t._v(t._s(n.inventoryCustom))]):null!==n.inventory?e("span",[t._v("库存:"+t._s(n.inventory))]):t._e()]):t._e(),n.salesCustom||null!==n.sales?e("div",{staticClass:"item-tag"},[n.salesCustom?e("span",[t._v(t._s(n.salesCustom))]):null!==n.sales?e("span",[t._v("销量:"+t._s(n.sales))]):t._e()]):t._e(),t._l(n.userDefinedFields,(function(n,i){return[n.value?e("div",{key:i,staticClass:"item-custom"},[t._v(t._s(n.value))]):t._e()]})),n.price?e("div",{staticClass:"item-price"},[t._v(t._s(n.currencyUnit)+t._s(n.price))]):t._e()],2),e("div",{staticClass:"list-item-btn",on:{click:function(e){return e.stopPropagation(),t.sendMsg(n)}}},[e("div",{staticClass:"list-item-btn-text"},[t._v(t._s(n.sendButtonText?n.sendButtonText.slice(0,4):"发送"))])])])})),0===t.listData.length?e("div",{staticClass:"im-ecommerce-empty-list"},[e("div",{staticClass:"im-ecommerce-empty-list-inner"},[e("img",{staticClass:"empty-list-img",attrs:{src:n("fe1a")}}),e("p",{staticClass:"empty-list-text"},[t._v("暂无商品")])])]):t._e()],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasNextPage,expression:"hasNextPage"}],staticClass:"xml__footer",on:{click:function(e){return e.stopPropagation(),t.nextPage.apply(null,arguments)}}},[t._v(" 点击加载更多 "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"icon-more anim-rotate",attrs:{src:n("dbf9")}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorShow,expression:"errorShow"}],staticClass:"toast-goods--error"},[t._v(" "+t._s(t.errorMessage||"该功能不可用")+" ")])]):t._e()])}),ht=[],pt="/v1/commerce/c/item/list",gt={goods:1,order:2};function vt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scene:1,robotId:"",channelType:4,tab:1,page:1,pageSize:10},e=pt;return rt["a"].post(e,t).then((function(t){var e={code:0,message:"",total:0,data:[]};return 0===t.data.code?(e.total=t.data.data.total,e.data=t.data.data.data):(e.code=t.data.code,e.message=t.data.message),e})).catch((function(t){throw t}))}var bt=n("7273"),_t={mixins:[],inject:["globalData","to","MsgType","IMSDKType"],props:{value:{type:Boolean,default:!1},ecQuickMenu:{type:Object,default:function(){return{goodsTab:[],orderTab:[]}}},wpaDetail:{type:Object,default:function(){return{}}}},components:{},computed:{isMobile:function(){return!this.$platform.pc},hasNextPage:function(){return!(this.listData.length>=this.total)}},data:function(){return{show:this.value,loading:!1,errorShow:!1,errorMessage:"",total:0,listData:[],params:{scene:1,robotId:this.globalData.reception.extuin,channelType:4,tab:"",page:1,pageSize:10}}},watch:{value:function(){this.show=this.value},show:function(t){this.$emit("input",this.show),t?(""===this.selectTab&&this.ecQuickMenu.goodsTab.length>0&&(this.selectTab=this.ecQuickMenu.goodsTab[0].key),""!==this.selectTab&&(this.reset(),this.getList()),document.addEventListener("click",this.hide)):document.removeEventListener("click",this.hide)}},created:function(){},mounted:function(){},beforeDestory:function(){document.removeEventListener("click",this.hide)},methods:{reset:function(){this.errorShow=!1,this.params.tab=this.ecQuickMenu.goodsTab.length>0?this.ecQuickMenu.goodsTab[0].key:"",this.params.page=1,this.listData=[]},getList:function(){var t=this;this.loading||(this.loading=!0,vt(this.params).then((function(e){0===e.code?(t.total=e.total,t.listData=t.listData.concat(e.data)):(t.errorShow=!0,t.errorMessage=e.message),t.loading=!1})).catch((function(e){console.log("error",e),t.errorMessage="",t.errorShow=!0,t.loading=!1})))},nextPage:function(){this.hasNextPage&&(this.params.page=this.params.page+1,this.getList())},changeTab:function(t){t.key!==this.params.tab&&(this.reset(),this.params.tab=t.key,this.getList())},sendMsg:function(t){this.hide(),this.$parent.sendQDXMLMessage({qdxml:{content:t.xmlMsg,brief:"零售电商卡片消息"}},null,{robot_ctrl:{str_ext2robot:JSON.stringify({scene:gt.goods,extRobotType:4})}})},hide:function(t){this.show=!1},jumpDetail:function(t,e){t?window.open(t):e&&Object(bt["a"])(e)}}},wt=_t,yt=(n("8c5f"),Object(J["a"])(wt,ft,ht,!1,null,"7705411d",null)),xt=yt.exports,Ct=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade",duration:300}},[t.show?e("div",{ref:"goodsList",staticClass:"modal-goods-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.errorShow,expression:"!errorShow"}],staticClass:"modal",on:{click:function(t){return t.stopPropagation(),function(){}.apply(null,arguments)}}},[e("div",{ref:"modalCt",staticClass:"modal__xml-box"},[e("div",{staticClass:"xml__header"},[e("div",{staticClass:"xml__title"},[e("div",{staticClass:"xml__text"},[t._v("请选择您要咨询的订单")]),e("div",{staticClass:"xml__close",on:{click:function(e){return e.stopPropagation(),t.hide.apply(null,arguments)}}},[e("img",{staticClass:"icon-arrow-down",attrs:{src:n("9cdd")}})])]),e("div",{staticClass:"xml__tabs"},t._l(t.ecQuickMenu.orderTab,(function(n){return e("div",{key:n.key,class:["tabs__item",t.params.tab===n.key?"tabs__item--active":""]},[e("div",{staticClass:"tabs__item__name",on:{click:function(e){return t.changeTab(n)}}},[t._v(" "+t._s(n.name)+" ")])])})),0)]),e("div",{staticClass:"xml__body"},[t._l(t.listData,(function(i){return e("div",{key:i.id,staticClass:"im-order-wrapper xml__item",on:{click:function(e){return t.jumpDetail(i.jumpURL,i.shareAppPath)}}},[e("div",{staticClass:"im-order-head"},[i.shopName?e("div",{staticClass:"shop-info"},[i.shopIcon?e("img",{staticClass:"shop-icon",attrs:{src:i.shopIcon}}):e("img",{staticClass:"shop-icon",attrs:{src:n("4fc2")}}),e("div",{staticClass:"shop-name"},[t._v(t._s(i.shopName))])]):t._e(),e("div",{staticClass:"order-status"},[t._v(t._s(i.type))])]),e("div",{staticClass:"im-order-content"},[e("div",{staticClass:"list-item-left"},[e("img",{staticClass:"item-cover",attrs:{src:i.goodsList[0].image}})]),e("div",{staticClass:"list-item-right"},[e("div",{staticClass:"order-name"},[t._v(t._s(i.goodsList[0].title))]),e("div",{staticClass:"order-detail"},[e("div",{staticClass:"order-detail-left"},[e("div",{staticClass:"order-detail-item"},[t._v(t._s(i.goodsList[0].indicate))]),i.goodsList[0].currencyUnit&&i.goodsList[0].price?e("div",{staticClass:"order-detail-item"},[t._v(" "+t._s(i.goodsList[0].currencyUnit)+t._s(i.goodsList[0].price)+" ")]):t._e()]),i.totalCount?e("div",{staticClass:"order-detail-count"},[t._v("共"+t._s(i.totalCount)+"件")]):t._e()])])]),e("div",{staticClass:"im-order-footer"},[e("div",{staticClass:"im-order-footer-content"},[i.showOrderNumber?e("div",{staticClass:"item-desc"},[e("div",{staticClass:"item-desc-label"},[t._v("订单编号：")]),e("div",{staticClass:"item-desc-value"},[t._v(t._s(i.orderNumber))])]):t._e(),i.showOrderTime?e("div",{staticClass:"item-desc"},[e("div",{staticClass:"item-desc-label"},[t._v("下单时间：")]),e("div",{staticClass:"item-desc-value"},[t._v(t._s(i.orderTimeStr))])]):t._e(),t._l(i.userDefinedFields,(function(n,i){return[n.value?e("div",{key:i,staticClass:"item-custom"},[t._v(t._s(n.value))]):t._e()]})),i.actual?e("div",{staticClass:"item-desc"},[e("div",{staticClass:"item-desc-label"},[t._v("订单金额：")]),e("div",{staticClass:"item-desc-value price"},[t._v(" "+t._s(i.currencyUnit)+t._s(i.actual)+" ")])]):t._e()],2),e("div",{staticClass:"im-order-footer-btn",on:{click:function(e){return e.stopPropagation(),t.sendMsg(i)}}},[e("div",{staticClass:"btn-text"},[t._v(t._s(i.sendButtonText?i.sendButtonText.slice(0,4):"发送"))])])])])})),0===t.listData.length?e("div",{staticClass:"im-ecommerce-empty-list"},[e("div",{staticClass:"im-ecommerce-empty-list-inner"},[e("img",{staticClass:"empty-list-img",attrs:{src:n("fe1a")}}),e("p",{staticClass:"empty-list-text"},[t._v("暂无订单")])])]):t._e()],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasNextPage,expression:"hasNextPage"}],staticClass:"xml__footer",on:{click:function(e){return e.stopPropagation(),t.nextPage.apply(null,arguments)}}},[t._v(" 点击加载更多 "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"icon-more anim-rotate",attrs:{src:n("dbf9")}})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorShow,expression:"errorShow"}],staticClass:"toast-goods--error"},[t._v(" "+t._s(t.errorMessage||"该功能不可用")+" ")])]):t._e()])},Tt=[],kt=(n("d81d"),n("ab43"),n("5a0c")),It=n.n(kt),Mt={mixins:[],inject:["globalData","to","MsgType","IMSDKType"],props:{value:{type:Boolean,default:!1},ecQuickMenu:{type:Object,default:function(){return{goodsTab:[],orderTab:[]}}},wpaDetail:{type:Object,default:function(){return{}}}},components:{},computed:{isMobile:function(){return!this.$platform.pc},hasNextPage:function(){return!(this.listData.length>=this.total)}},data:function(){return{show:this.value,loading:!1,errorShow:!1,errorMessage:"",total:0,listData:[],params:{scene:2,robotId:this.globalData.reception.extuin,channelType:4,tab:"",page:1,pageSize:10}}},watch:{value:function(){this.show=this.value},show:function(t){this.$emit("input",this.show),t?(""===this.selectTab&&this.ecQuickMenu.orderTab.length>0&&(this.selectTab=this.ecQuickMenu.orderTab[0].key),""!==this.selectTab&&(this.reset(),this.getList()),document.addEventListener("click",this.hide)):document.removeEventListener("click",this.hide)}},created:function(){},mounted:function(){},beforeDestory:function(){document.removeEventListener("click",this.hide)},methods:{reset:function(){this.errorShow=!1,this.params.tab=this.ecQuickMenu.orderTab.length>0?this.ecQuickMenu.orderTab[0].key:"",this.params.robotId=this.globalData.reception.extuin,this.params.page=1,this.listData=[]},getList:function(){var t=this;this.loading||(this.loading=!0,vt(this.params).then((function(e){0===e.code?(t.total=e.total,e.data=e.data.map((function(t){var e=Object.assign({},t);return e.goodsList=e.goodsList||[],0===e.goodsList.length&&e.goodsList.push({}),e.orderTimeStr="",e.orderTime&&(e.orderTimeStr=It.a.unix(t.orderTime).format("YYYY-MM-DD HH:mm")),e})),t.listData=t.listData.concat(e.data)):(t.errorShow=!0,t.errorMessage=e.message),t.loading=!1})).catch((function(e){console.log("error",e),t.errorMessage="",t.errorShow=!0,t.loading=!1})))},nextPage:function(){this.hasNextPage&&(this.params.page=this.params.page+1,this.getList())},changeTab:function(t){t.key!==this.params.tab&&(this.reset(),this.params.tab=t.key,this.getList())},sendMsg:function(t){this.hide(),this.$parent.sendQDXMLMessage({qdxml:{content:t.xmlMsg,brief:"零售电商卡片消息"}},null,{robot_ctrl:{str_ext2robot:JSON.stringify({scene:gt.order,extRobotType:4})}})},hide:function(t){this.show=!1},jumpDetail:function(t,e){t?window.open(t):e&&Object(bt["a"])(e)}}},At=Mt,St=(n("5633"),Object(J["a"])(At,Ct,Tt,!1,null,"78ee6f47",null)),qt=St.exports,Ot=n("ade3"),Dt=n("72bf"),jt=n.n(Dt),Pt=n("dc02"),Ft=n("b463"),Rt=n("4886"),Lt=Rt["a"].getSDKDomain(),Et=function(t){var e="other";return/(ipad|iphone|ipod).*? (ipad)?qq\/([\d.]+)|\bv1_and_sqi?_([\d.]+)(.*? qq\/([\d.]+))?/i.test(t)?e="mqq":/micromessenger/i.test(t)&&(e="wechat"),e},Nt=function(t){return t.substring(t.indexOf("?")+1)},Bt=navigator.userAgent,Qt=function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isInIframe:!1,isMobile:!1},a={},o="mqq"===Et(Bt);if(i.isMobile)if(i.isInIframe){var s=t.replace(/\+/gi,"%2B");window.parent.postMessage({act:"LAUNCH",type:"PHONE",sign:s,protocol:"".concat(Lt.consolecgi+O["B"],"?fromWebIm=1&").concat(jt.a.stringify(a),"&protocol=").concat(s)},"*")}else top.location.href=o?t:"".concat(Lt.consolecgi+O["B"],"?").concat(Nt(window.location.href),"&protocol=").concat(t);else"https"===window.location.protocol&&-1===Bt.indexOf("msie")?window.location.href=t:(e=document.createElement("iframe"),n=document.body,e.style.display="none",n.insertBefore(e,n.firstChild),e.src=t)},Gt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.bindCallQQEvent=function(e){e&&0===e.r&&"undefined"!==typeof e.data.sign&&Qt(e.data.sign,t)},Object(Pt["a"])(Lt.consolecgi+O["i"],{cb:"bindCallQQEvent",kfext:t.kfext,kfaccount:t.kfaccount,kfuin:t.kfuin,visitorId:t.visitorId,ftype:t.ftype,clickid:Object(Ft["a"])(),_:Date.now()})},zt=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.bindCallQQEvent=function(t){t&&0===t.r&&"undefined"!==typeof t.data.sign&&Qt(t.data.sign,e)},Object(Pt["a"])(Lt.consolecgi+O["r"],(t={cb:"bindCallQQEvent",kfuin:e.kfuin,visitorId:e.visitorId,fid:e.fid,roleValue:e.roleValue,ftype:e.ftype,roleData:e.roleData,clickid:Object(Ft["a"])(),isCorpUin:e.isCorpUin,reqPos:"0",cate:"",type:"",pid:"",qid:"",clickType:"",tptype:"",eptype:"",tpForm:"",waitTime:"",rolekey:"roleQQ",reqSrc:"routeChange",_:Date.now()},Object(Ot["a"])(Object(Ot["a"])(Object(Ot["a"])(Object(Ot["a"])(Object(Ot["a"])(Object(Ot["a"])(Object(Ot["a"])(Object(Ot["a"])(Object(Ot["a"])(Object(Ot["a"])(t,"waitTime",""),"callImType",""),"qidian_track_id",""),"qidian_src_desc",""),"qidian_ex1",""),"qidian_ex2",""),"qidian_ex3",""),"qidian_ex4",""),"qidian_ex5",""),"guestId",""),Object(Ot["a"])(t,"qidian_lang","")))},Ut=(n("04d3"),n("55b6")),Ht='<?xml version="1.0" encoding="utf-8"?><msg brief="广交会意向单" flag="55" serviceID="21">\n<linear width="-1" width.pc="400" height="-2" background.web="#FFFFFFFF">\n        <text width="-1" height="-2" margin="0,0,0,15" text="消息内容解析异常，请联系客服人员" size="32" size.pc="14" style="bold"/>\n</linear>\n</msg>',Wt={xmlTmpHanderMap:{1:"getProductTpl",2:"getOrderTpl",3:"getNewOrderTpl"},getProductTpl:function(t){try{var e=t.pLink,n=void 0===e?"":e,i=t.productLink,a=void 0===i?"":i,o=t.pImg,s=void 0===o?"":o,c=t.productImage,r=void 0===c?"":c,l=t.pName,d=void 0===l?"":l,u=t.productName,m=void 0===u?"":u,f=t.pExArea,h=void 0===f?"":f,p=t.productArea,g=void 0===p?"":p,v=t.bName,b=void 0===v?"":v,_=t.buyerName,w=void 0===_?"":_,y=t.bLoc,x=void 0===y?"":y,C=t.buyerLoc,T=void 0===C?"":C,k=t.bTag,I=void 0===k?"":k,M=t.buyerTag,A=void 0===M?"":M,S=Object(U["c"])(n||a||""),q=Object(U["c"])(s||r||""),O=Object(U["c"])(d||m||""),D=Object(U["c"])(h||g||""),j=Object(U["c"])(b||w||""),P=Object(U["c"])(x||T||""),F=Object(U["c"])(I||A||"");return'<?xml version="1.0" encoding="utf-8"?><msg brief="广交会商品" flag="55" serviceID="21" action="web" action.web="browser" action.pc="browser" actionData="'.concat(S,'">\n                <linear width="-1" width.pc="400" height="-2" background.web="#FFFFFFFF">\n                    <linear width="-1" height="-2" margin="20,20,20,20" orientation="vertical">\n                        <linear width="-1" width.pc="-2" height="-2" margin="0,0,0,0" orientation="horizontal">\n                            <image name="ShowIcon" width="144" width.pc="72" height="144" height.pc="72" cornerRadius="6" cornerRadius.android="0" src="').concat(q,'"/>\n                            <linear width="0" weight="1" height="-1" width.pc="-2" height.pc="-2" margin="20,0,0,0" orientation="vertical">\n                                <text width="-1" width.pc="270" height="-2" margin="0,0,0,0" text="').concat(O,'" size="28" size.pc="12" style="bold" lineSpace.web="8" maxLine="2"/>\n                                <text width="-1" width.pc="270" height="-2" margin="0,5,0,0" text="').concat(Ut["b"].tc("xml_product_exhibition_area"),": ").concat(D,'" size="24" size.pc="12" color="#FF666666" color.pc="0xFF666666" lineSpace.web="8" maxLine="2"/>\n                            </linear>\n                        </linear>\n                        <divider width="-1" height="1" margin="0,20,0,15"/>\n                        <image width="-1" height="1" src="" margin="3,7,3,7" icon="divider" platform="pc"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ut["b"].tc("xml_buyer_name"),": ").concat(j,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ut["b"].tc("xml_buyer_location"),": ").concat(P,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ut["b"].tc("xml_buyer_tag"),": ").concat(F,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                    </linear>\n                </linear>\n            </msg>')}catch(R){return Ht}},getOrderTpl:function(t){try{var e=t.sn,n=void 0===e?"":e,i=t.bName,a=void 0===i?"":i,o=t.buyerName,s=void 0===o?"":o,c=t.bLoc,r=void 0===c?"":c,l=t.buyerLoc,d=void 0===l?"":l,u=t.bTag,m=void 0===u?"":u,f=t.buyerTag,h=void 0===f?"":f,p=t.pExArea,g=void 0===p?"":p,v=t.productArea,b=void 0===v?"":v,_=t.pCategory,w=void 0===_?"":_,y=t.productCategory,x=void 0===y?"":y,C=t.pName,T=void 0===C?"":C,k=t.productName,I=void 0===k?"":k,M=t.pQuantity,A=void 0===M?"":M,S=t.purchaseQuantity,q=void 0===S?"":S,O=t.pUnit,D=void 0===O?"":O,j=t.purchaseUnit,P=void 0===j?"":j,F=Object(U["c"])(a||s||""),R=Object(U["c"])(r||d||""),L=Object(U["c"])(m||h||""),E=Object(U["c"])(g||b||""),N=Object(U["c"])(w||x||"");return'<?xml version="1.0" encoding="utf-8"?><msg brief="广交会意向单" flag="55" serviceID="21">\n                <linear width="-1" width.pc="400" height="-2" background.web="#FFFFFFFF">\n                    <linear width="-1" height="-2" margin="20,20,20,20" orientation="vertical">\n                        <text width="-1" height="-2" margin="0,0,0,15" text="'.concat(Object(U["c"])(n),'" size="32" size.pc="14" style="bold"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ut["b"].tc("xml_buyer_name"),": ").concat(F,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ut["b"].tc("xml_buyer_location"),": ").concat(R,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ut["b"].tc("xml_buyer_tag"),": ").concat(L,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <divider width="-1" height="1" margin="0,20,0,15" style="dot"/>\n                        <image width="-1" height="1" src="" margin="3,7,3,7" icon="divider" platform="pc"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ut["b"].tc("xml_product_exhibition_area"),": ").concat(E,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        <text width="-1" height="-2" margin="0,5,0,0" text="').concat(Ut["b"].tc("xml_product_category"),": ").concat(N,'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                        ').concat((T||I)&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_product_name"),": ").concat(Object(U["c"])(T||I),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat((A||q)&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_purchase_quantity"),": ").concat(Object(U["c"])(A||q),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat((D||P)&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_purchase_unit"),": ").concat(Object(U["c"])(D||P),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                    </linear>\n                </linear>\n            </msg>")}catch(B){return Ht}},getNewOrderTpl:function(t){try{var e=t.bDetail,n=void 0===e?"":e,i=t.bLoc,a=void 0===i?"":i,o=t.bName,s=void 0===o?"":o,c=t.blink,r=void 0===c?"":c,l=t.eCurrency,d=void 0===l?"":l,u=t.eDetail,m=void 0===u?"":u,f=t.eName,h=void 0===f?"":f,p=t.ePrice,g=void 0===p?"":p,v=t.eUom,b=void 0===v?"":v,_=t.pCategory,w=void 0===_?"":_,y=t.pName,x=void 0===y?"":y,C=x||w||n||s||a;return'<?xml version="1.0" encoding="utf-8"?><msg brief="广交会意向信息" flag="55" serviceID="21" action="web" action.web="browser" action.pc="browser" actionData="'.concat(Object(U["c"])(r),'">\n                <linear width="-1" width.pc="400" height="-2" background.web="#FFFFFFFF">\n                    <linear width="-1" height="-2" margin="20,20,20,20" orientation="vertical">\n                        ').concat(x&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_source_product"),": ").concat(Object(U["c"])(x),'" size="28" size.pc="12" style="bold" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(w&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_source_category"),": ").concat(Object(U["c"])(w),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(n&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_source_detail"),": ").concat(Object(U["c"])(n),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(s&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_buyer_company_name"),": ").concat(Object(U["c"])(s),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(a&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_buyer_company_country"),": ").concat(Object(U["c"])(a),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(C&&'\n                            <divider width="-1" height="1" margin="0,20,0,15"/>\n                            <image width="-1" height="1" src="" margin="3,7,3,7" icon="divider" platform="pc"/>\n                        ',"\n                        ").concat(h&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_exhibit_name"),": ").concat(Object(U["c"])(h),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(b&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_exhibit_uom"),": ").concat(Object(U["c"])(b),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(g&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_exhibit_price"),": ").concat(Object(U["c"])(g),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(d&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_exhibit_currency"),": ").concat(Object(U["c"])(d),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),"\n                        ").concat(m&&'<text width="-1" height="-2" margin="0,5,0,0" text="'.concat(Ut["b"].tc("xml_exhibit_detail"),": ").concat(Object(U["c"])(m),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>'),'   \n                        <text width="-1" height="-2" margin="0,20,0,0" text="').concat(Ut["b"].tc("xml_exhibit_jump_tip"),'" size="28" size.pc="12" color="#FF666666" color.pc="0xFF666666"/>\n                    </linear>\n                </linear>\n            </msg>')}catch(T){return Ht}}},Jt=n("ae03");function Yt(){return Vt.apply(this,arguments)}function Vt(){return Vt=Object(o["a"])(Object(a["a"])().m((function t(){var e,n,i,o=arguments;return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1&&void 0!==o[1]?o[1]:"",e){t.n=1;break}return t.a(2);case 1:return t.n=2,Kt(e,n);case 2:return i=t.v,t.a(2,i)}}),t)}))),Vt.apply(this,arguments)}function Xt(t){var e=1;return(t.itemId&&(t.buyerId||t.userId)||t.orderId&&(t.buyerId||t.userId))&&(e=2),e}function Kt(t){return Zt.apply(this,arguments)}function Zt(){return Zt=Object(o["a"])(Object(a["a"])().m((function t(e){var n,i,o,s,c=arguments;return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:n=c.length>1&&void 0!==c[1]?c[1]:"",i=Xt(e),s=i,t.n=1===s?1:2===s?2:4;break;case 1:return t.a(2,$t(e));case 2:return t.n=3,te(e,n);case 3:return o=t.v,t.a(2,$t(o));case 4:return t.a(3,5);case 5:return t.a(2)}}),t)}))),Zt.apply(this,arguments)}function $t(t){var e=+t.msgId,n=Wt.xmlTmpHanderMap[e];return Wt[n](t)}function te(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={zh:"zh-cn",en:"en-us","zh-TW":"zh-tw"},i=Ut["b"].locale;return new Promise((function(a){var o,s=A[e||"LingHang"],c=s.apiDomain,r=void 0===c?"":c,l=s.authDomain,d=void 0===l?"":l,u=t.itemId,m=t.buyerId,f=t.orderId,h=t.userId,p=t.shopId,g=(null===y["a"]||void 0===y["a"]||null===(o=y["a"].wpaDetail)||void 0===o?void 0:o.kfuin)||y["a"].kfuin,v=y["a"].auth,b=v.appid,_=v.aid,w=v.d2,x={"X-Appid":b,"X-Aid":_,"X-D2":w,"X-Tenant-Id":y["a"].kfuin},C=u&&(m||h)?1:2,T={kfuin:g,scene:C,apiDomain:r,authDomain:d,itemId:u,buyerId:m,orderId:f,shopId:p,lang:n[i]||"zh-cn"};Jt["a"].post(O["n"],T,{headers:x}).then((function(t){var e=t.data;0===+e.code&&a(e.data)})).catch((function(){a({})}))}))}var ee=n("0c74"),ne=n("2796"),ie=function(t,e){try{if(!t||!document.querySelector(t)||document.querySelector(t).className.includes(e))return;document.querySelector(t).classList.add(e)}catch(n){console.log("addClass不支持",n)}},ae=function(t,e){try{if(!t||!document.querySelector(t)||!document.querySelector(t).className.includes(e))return;document.querySelector(t).classList.remove(e)}catch(n){console.log("removeClass不支持",n)}},oe=C["b"].create();e["a"]={mixins:[x,P],components:{MessageBubble:V,MsgAutoComplete:et,QuickOrderCard:mt,GoodsList:xt,OrderList:qt},data:function(){return{isPrivate:I["a"],aioReady:!1,customStyle:"",pcBgImage:"",h5BgImage:"",adaptThemeColor:!1,sessionStart:!1,wpaDetail:{clickid:Object(Ft["a"])()},authConf:{authType:"",authData:"",authRedirectUrl:""},showInfo:{isManualClose:0,isShowFace:0,isAllowSendShortVoice:0,isAllowSendImage:0,isAllowSendFile:0,isSurvey:0,isShowAudo:0,isAllowExitQueue:0,isUseWebSidebar:1,isShowSafetyTips:0,isShowQidianSign:0,isShowGoods:0,isShowOrder:0},linkInfo:{externalType:1,openName:1},guidanceInfo:{},companyInfo:{},iframeIMStatus:"show",notReadNumber:0,onlineNotReadNum:0,reception:{},inputContent:"",messageList:[],styleConfig:{},msgNotifyCount:0,notification:null,employeeInfo:{},robotInfo:{},goodsListShow:!1,orderListShow:!1,ecQuickMenu:{goodsTab:[],orderTab:[]},isShowLangIcon:!1,isSendBizCardInstant:!1,canRobotAutoComplete:!1,readStatusSwitch:!1,cShowTypingSwitch:!1,bShowTypingSwitch:!1,customExtuinInfo:{name:"",avatar:g["a"]},disableToolbar:!1,askRobotOneByOneSwitch:!1,authTempUserInfo:""}},computed:{showQQ:function(){return!this.isPrivate&&this.aioReady&&this.isNormalReception&&this.guidanceInfo.guidanceQQ&&!this.reception.isLargeModelRobot},unReadSum:function(){return this.notReadNumber+this.onlineNotReadNum},inIframe:function(){return v["a"].inIframe()},isMobile:function(){return!this.$platform.pc},isNormalReception:function(){return!(!this.reception.extuin&&!this.reception.robotId)},isLargeModelRobot:function(){var t=this.reception||{},e=t.isLargeModelRobot,n=t.largeModelRobotId;return e&&n},currExtuin:function(){var t=this.reception.extuin;return t||0},titleName:function(){return this.linkInfo.topType?this.linkInfo.topType-0===2?this.reception.extuin?this.employeeInfo.name||"":(this.reception.robotId||this.reception.largeModelRobotId)&&this.robotInfo.name||"":this.linkInfo.topType-0===3?this.linkInfo.customTopName||"":this.companyInfo.companyName||"":""},toolButtonsCommon:function(){var t=this.weappBtnConf,e=null,i=null;t&&t.path&&(e=Object(s["a"])(Object(s["a"])({},t),{},{path:"".concat(t.path,"&mediaType=2")}),i=Object(s["a"])(Object(s["a"])({},t),{},{path:"".concat(t.path,"&mediaType=1")}));var a=[{actionType:"sendFace",isShow:!!this.showInfo.isShowFace,enable:!0},{actionType:"sendImageMessage",isShow:this.isLargeModelRobot?!!this.showInfo.isAllowSendImage&&!!this.showInfo.isShowRobotSendPicFile:!!this.showInfo.isAllowSendImage,enable:!this.disableToolbar,authorizeTip:this.showInfo.isContentAuthorize?this.guidanceInfo.authorizeTip:null},{actionType:"sendFileMessage",isShow:this.isLargeModelRobot?!!this.showInfo.isAllowSendFile&&!!this.showInfo.isShowRobotSendPicFile:!!this.showInfo.isAllowSendFile,enable:!this.disableToolbar,authorizeTip:this.showInfo.isContentAuthorize?this.guidanceInfo.authorizeTip:null},{type:"audio",icon:this.isMobile?n("7988"):n("f4e7"),name:this.$t("common_audio_text"),isShow:!!this.showInfo.isShowVoiceCall&&this.currExtuin,enable:this.employeeInfo.webimAv&&this.currExtuin,weappBtnConf:e},{type:"video",icon:this.isMobile?n("9fa6"):n("2148"),name:this.$t("common_video_text"),isShow:!!this.showInfo.isShowVideoCall&&this.currExtuin,enable:this.employeeInfo.webimAv&&this.currExtuin,weappBtnConf:i},{actionType:"activeFeedback",isShow:!!this.showInfo.isSurveyValid&&!!this.showInfo.isSurvey&&(this.isNormalReception||this.isLargeModelRobot),enable:this.isNormalReception||this.isLargeModelRobot},{actionType:"robotTransfer",isShow:!!this.showInfo.isShowAudo,enable:!!this.reception.robotId||this.isLargeModelRobot},{actionType:"closeSession",isShow:!!this.showInfo.isManualClose&&(this.isNormalReception||this.isLargeModelRobot),enable:this.isNormalReception||this.isLargeModelRobot},{actionType:"exitQueue",isShow:!!this.showInfo.isAllowExitQueue&&this.reception.inWaitPool,enable:this.reception.inWaitPool},{actionType:"sendBusinessCard",type:"sendBusinessCard",icon:n("b9a8"),name:this.$t("send_business_card_btn"),isShow:!!this.showInfo.isShowBusinessCard,enable:!0},{type:"goodsListBtn",icon:n("6c5c"),name:this.$t("ec_goods_text"),isShow:!!this.showInfo.isShowGoods,enable:!0},{type:"orderListBtn",icon:n("aafd"),name:this.$t("ec_order_text"),isShow:!!this.showInfo.isShowOrder,enable:!0},{type:"capture",icon:n("00ad"),name:this.$t("common_screenshot_text"),isShow:!!this.showInfo.isAllowCapture&&this.$platform.pc,enable:!0}];return a},toolButtonsForPC:function(){var t=this.toolButtonsCommon;return t},toolButtonsForH5:function(){var t=this.toolButtonsCommon;return t.unshift({actionType:"sendVoice",isShow:!!this.showInfo.isAllowSendShortVoice,enable:!0}),t},configToAutoMsg:function(){var t=this.wpaDetail.kfuin;return{kfuin:t,enable:!!this.reception.robotId&&this.canRobotAutoComplete||this.isLargeModelRobot,robotId:this.reception.robotId||this.reception.largeModelRobotId,count:this.isLargeModelRobot?5:3}},pcBgStyle:function(){if(!this.inIframe){var t={};if(this.styleConfig.isShowWatermark){var e;try{e=JSON.parse(ee["a"].decode(this.authTempUserInfo))}catch(i){}if(e&&e.nickname){var n="data:image/svg+xml,%3Csvg width='135' height='135' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='50%25' y='50%25' font-size='14' fill-opacity='0.2' text-anchor='middle' dominant-baseline='middle' transform='rotate(-45, 100 100)'%3E".concat(e.nickname,"%3C/text%3E%3C/svg%3E");t.background='url("'.concat(n,'")')}}else this.pcBgImage&&(t.backgroundImage="url(".concat(this.pcBgImage,")"));return t}}},watch:{currExtuin:function(t){t&&this.fetchEmployeeInfo(t)},reception:function(t){t&&(t.robotId||t.largeModelRobotId)&&this.fetchRobotConfig(t)}},mounted:function(){this.init(),this.requireNotifyPermission(),this.twinkleHanlder=this.twinkleDocTitle(),location.href.indexOf("debug=1")>-1&&(window.uiDebuger=this)},methods:{init:function(){var t=this;return Object(o["a"])(Object(a["a"])().m((function e(){var n,i,o,s;return Object(a["a"])().w((function(e){while(1)switch(e.n){case 0:if(!v["a"].inIframe()){e.n=1;break}console.log("[start-inIframe]"),t.iframeIMStatus="close",ie("html","inIframe-close"),v["a"].bindListener(t),n=document.querySelector(".drag-title-inIframe"),i=document.querySelector("drag-title-inIframe-mini"),n&&v["a"].bindDragEvent(n),i&&v["a"].bindDragEvent(i),e.n=7;break;case 1:if(t.getWpaConfigFromUrl(),I["a"]){e.n=6;break}if("commonAuth"!==(null===(o=t.authConf)||void 0===o?void 0:o.authType)){e.n=3;break}return e.n=2,t.checkIfWebimV3(1);case 2:t.authConf.authRedirectUrl=e.v,e.n=6;break;case 3:if("microsoft"!==(null===(s=t.authConf)||void 0===s?void 0:s.authType)){e.n=5;break}return e.n=4,t.checkIfWebimV3(2);case 4:t.authConf.authRedirectUrl=e.v,e.n=6;break;case 5:t.checkIfWebimV3();case 6:t.startIM();case 7:return e.a(2)}}),e)})))()},handleLunchQQ:function(){var t,e={kfuin:this.wpaDetail.kfuin,visitorId:null===(t=this.$refs.aio)||void 0===t||null===(t=t.to)||void 0===t?void 0:t.user_id,fid:this.wpaDetail.fid||this.wpaDetail.wpaKey,ftype:this.isMobile?1:0,roleValue:this.wpaDetail.roleValue,roleData:this.wpaDetail.roleData||"",isInIframe:this.inIframe,isMobile:this.isMobile,isCorpUin:2===this.guidanceInfo.guidanceQQType?0:1};zt(e)},handleAddQQ:function(t){var e,n={kfext:this.wpaDetail.roleData,kfaccount:t.msgBody.qq,kfuin:this.wpaDetail.kfuin,visitorId:null===(e=this.$refs.aio)||void 0===e||null===(e=e.to)||void 0===e?void 0:e.user_id,isMobile:this.isMobile,ftype:this.isMobile?1:0};Gt(n)},setLang:function(){this.wpaDetail.qidian_lang?this.$setLocale(Ut["a"][this.wpaDetail.qidian_lang]):this.$setLocale("zh")},getWpaConfigFromUrl:function(){var t=r.a.parse(window.location.search,{ignoreQueryPrefix:!0});t.kfuin&&(t.wpaId||t.fid)?(t.wpaId||(t.wpaId=t.fid),y["a"].translate={translateSwitch:+t.translateSwitch||0,translateAuto:!0},+t.translateSwitch&&(this.isShowLangIcon=!0),+t.isSendBizCardInstant&&(this.isSendBizCardInstant=!0),t.auth&&(this.authConf.authType=t.auth,this.authConf.authData=location.search.replace(/^\?/,""),this.removeAuthDataFromUrl()),this.wpaDetail=Object.assign({},this.wpaDetail,t)):this.$Alert("缺少必要的接入参数：[kfuin, wpaId/fid]")},removeAuthDataFromUrl:function(){var t,e=window.location.href;e=Object(S["c"])(e,"code"),e=Object(S["c"])(e,"response_type"),e=Object(S["c"])(e,"session_state"),e=Object(S["c"])(e,"scope"),e=Object(S["c"])(e,"nonce"),this.storeGJHMsgInfo(),e=Object(S["c"])(e,"msgInfo"),e=Object(S["c"])(e,"isSendBizCardInstant"),null===(t=window.history)||void 0===t||t.replaceState({},"",e),console.log("[auth]","Auth data has been removed from url")},storeGJHMsgInfo:function(t){if(t){var e=k["a"].getItem("QIDIAN_MESSAGE_INFO");return k["a"].removeItem("QIDIAN_MESSAGE_INFO"),e}var n=r.a.parse(window.location.search,{ignoreQueryPrefix:!0}),i=n.msginfo;i&&(console.log("gjhmsginfo",i),k["a"].setItem("QIDIAN_MESSAGE_INFO",i))},getCustomStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=h(this.wpaDetail,t),n=e.customStyle,i=e.setting;this.customStyle=n,this.pcBgImage=i.pcBgImage,this.h5BgImage=i.h5BgImage,this.adaptThemeColor=!!i.adaptThemeColor,Object(b["a"])(i.bgColor)},startIM:function(){var t=this;return Object(o["a"])(Object(a["a"])().m((function e(){var n;return Object(a["a"])().w((function(e){while(1)switch(e.n){case 0:if(t.setLang(),t.setTestMode(),n=navigator.userAgent,"wx_qy"!==t.authConf.authType||-1!==n.indexOf("wxwork")||t.$platform.Weixin){e.n=1;break}return t.$Alert("请使用企微内置浏览器进行网页咨询").then((function(){window.opener=null,window.open("","_self",""),window.close()})),e.a(2);case 1:t.getCustomStyle(),t.fetchConfig(),v["a"].inIframe()&&t.wpaDetail.auth&&(t.authConf.authType=t.wpaDetail.auth,t.authConf.authData="auth=".concat(t.wpaDetail.auth)),t.checkAccountAndLongin();case 2:return e.a(2)}}),e)})))()},checkAccountAndLongin:function(t){var e=this;return Object(o["a"])(Object(a["a"])().m((function n(){var i,o;return Object(a["a"])().w((function(n){while(1)switch(n.n){case 0:return t&&console.error("[checkAccountAndLongin][isRetry]"),null===e||void 0===e||null===(i=e.$refs)||void 0===i||null===(i=i.aio)||void 0===i||i.createIncomingTip(),n.n=1,e.createLoginConfig();case 1:o=n.v,o&&(e.$set(e.wpaDetail,"visitorid",o.aid),e.$set(e.wpaDetail,"token",o.d2),e.$set(e.wpaDetail,"openid",o.openid),e.authTempUserInfo=o.userInfo,y["a"].auth=o,y["a"].wpaDetail=e.wpaDetail,e.$refs.aio.startIM(o));case 2:return n.a(2)}}),n)})))()},watchAioData:function(t,e){var n=this;e||(e=t),this.$watch((function(){var e;return(null===n||void 0===n||null===(e=n.$refs)||void 0===e?void 0:e.aio[t])||0}),(function(t){n[e]=t}))},clickToolBtn:function(t){console.log("a",t);var e=t.type;switch(e){case"goodsListBtn":this.onGoodList();break;case"orderListBtn":this.onOrderList();break;case"capture":this.showCapture();break;case"audio":this.audioCall();break;case"video":this.videoCall();break;case"sendBusinessCard":this.sendBusinessCard();break;default:break}},showCapture:function(){this.$Alert({text:'<div class="scissorsPrompt">\n        <div class="con" style="\n          text-align: left;\n          font-size: 12px;\n        ">\n            <div>'.concat(this.$t("common_screenshot_tip_QQ"),"</div>\n            <div>").concat(this.$t("common_screenshot_tip_mac"),"</div>\n            <div>").concat(this.$t("common_screenshot_tip_win"),"</div>\n        </div>\n    </div>")})},onMsgAutoCompleteSelected:function(t){var e;null===(e=this.$refs.aio)||void 0===e||e.sendTextMessage(t.question),this.inputContent=""},onReceiveMsg:function(t){this.showBrowserNotification(t)},handleTransferRobotMsg:function(t){this.$refs.cartoon&&this.$refs.cartoon.handleTransferRobotMsg(t)},handleVoiceRecodeStatus:function(t){this.$refs.cartoon&&this.$refs.cartoon.handleVoiceRecodeStatus(t),this.$refs.aiSpeaker&&this.$refs.aiSpeaker.handleVoiceRecodeStatus(t)},handleKickedOut:function(){this.$refs.cartoon&&this.$refs.cartoon.handleKickedOut(),this.$refs.aiSpeaker&&this.$refs.aiSpeaker.handleKickedOut()},showBrowserNotification:function(t){var e=this;if(document.hidden){var n=this.$refs.aio.getSDKIntance(),i=n.IMSDK,a=n.MsgType;if(!(!t.type||[a.MSG_DATETIME,a.MSG_TYPING].indexOf(t.type)>-1||t.isDynamicUpdate)){var o="";if(t.type===i.TYPES.MSG_TEXT){if(o=t.content,o=o.replace(/<[^>]+?>/g,""),!o)return}else o=t.type===i.TYPES.MSG_IMAGE?this.$t("收到一张图片"):this.$t("收到一条新消息");this.msgNotifyCount+=1,this.msgNotifyCount>1&&(o="".concat(this.$("您有")+this.msgNotifyCount+this.$t("条新消息"))),this.twinkleHanlder.start(),console.log("[Notification]",o,new Date),Notification.requestPermission((function(){var t,n="./favicon.ico",i={tag:"qd-webim-sdk-notification",requireInteraction:!0,renotify:!0,icon:n,badge:n};try{t=new Notification(o,i)}catch(a){}t&&(e.notification=t,t.onclick=function(){try{top.focus(),window.focus()}catch(a){}e.clearNotification()})}))}}},clearNotification:function(){this.notification&&this.notification.close(),this.msgNotifyCount=0,this.twinkleHanlder.stop()},requireNotifyPermission:function(){var t=this,e=function(){window.Notification&&Notification.requestPermission(),document.body.removeEventListener("click",e)};window.parent===window&&document.body.addEventListener("click",e),window.addEventListener("unload",(function(){t.clearNotification()})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&t.clearNotification()}))},twinkleDocTitle:function(){var t=1e3,e=this.$t("common_new_message_text");return{start:function(){if(!this.twinkleDocTitTimer){var n=document.title;this.oldTitle=n,this.twinkleDocTitTimer=setInterval((function(){document.title=n===document.title?e:n}),t)}},stop:function(){this.twinkleDocTitTimer&&(clearInterval(this.twinkleDocTitTimer),this.twinkleDocTitTimer=null,document.title=this.oldTitle)}}},operateIframe:function(t,e){var n;console.log("operateIframe",t,e),null===this||void 0===this||null===(n=this.$refs)||void 0===n||null===(n=n.aio)||void 0===n||n.customReport({method:"operateIframe",action:t,msgData:e,referrer:document.referrer}),e.key||(e.key=e.wpaKey||this.wpaDetail.wpaKey),e.wpaId&&(e.fid=e.wpaId),this.wpaDetail=Object.assign({},this.wpaDetail,e),"INIT"===t?(k["a"].setItem("tencentSig",this.wpaDetail.tencentSig),this.iframeIMStatus="close",ie("html","inIframe-close")):"OPEN"===t?(this.iframeIMStatus="show",ae("html","inIframe-close"),this.hasIframeStartIM||(this.hasIframeStartIM=!0,this.startIM()),this.notReadNumber=0,this.onlineNotReadNum=0):"UPDATE_UNREAD"===t&&"close"===this.iframeIMStatus&&(this.onlineNotReadNum=e.number,this.unReadSum>0&&v["a"].sendMsg({act:"SHOW"}))},handleWpaDetail:function(t){t.key||(t.key=t.wpaKey||this.wpaDetail),Object.assign(this.wpaDetail,t)},closeIframeIM:function(){v["a"].inIframe()&&!v["a"].isHasDragged()&&(this.iframeIMStatus="close",ie("html","inIframe-close"),v["a"].sendMsg({act:"CLOSE",kfuin:this.wpaDetail.kfuin}))},openIframeIM:function(){v["a"].inIframe()&&!v["a"].isHasDragged()&&(this.iframeIMStatus="show",ae("html","inIframe-close"),v["a"].sendMsg({act:"OPEN",kfuin:this.wpaDetail.kfuin}))},fetchConfig:function(){var t,e=this,n=this.wpaDetail,i=n.kfuin,a=n.wpaId,o=n.key,c={kfuin:i,wpaId:a,key:o,type:0,robotId:(null===this||void 0===this||null===(t=this.reception)||void 0===t?void 0:t.robotId)||0,fields:["webimStyleConfig","tools","guidanceInfo"]};y["a"].kfuin=i,Object(_["a"])(c,(function(t){var n=t.webimStyleConfig,i=void 0===n?{}:n,a=t.tools,o=void 0===a?{}:a,c=t.guidanceInfo,r=void 0===c?{}:c,l=i.code,d=i.data,u=o.code,m=o.data,f=r.code,h=r.data;if(0===l){e.styleConfig=d;var p=d.openName,v=d.externalType,b=d.messageStyleConfig,_=d.topType,w=d.customOpenName,y=d.customTopName,x=d.customAvatar;Object.assign(e.linkInfo,Object(s["a"])(Object(s["a"])({},e.linkInfo),{},{openName:p,externalType:v,customTopName:y})),3===p&&(e.customExtuinInfo={name:w||"",avatar:x||g["a"]}),e.readStatusSwitch=!(null===b||void 0===b||!b.readStatusSwitch),e.cShowTypingSwitch=!(null===b||void 0===b||!b.cTypingSwitch),e.bShowTypingSwitch=!(null===b||void 0===b||!b.bTypingSwitch),e.askRobotOneByOneSwitch=!(null===b||void 0===b||!b.askRobotOneByOneSwitch),e.$set(e.linkInfo,"topType",_),e.getCustomStyle(d),e.wpaDetail.isLocation=d.isLocation}0===u&&Object.assign(e.showInfo,Object(s["a"])(Object(s["a"])({},e.showInfo),m)),0===f&&(console.log(3242424234324,h),Object.assign(e.guidanceInfo,h)),console.log("🥳 ~ fetchCommonInfo",e.styleConfig,e.showInfo,e.guidanceInfo)}));var r={kfuin:i,wpaId:a,key:o,fields:["companyInfo"]};Object(w["a"])(r,(function(t){var n=t.companyInfo,i=void 0===n?{}:n,a=i.code,o=i.data;if(0===a){var s=o.companyName,c=o.companyLogo;e.companyInfo=o,s&&Object(g["b"])({name:s}),c&&Object(g["b"])({avatar:c})}}))},fetchEcQuickMenuConfig:function(){var t=this,e=this.wpaDetail,n=e.kfuin,i=e.wpaId,a=e.key,o={kfuin:n,wpaId:i,key:a,visitorId:this.wpaDetail.visitorid,fields:["ecQuickMenu"]};Object(_["a"])(o,(function(e){var n=e.ecQuickMenu,i=void 0===n?{}:n,a=i.code,o=i.data;0===a&&(t.showInfo.isShowGoods=o.goodsShow,t.showInfo.isShowOrder=o.orderShow,Object.assign(t.ecQuickMenu,o)),console.log("🥳 ~ fetchEcQuickMenuConfig",t.ecQuickMenu)}))},fetchEmployeeInfo:function(t){var e=this,n=this.wpaDetail,i=n.kfuin,a=n.wpaId,o={kfext:t,kfuin:i,fields:["employeeInfo"],wpaId:a};Object(w["a"])(o,(function(t){var n=t.employeeInfo,i=void 0===n?{}:n,a=i.code,o=i.data;0===a&&(e.employeeInfo=o)}))},checkIfWebimV3:function(){var t=arguments,e=this;return Object(o["a"])(Object(a["a"])().m((function n(){var i,o,s,c,r,l,d,u,m,f;return Object(a["a"])().w((function(n){while(1)switch(n.p=n.n){case 0:if(i=t.length>0&&void 0!==t[0]?t[0]:0,o=e.wpaDetail,s=o.kfuin,c=o.wpaId,!e.inIframe&&s&&c){n.n=1;break}return n.a(2);case 1:return r="".concat(O["c"],"?kfuin=").concat(s,"&channelType=4&wpaId=").concat(c,"&anonymous=").concat(i),n.p=2,n.n=3,e.$ajax.get(r,"",{timeout:6e3});case 3:if(l=n.v,d=l.data,0!==d.code){n.n=4;break}return u=d.data,m=u.uint32_channel_version,f=u.string_auth_url,0===m&&setTimeout((function(){var t=location.href.replace(/\/qidian\/chatv3(-\w+)?\/(pc|h5)\.html/i,"/2/chat$1/$2/index.html");-1!==t.indexOf("/2/chat")&&(t+="&im_jump_from=v3",location.replace(t))}),0),n.a(2,f);case 4:n.n=6;break;case 5:n.p=5,n.v;case 6:return n.a(2,"")}}),n,null,[[2,5]])})))()},handleAioError:function(t){"d2Expire"!==t.type&&"d2Error"!==t.type||this.hanldErrorForD2(t)},handleNotifyRtc:function(t){console.log(t)},onGoodList:function(){this.goodsListShow=!this.goodsListShow},onOrderList:function(){this.orderListShow=!this.orderListShow},handleSessionStart:function(){this.sessionStart=!0,"commonAuth"===this.authConf.authType&&this.fetchEcQuickMenuConfig(),this.handleGJHEntry()},handleGJHEntry:function(){var t=this;return Object(o["a"])(Object(a["a"])().m((function e(){var n,o,s,c,r;return Object(a["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:if(e.p=0,t.isSendBizCardInstant&&setTimeout((function(){t.sendBusinessCard()}),300),n=t.storeGJHMsgInfo(!0),!n){e.n=2;break}return"object"!==Object(i["a"])(n)&&(n=JSON.parse(n)),s=null===t||void 0===t||null===(o=t.authConf)||void 0===o?void 0:o.authType,e.n=1,Yt(n,s);case 1:c=e.v,y["a"].sendQDXMLMessage({qdxml:{content:c,brief:"名片消息"}});case 2:e.n=4;break;case 3:e.p=3,r=e.v,console.error("JSON解析失败",r);case 4:return e.a(2)}}),e,null,[[0,3]])})))()},sendBusinessCard:function(){var t,e,n,i,a=this,o=this.wpaDetail.kfuin,s=null===this||void 0===this||null===(t=this.authConf)||void 0===t?void 0:t.authType,c=null===this||void 0===this||null===(e=this.reception)||void 0===e?void 0:e.extuin;if(c){var r=A[s],l=r.apiDomain,d=void 0===l?"it-blinkapi.cantonfair.org.cn":l,u={kfuin:o,cAid:Number(null===(n=this.$refs.aio)||void 0===n||null===(n=n.to)||void 0===n?void 0:n.user_id),kfext:null===this||void 0===this||null===(i=this.reception)||void 0===i?void 0:i.extuin,apiDomain:d,lang:this.$i18n.locale},m=y["a"].auth,f=m.appid,h=m.aid,p=m.d2,g={"X-Appid":f,"X-Aid":h,"X-D2":p,"X-Tenant-Id":y["a"].kfuin};this.$ajax.post("".concat(O["C"]),u,{headers:g}).then((function(t){var e=t.data,n=e.r,i=e.cardInfo;0===+n&&y["a"].sendQDXMLMessage({qdxml:{content:i,brief:"名片消息"}})})).catch((function(t){console.log("获取名片信息失败",t),a.$Toast("失败")}))}else this.$Toast("客服不在线，无法发送名片")},fetchRobotConfig:function(){var t,e,n,i=this;if(null!==this&&void 0!==this&&null!==(t=this.reception)&&void 0!==t&&t.robotId){var a,o=this.wpaDetail,s=o.kfuin,c=o.wpaId,r=o.key,l={kfuin:s,wpaId:c,key:r,fields:["robotConfig"],robotId:null===this||void 0===this||null===(a=this.reception)||void 0===a?void 0:a.robotId};Object(_["a"])(l,(function(t){var e=t.robotConfig,n=void 0===e?{}:e,a=n.code,o=n.data,s=void 0===o?{}:o;0===+a&&(i.canRobotAutoComplete=!!s.canAutocomplete)}))}this.robotInfo={};var d=(null===this||void 0===this||null===(e=this.reception)||void 0===e?void 0:e.robotId)||(null===this||void 0===this||null===(n=this.reception)||void 0===n?void 0:n.largeModelRobotId);if(d)try{if(Object(g["c"])(d))return void(this.robotInfo=Object(g["c"])(d));this.fetchExtuinInfo(d,!0).then((function(t){t?(Object(g["c"])(d,t),i.robotInfo=t):i.robotInfo={}})).catch((function(){console.log("getOrFetchExtuinInfo失败"),i.robotInfo={}}))}catch(u){console.log("拉取机器人失败",u),this.robotInfo={}}},fetchExtuinInfo:function(t,e){return console.log("[fetchExtuinInfo]",t,e),oe.fetchExtuinInfo({extuin:t,kfuin:+this.wpaDetail.kfuin},e)},setTestMode:function(){try{var t;console.log("wpadetail",this.wpaDetail);var e=this.inIframe?null===this||void 0===this||null===(t=this.wpaDetail)||void 0===t?void 0:t.robot_ext:Object(ne["a"])("robot_ext");if(e){var n=ee["a"].decode(e),i=JSON.parse(n);1===+i.askTest&&(y["a"].robotTestMode=!0)}console.log("globalWin",y["a"])}catch(a){console.log("vvvv",a)}},updateDisableToolbar:function(t){this.disableToolbar=t}}}},"2ca8":function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return r}));var i=n("3835"),a=(n("99af"),n("caad"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("2532"),n("5319"),n("5ac5"));function o(t,e){var n,a;if(e){n=new RegExp("[?&]?".concat(e,"=([^&#]*)"),"i");try{var o=n.exec(t),s=Object(i["a"])(o,1);a=s[0]}catch(c){a=""}}return""!==a&&(t=t.replace(a,"")),t}function s(t,e,n){var i,a;if(e){i=new RegExp("([?&]?)".concat(e,"=([^&#]*)"),"i");try{a=i.exec(t)}catch(o){a=""}}return a&&(t=t.replace("".concat(e,"=").concat(a[2]),"".concat(e,"=").concat(n))),t}function c(t,e,n){return"".concat(t+(t.indexOf("?")>-1?"&":"?")+e,"=").concat(encodeURIComponent(n))}function r(t){if(!t||!t.includes("_need_qd_trans_info=1"))return t;var e=t,n=a["a"]&&a["a"].wpaDetail;return n&&(e=c(e,"c_kfuin",n.kfuin||""),e=c(e,"c_vid",n.visitorid||"")),e}},"2cbe":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s}));var i={iniCall:101,iniCancel:102,iniHangup:103,recRefuse:201,recAccept:202,recAcceptFail:203,recHangup:204,recBusy:205,notSurport:206,errorTRTC:301,die:401,thirdHangup:601},a={idle:1,dialling:2,ring:3,speaking:4,end:5},o=1064,s={CMD_INNER_CREATE_RTC_ROOM_INFO_REQ:312201,CMD_INNER_CREATE_RTC_ROOM_INFO_RSP:312201,CMD_INNER_CREATE_RTC_SESSION_REQ:312251,CMD_INNER_CREATE_RTC_SESSION_RSP:312251,CMD_INNER_GET_RTC_ROOMINFO_REQ:312202,CMD_INNER_GET_RTC_ROOMINFO_RSP:312202,CMD_INNER_RTC_ACTION_REPORT_REQ:312203,CMD_INNER_RTC_ACTION_REPORT_RSP:312203,CMD_INNER_RTC_HEART_BEAT_REQ:312204,CMD_INNER_RTC_HEART_BEAT_RSP:312204,CMD_INNER_RTC_STATUS_REPORT_REQ:312205,CMD_INNER_RTC_STATUS_REPORT_RSP:312205,CMD_INNER_GET_RTC_CONFIG_REQ:312210,CMD_INNER_GET_RTC_CONFIG_RSP:312210,CMD_INNER_SCREEN_SHARE_REQ:312211,CMD_WEB_WAIT_POOL_DEL_REQ:214001,CMD_WEB_WAIT_POOL_DEL_RSP:214001,CMD_INNER_WAIT_POOL_GET_COUNT_REQ:214004,CMD_INNER_WAIT_POOL_GET_COUNT_RSP:214004}},"2ccf":function(t,e,n){"use strict";n("14d9"),n("e9f5"),n("7d54"),n("e9c4"),n("b64b"),n("d3b7"),n("5087"),n("159b");var i=n("27a3"),a="CACHE_REPORT_DATA";e["a"]={add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;console.log("[setCacheReportData]",t,e);var n=Date.now();try{var o=JSON.parse(i["a"].getItem(a)||"[]");o.push({data:t,time:n,expire:n+e}),i["a"].setItem(a,JSON.stringify(o))}catch(s){console.error("[setCacheReportData]",s)}},get:function(t){var e=Date.now(),n=[];try{var o=JSON.parse(i["a"].getItem(a)||"[]");o.forEach((function(t){t&&t.expire&&t.expire>=e&&n.push(t.data)}))}catch(s){console.error("[getCacheReportData]",s)}return t&&i["a"].removeItem(a),n},report:function(t){var e=this.get(!0);e.forEach((function(e){t(e)}))}}},"2d3f":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s}));n("ac1f"),n("00b4");var i=navigator.userAgent,a=/wxwork/i.test(i),o=!a&&/micromessenger/i.test(i),s=/\sQQ(?!Browser)/i.test(i);/MQQBrowser/i.test(i)},"2dba":function(t,e,n){},"2e28":function(t,e,n){"use strict";n("bb2e")},"2ee4":function(t,e,n){"use strict";n.r(e);n("4de4"),n("d81d"),n("e9f5"),n("ab43"),n("d3b7");var i=function(){var t=this,e=t._self._c;return e("popup",{ref:"popup",attrs:{show:t.openPop,title:"请填写以下信息",showClose:!1},on:{"update:show":function(e){t.openPop=e}}},[e("div",[e("form",{staticClass:"robot-form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t._l(t.formData,(function(n,i){return e("div",{key:i,staticClass:"item-line"},[e("div",{staticClass:"item-header"},[e("label",[e("div",{staticClass:"label-title"},[t._v(t._s(n.fieldName))]),n.required?e("div",{staticClass:"label-icon"},[t._v("*")]):t._e(),e("div",{staticClass:"label-desc"})]),e("span",{staticClass:"error-txt"},[t._v(t._s(n.error||""))])]),"enum_single"===t.TYPE_MAPPER[n.fieldType]?[t.isMobile?e("div",{staticClass:"selector",on:{click:function(e){return t.showSelctor(n,i)}}},[e("span",{class:n.value?"":"placeholder"},[t._v(t._s(n.value||"请选择"))])]):e("div",{class:[n.value?"":"select-placeholder"]},[e("select",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"item.value"}],attrs:{placeholder:"请选择"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(n,"value",e.target.multiple?i:i[0])}}},t._l(n.options,(function(n){return e("option",{key:n.value,domProps:{value:n.value}},[t._v(" "+t._s(n.text)+" ")])})),0)])]:e("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"item.value"}],attrs:{type:"text",placeholder:"请输入",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},domProps:{value:n.value},on:{blur:function(e){return t.checkItem(n)},input:function(e){e.target.composing||t.$set(n,"value",e.target.value)}}})],2)})),e("div",{staticClass:"btn-box"},[e("button",{staticClass:"primary",attrs:{type:"submit"}},[t._v(" "+t._s(t.vm.$t("chat_feedback_submit_text"))+" ")]),e("button",{attrs:{type:"button"},on:{click:t.closePop}},[t._v(" "+t._s(t.vm.$t("common_cancel_text"))+" ")])])],2)]),t.isMobile?e("single-select-for-h5",{ref:"singleSelector",on:{singleSelectChange:t.singleSelectChange}}):t._e()],1)},a=[],o=(n("99af"),n("b0c0"),n("7d54"),n("a732"),n("e9c4"),n("b64b"),n("ac1f"),n("00b4"),n("5087"),n("159b"),n("7dc1")),s=n("f5db"),c=n("2981"),r={1:"enum_single",2:"string",3:"int"},l={components:{Popup:o["a"],SingleSelectForH5:c["a"]},props:{data:{default:Object},vm:{type:Object}},computed:{isMobile:function(){return!this.$platform.pc}},data:function(){var t=this,e=this.data.content.content;try{e=JSON.parse(e)}catch(i){}console.log("[RobotForm]",e);var n=e.map((function(e){var n=e.options.instances;return e.options=n.map((function(t){return{text:t.name,value:t.name}})),t.$set(e,"value",""),e}));return{openPop:!1,TYPE_MAPPER:r,formData:n}},mounted:function(){var t=this;setTimeout((function(){t.openPop=!0}),400)},methods:{closePop:function(){this.$refs.popup.close()},checkItem:function(t){var e=3===t.fieldType?20:200;return t.required&&0===t.value.length?(this.$set(t,"error","".concat(t.fieldName,"不能为空")),!1):3===t.fieldType&&(t.value.length>e||!/^\d+$/.test(t.value))?t.required||t.value?(this.$set(t,"error","请您填写数字，最大长度为".concat(e)),!1):(this.$set(t,"error",""),!0):t.value.length>e?(this.$set(t,"error","".concat(t.fieldName,"最长长度不能超过").concat(e)),!1):(this.$set(t,"error",""),!0)},onSubmit:function(){var t=this,e=this.formData.some((function(e){return!1===t.checkItem(e)}));if(e)return!1;var n={slot:{},field:{}};this.formData.forEach((function(t){var e=t.value;n.slot[t.slotName]=e,n.field[t.fieldName]=e})),console.log("[robot-form]",n),this.closePop();var i=this.data.crm.msg_webim_extra_data,a=i.uint64_robotid,o=void 0===a?"":a,c=i.bytes_wpaid,r=void 0===c?"":c,l="mqqwpa://im/qdmenu?svrId=1000003&ext=".concat(JSON.stringify(n),"&robotId=").concat(o,"&extType=3&wpaId=").concat(r);Object(s["b"])(l)},singleSelectChange:function(t){console.log("singleSelectChange",t);var e=t.choosed,n=void 0===e?{}:e,i=t.widgetSymbol;i>-1&&(this.formData[i].value=n.value)},showSelctor:function(t,e){this.$refs.singleSelector.show({options:t.options,widgetSymbol:e})}}},d=l,u=(n("cddf"),n("2877")),m=Object(u["a"])(d,i,a,!1,null,"7588beca",null);e["default"]=m.exports},"2f01":function(t,e,n){},"2ffe":function(t,e,n){"use strict";n("74e7")},3137:function(t,e,n){},"31c0":function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add-qq-card",on:{click:function(e){return t.$emit("onAddQQ",t.data)}}},[e("div",{staticClass:"content"},[t._m(0),e("p",{staticClass:"thumb"},[e("a",{staticClass:"action",attrs:{href:"javascript:;"}},[e("img",{directives:[{name:"defaultAvatar",rawName:"v-defaultAvatar"}],attrs:{src:t.message.avatar}})])]),e("dl",{staticClass:"detail"},[e("dt",[e("a",{staticClass:"action",attrs:{href:"javascript:;"}},[t._v(t._s(t.message.name))])]),e("dd",[e("a",{staticClass:"action",attrs:{href:"javascript:;"}},[t._v(t._s(t.message.showQQ))])])])])])},a=[function(){var t=this,e=t._self._c;return e("h2",{staticClass:"title"},[e("i",{staticClass:"icon-qq"}),t._v("添加QQ联系人")])}],o=n("7ea6"),s={props:{data:{type:Object,default:function(){return{}}}},directives:{defaultAvatar:{bind:function(t){t.addEventListener("error",(function(t){return t.target.src=o}),{once:!0})}}},computed:{message:function(){var t;return null!==(t=this.data.msgBody)&&void 0!==t?t:{}}},methods:{},mounted:function(){console.log("[sc]",this.data)}},c=s,r=(n("fdd0"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"387e1fbc",null);e["default"]=l.exports},"32da":function(t,e,n){},"32fe":function(t,e){t.exports="data:image/png;base64,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"},"33ae":function(t,e,n){"use strict";n("d3b7");var i=n("2b0e"),a=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.visible?e("div",{staticClass:"mod-black-tip",style:{maxWidth:"".concat(t.maxWidth,"px")}},[e("div",{staticClass:"text"},[t._v(t._s(t.msgText))])]):t._e()},o=[],s=n("bee2"),c=n("d4ec"),r=n("8f33"),l=n("262e"),d=n("ade3"),u=(n("99af"),n("9ab4")),m=n("1b40"),f=function(t){function e(){var t;Object(c["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(d["a"])(t,"visible",!1),Object(d["a"])(t,"msgText",""),Object(d["a"])(t,"maxWidth",240),t}return Object(l["a"])(e,t),Object(s["a"])(e)}(m["d"]);f=Object(u["a"])([Object(m["a"])({name:"BlackTip"})],f);var h=f,p=h,g=(n("5023"),n("2877")),v=Object(g["a"])(p,a,o,!1,null,"1cefeb52",null),b=v.exports,_=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.visible?e("div",{staticClass:"confirm",class:t.isMobile?"mobile":"pc"},[e("div",{staticClass:"center-container"},[t.isMobile?t._e():e("div",{staticClass:"close-btn",on:{click:t.cancel}},[e("img",{staticClass:"close-btn-img",attrs:{src:n("e90f")}})]),e("div",{staticClass:"text-container"},[t.title?e("div",{staticClass:"title",class:t.text?"has-text":"",domProps:{innerHTML:t._s(t.title)}}):t._e(),t.text?e("div",{staticClass:"text",domProps:{innerHTML:t._s(t.text)}}):t._e()]),t.isMobile?e("div",{staticClass:"btn-wrap"},[e("span",{on:{click:t.cancel}},[t._v(t._s(t.cancelText||t.$t("common_cancel_text")))]),e("span",{staticClass:"confirm-btn",on:{click:t.confirm}},[t._v(t._s(t.confirmText||t.$t("common_confirm_text")))])]):e("div",{staticClass:"btn-wrap"},[e("span",{staticClass:"confirm-btn bg-primay",on:{click:t.confirm}},[t._v(t._s(t.confirmText||t.$t("common_confirm_text")))]),e("span",{staticClass:"concel-btn",on:{click:t.cancel}},[t._v(t._s(t.cancelText||t.$t("common_cancel_text")))])])])]):t._e()},w=[],y=function(t){function e(){var t;Object(c["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(d["a"])(t,"visible",!1),Object(d["a"])(t,"title",""),Object(d["a"])(t,"text",""),Object(d["a"])(t,"cancelText",""),Object(d["a"])(t,"confirmText",""),Object(d["a"])(t,"confirm",void 0),Object(d["a"])(t,"cancel",void 0),t}return Object(l["a"])(e,t),Object(s["a"])(e,[{key:"isMobile",get:function(){return!this.$platform.pc}}])}(m["d"]);Object(u["a"])([Object(m["c"])({default:function(){}})],y.prototype,"confirm",void 0),Object(u["a"])([Object(m["c"])({default:function(){}})],y.prototype,"cancel",void 0),y=Object(u["a"])([Object(m["a"])({name:"Confrim"})],y);var x=y,C=x,T=(n("f3ae"),Object(g["a"])(C,_,w,!1,null,"6220fc5f",null)),k=T.exports,I=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.visible?e("div",{staticClass:"alert",class:t.isMobile?"mobile":"pc"},[e("div",{staticClass:"center-container"},[t.isMobile?t._e():e("div",{staticClass:"close-btn",on:{click:t.cancel}},[e("img",{staticClass:"close-btn-img",attrs:{src:n("e90f")}})]),e("div",{staticClass:"text-container"},[t.title?e("div",{staticClass:"title",class:t.text?"has-text":"",domProps:{innerHTML:t._s(t.title)}}):t._e(),t.text?e("div",{staticClass:"text",domProps:{innerHTML:t._s(t.text)}}):t._e()]),e("div",{class:t.isMobile?"alert-btn":"alert-btn bg-primay",on:{click:t.confirm}},[t._v(" "+t._s(t.alertText||t.$t("common_confirm_text"))+" ")])])]):t._e()},M=[],A=function(t){function e(){var t;Object(c["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(d["a"])(t,"visible",!1),Object(d["a"])(t,"title",""),Object(d["a"])(t,"text",""),Object(d["a"])(t,"alertText",""),Object(d["a"])(t,"confirm",void 0),Object(d["a"])(t,"cancel",void 0),t}return Object(l["a"])(e,t),Object(s["a"])(e,[{key:"isMobile",get:function(){return!this.$platform.pc}}])}(m["d"]);Object(u["a"])([Object(m["c"])({default:function(){}})],A.prototype,"confirm",void 0),Object(u["a"])([Object(m["c"])({default:function(){}})],A.prototype,"cancel",void 0),A=Object(u["a"])([Object(m["a"])({name:"Alert"})],A);var S=A,q=S,O=(n("1f79"),Object(g["a"])(q,I,M,!1,null,"5b4b81ad",null)),D=O.exports,j=n("55b6"),P=i["a"].extend(b),F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,n=arguments.length>2?arguments[2]:void 0,a=(new P).$mount();if("string"===typeof t)a.msgText=t;else{var o=t.text,s=t.maxWidth;a.msgText=o,a.maxWidth=s||240}if(a.visible=!0,n)n.appendChild(a.$el);else{var c=document.body;i["a"].prototype.$platform.pc&&(c=document.querySelector(".im-main-container>.im-msg-container")||document.body),c.appendChild(a.$el)}setTimeout((function(){a.visible=!1,setTimeout((function(){a.$destroy()}))}),e)},R=i["a"].extend(k),L=function(t,e){var n=new R({i18n:j["b"]}).$mount();if("string"===typeof t)n.title=t;else{var i=t.text,a=t.cancelText,o=t.confirmText,s=t.title;n.text=i,n.title=s,n.cancelText=a,n.confirmText=o}return n.visible=!0,e?e.appendChild(n.$el):document.body.appendChild(n.$el),new Promise((function(t,e){n.confirm=function(){n.visible=!1,t(!0),setTimeout((function(){n.$destroy()}))},n.cancel=function(){n.visible=!1,e(!1),setTimeout((function(){n.$destroy()}))}}))},E=i["a"].extend(D),N=function(t,e){var n=new E({i18n:j["b"]}).$mount();if("string"===typeof t)n.title=t;else{var i=t.text,a=t.alertText,o=t.title;n.text=i,n.alertText=a,n.title=o}return n.visible=!0,e?e.appendChild(n.$el):document.body.appendChild(n.$el),new Promise((function(t,e){n.confirm=function(){n.visible=!1,t(!0),setTimeout((function(){n.$destroy()}))},n.cancel=function(){n.visible=!1,e(!1),setTimeout((function(){n.$destroy()}))}}))};e["a"]={install:function(){i["a"].prototype.$Toast||(i["a"].prototype.$Toast=F,i["a"].prototype.$Confirm=L,i["a"].prototype.$Alert=N)}}},"342f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return t.translateContent||t.translateType?e("div",{staticClass:"translate-wrapper"},[t.processedText?e("div",{ref:"msgTxt",domProps:{innerHTML:t._s(t.processedText)}}):t._e(),e("div",{staticClass:"translate-bottom"},[t._v(t._s(t.translateType)),e("div",{staticClass:"translate-icon",on:{click:t.showSetLangPanel}})])]):t._e()},a=[],o=n("c14f"),s=n("1da1"),c=n("d90f"),r=(n("99af"),n("a15b"),n("14d9"),n("e9c4"),n("d3b7"),n("ac1f"),n("5319"),n("1276"),n("ae03")),l=n("4886"),d=n("5ac5"),u=l["a"].getSDKDomain(),m="[face_split_sign]",f="/ts/translate/textTranslate",h=["en","zh","zh-TW"];function p(t,e){return new Promise((function(n,i){try{var a="".concat(e||e.originMsgContent||e.originData||e.data),o=[],s=[];a=a.replace(/\[(.*?)\]/g,(function(t){return o.push(t),m})),s=a.split(m),s.join("").length||i(null);var c={source_lang:"auto",source_text_list:s,target_lang:t.translateLang,terminal_type:4};r["a"].post("".concat(u.consolecgi).concat(f,"?kfuin=").concat(d["a"].wpaDetail.kfuin),JSON.stringify(c),{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){var a=e.data;if(0===+a.code){var s=a.data||{};if(s.source_lang===t.translateLang&&i(null),s.source_lang!==t.translateLang&&-1!==h.indexOf(s.source_lang)){for(var c="",r=s.target_text_list||[],l=0;l<r.length;l++)c=c+r[l]+(o[l]||"");return console.error("targetText",c),void n({targetText:c,type:"success"})}n({type:"fail"})}-510===+a.code&&n({type:"only"}),n({type:"fail"})})).catch((function(){return n({type:"fail"})}))}catch(l){console.error("catch",l)}}))}var g={props:{data:""},data:function(){return{translateContent:"",translateType:""}},computed:{processedText:function(){var t=c["a"].filterHTML(this.translateContent);return t=c["a"].emojiEscape(t),t}},watch:{data:{immediate:!0,handler:function(){this.translate()}}},methods:{showSetLangPanel:function(){d["a"].switchSetLangPanel(!0)},translate:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n,i,a;return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:return n={translateLang:t.$i18n.locale,kfuin:d["a"].kfuin},e.n=1,p(n,t.data).catch((function(){t.translateContent="",t.translateType=""}));case 1:if(i=e.v,i){e.n=2;break}return t.translateContent="",t.translateType="",e.a(2);case 2:a=i.type,e.n="success"===a?3:"fail"===a?4:"only"===a?5:6;break;case 3:return t.translateType=t.$t("common_tencent_translator"),e.a(3,7);case 4:return t.translateType=t.$t("common_tencent_translator_fail"),e.a(3,7);case 5:return t.translateType=t.$t("common_tencent_translator_only"),e.a(3,7);case 6:t.translateType="";case 7:t.translateContent=i.targetText;case 8:return e.a(2)}}),e)})))()}}},v=g,b=(n("a8c3"),n("2877")),_=Object(b["a"])(v,i,a,!1,null,"3b0b4433",null);e["default"]=_.exports},3484:function(t,e,n){"use strict";n("6bed")},"34f0":function(t,e,n){"use strict";n("16c8")},"352e":function(t,e,n){t.exports=n.p+"img/arrow_down_small.066dc642.svg"},"35f7":function(t,e,n){"use strict";var i=n("53ca"),a=n("5530"),o=function(t){var e=[],n=+new Date,i="log_".concat(n),a=e[i]=new Image;return a.onload=a.onerror=function(){e[i]=null},t+=(t.indexOf("?")>-1?"&":"?")+n,a.src=t,arguments},s=n("5c0b"),c=n("5ac5"),r="webim";function l(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="https://fereport.qidian.qq.com/report/imfe?",l="https://fereport.qidian.qq.com/report/monitor?",d=c["a"].wpaDetail,u=Object(a["a"])(Object(a["a"])({},t),{},{visitorid:d.visitorid,kfuin:d.kfuin,tid:"imfe",type:r,isNewVersion:"true",env:s["d"]?"oa":"ol"});if(("undefined"===typeof roomId||Object(i["a"])(roomId))&&(u.roomId=window.roomId),o("".concat(Object(s["a"])(n,u))),t.message&&e){if(!window.__monitor)return;var m=t.message,f=m.indexOf(","),h=f>0,p=h?m.substring(0,f):m,g=h?m.substring(f+1):"";window.__monitor.customerReport(h?{name:p,ext1:g}:{name:p});var v=Object(a["a"])(Object(a["a"])({result:0},u),{},{event:p});o("".concat(Object(s["a"])(l,v)))}}e["a"]=l},"368b":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-uploader"},[e("input",{ref:"fileInput",attrs:{type:"file",name:"file",accept:"image/*",multiple:""},on:{change:t.onHandleFiles}})])},a=[],o=n("c14f"),s=n("1da1"),c=(n("a630"),n("e9f5"),n("7d54"),n("d3b7"),n("3ca3"),n("159b"),n("9de0")),r=5,l={data:function(){return{}},methods:{click:function(){this.$refs.fileInput.click()},onHandleFiles:function(t){var e=this,n=t.target.files;n.length>r?this.$emit("upload",{code:-1,id:"",message:"一次最多支持选择".concat(r,"张图片")}):(Array.from(n).forEach(function(){var t=Object(s["a"])(Object(o["a"])().m((function t(n){return Object(o["a"])().w((function(t){while(1)switch(t.n){case 0:e.uploadFile(n);case 1:return t.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.target.value="")},uploadFile:function(t){var e=arguments,n=this;return Object(s["a"])(Object(o["a"])().m((function i(){var a,s;return Object(o["a"])().w((function(i){while(1)switch(i.n){case 0:return a=e.length>1&&void 0!==e[1]?e[1]:null,console.log("[uploadFile]",t,a),i.n=1,c["c"].uploadImage(t,a,{onPreview:function(t){n.$emit("preview",t)}});case 1:s=i.v,n.$emit("upload",s);case 2:return i.a(2)}}),i)})))()}}},d=l,u=(n("dd20"),n("2877")),m=Object(u["a"])(d,i,a,!1,null,"133cc383",null);e["a"]=m.exports},3774:function(t,e,n){"use strict";n("01ed")},3860:function(t,e,n){},"39d4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAAXNSR0IArs4c6QAABT1JREFUeAHtnetPG0cQwOfONtjBNDwKGAiJgKRN+EIrJX2pUfNHNF8rVWr/qn7IHxCpbRK1ClU+oAaS9KFWbVNangmUZwmmfoAPO3fXHQcf58OChbtd9syMZLw7Nzu7+7vx3J4frAa7Ytt2JJczPrU166YG2hBTt7NHnOm1ig097yegaZrNtAZ7bNhgT2i2fru5OX6L6U20LsPL5+2UZRduM5gfopLEHwEGd0zXEjeTSW1VK0duvjBKcP1B9bZGyM3JxA0tmy18ZoP1hdeA6v4JaKB/rmPO9e+KPNQigGz13QtareOk80kA2erMB64WSMQQaEfAcTG+ySuy1WmdKy4QkC1GMIlAAgRYIFx0TYAJsGACgt1TBBNgwQQEu6cIJsCCCQh2TxFMgAUTEOyeIpgACyYg2D1FsGDAUcH+y+7nF1/An1NLUCy9FN6dYRgwPHQerlzqE94XTwdSIlgWXJxw6aUJd0eewF/TizzzF24jBbCMyHWTsiwL7o08hr8VgCwFsHvyssomg3wXIc8syeqyZj91Cxhni5DvjDyCydnlmpOXoaxrwAjQMhnk+49ganZFBs99fdQ9YJyxaZrw9f1xmH4mH/KpAFyB/NW3CFluujg1gN2QZ57Li+RTBfgVZAu+/GYM5uZXsSpcpNzJCZ+Fq4N4vBG6uzpcmtrFH36dhYELqdoHA9QqDzh5phHevNgD3Z0tkDwTBz2iQS5vQDa3DTPP12BpdbMKRywahZaWs1W6k6woDfjyYA9cHe4HXa/OZK1nmwAfF851wOJKGsZ/moSdovj3OY5zoqpHfhwPgtpc6k/BO28PVsE1dkqQ2zKAfSXJ6fVcdxt8cPUNp65aQckIjjfG4NpbAw6r9Y0sPPxxEvIMLkpjQxSuDQ+wHNpVrvf1tEP/+U54tvBvua7SHyUj+CKL3mgkUuZUMIrw3fd/OHBRielg/Ocp2MxsOSwxR6soSgJOdexdpGbn19idmLWPHWaJpdW0o29raXLKKhWUBNzEVg4VyWQLleK+56LrwhaJKDkVUDIHP/llBiLsxw0o6f/20oCXcJcr0nHppqIoCXhtPXMoK1w99KbaHDt3unCUChTUfF0dAgYvaNffvexY4epiek7Ora/TKWdByQg+aOy9qVa48f4QVHLudqEID8aeguVaGx/UXvaxUAHufP21KrgZdrv84OFT2Nrekc2Nu7/QAI7FIvDRe1ecyMW0MDL6O+DdncoSmhw8yO7aEvGGMktcF48+nlAeLg42NIB7u1qdQF1YfnHg8s0xVKAQGsCJxKvoRWbpzbwC6PiGEJoc/NvEAjSwPIyyns7xzU4Bq9AA/md5QwFcRx9CaFLE0aemRovQRPAnH193iE3NrQC+XxEGoQgWfJYIsGDAoUkRmBYqwvNuW8X2pJ9DAzgsOdd7QilFeIkEXCfAAQP1uiPAXiIB1wlwwEC97giwl0jAdQIcMFCvOymAK5+feTs/ybqsMUkBPNDXeZIsa/Yta0xaJru191XFmkMJRlkwSlAqqfH5WSwWYx8/xYKZ2CFepAE+ZBx1e1hKiqhbehwTI8AckPyYEGA/9DjaEmAOSH5MCLAfehxtCTAHJD8mBNgPPY62BJgDkh8TAuyHHkdbAswByY8JAfZDj6MtAeaA5MeEAPuhx9FW390PjcOUTI5KANliBKv5C76jzkZNewMBh/OLt2oC9Y5qQ8dtEr1aqgdDANnquAdlMO7Ii5cAsqUtJ71UAqpXtpzEVYSJG3yiIiDfp94Nstxlajpb+rL/g0Pb/h4jNBjMA7f9/R/0IYNL5pIUiAAAAABJRU5ErkJggg=="},"3a90":function(t,e,n){"use strict";n("90ea")},"3b23":function(t,e,n){},"3b97":function(t,e,n){"use strict";var i=n("c14f"),a=n("ade3"),o=n("1da1"),s=(n("99af"),n("caad"),n("b0c0"),n("e9c4"),n("a9e3"),n("b64b"),n("ac1f"),n("5319"),n("5087"),n("9de0")),c=n("d90f"),r=n("5ac5"),l=n("f5db"),d=n("60ce"),u=n("97e5"),m=n("2ca8"),f=s["b"].create();e["a"]={inject:["to","IMSDKType","globalData","wpaDetail"],methods:{qidianDAReport:function(t){var e;if(!r["a"].robotTestMode){var n=Object.assign({robot_nav_conv_type:4,robot_nav_cid:this.to.user_id,robot_nav_msg_dir:2,robot_nav_event_type:2,robot_nav_robot_id:Number(this.globalData.reception.robotId||this.globalData.reception.largeModelRobotId||0),wpa_id:null!==this&&void 0!==this&&null!==(e=this.wpaDetail)&&void 0!==e&&e.wpaId?Number(this.wpaDetail.wpaId):""},t);console.log("reportMsg-full",n),window.qidianDA("track","robot_nav_click",n)}},handleAction:function(t,e){var n,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";console.log("上报",t,e);var o=t.action||6,s=t.meta&&t.meta.url||"",u=![d["c"].ACTIVE_FEEDBACK,d["c"].CLOSE_SESSION].includes(o)||!(null===(n=this.globalData.reception)||void 0===n||!n.largeModelRobotId);if(e&&u){var f=Object.assign({robot_nav_first_menu_id:t.id,robot_nav_first_menu_name:t.name,robot_nav_action_type:o},e);console.log("reportMsg",f),this.qidianDAReport(f)}var h,p=1000003,g="mqqwpa://im/qdmenu?svrId=".concat(p,"&robotId=").concat(a,"&ext=").concat(encodeURIComponent(JSON.stringify(t)));if(t.meta&&t.meta.type){var v=JSON.parse(JSON.stringify(t));v.meta.type=String(v.meta.type),h="mqqwpa://im/qdmenu?svrId=".concat(p,"&robotId=").concat(a,"&ext=").concat(encodeURIComponent(JSON.stringify(v)))}var b=window.location.href;switch(o){case d["c"].IMGTXT:Object(l["b"])(g);break;case d["c"].WEB:Object(l["b"])(s,null,{robotId:a}),this.urlClickReport(g);break;case d["c"].ACTION_VISITOR:r["a"].sendTextMessage(c["a"].coverEmojIndex2EmojiName(t.meta.replyText));break;case d["c"].KNOWLEDGE:var _=r["a"].sendOnlyInvisibleMessage({type:"text",content:t.name||t.question||""});_&&Object(l["b"])(g);break;case d["c"].HUMAN:Object(l["b"])(g);break;case d["c"].ACTIVE_FEEDBACK:this.$parent.activeFeedback(),this.urlClickReport(h);break;case d["c"].CLOSE_SESSION:this.$parent.closeSession().then((function(){i.urlClickReport(h)})).catch((function(){}));break;case d["c"].SYSTEM_ACTION:this.handleSystemAction(t,h);break;case d["c"].ACTION_AISPEAKER:var w,y;if(b=Object(m["c"])(b,"code"),window.location.href.indexOf("ai_speaker=1")>-1)b=Object(m["c"])(b,"ai_speaker"),(null===(w=this.$parent)||void 0===w||null===(w=w.$parent)||void 0===w?void 0:w.handleKickedOut)&&(null===(y=this.$parent)||void 0===y||null===(y=y.$parent)||void 0===y||y.handleKickedOut()),setTimeout((function(){window.location.replace(b)}),200);else b=Object(m["b"])(b,"ai_speaker","1"),window.location.replace(b);break}},handleSystemAction:function(t,e){var n,i=this;console.log("info",t);var a=null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.type;if(a)switch(a){case 1:r["a"].exitQueue().then((function(){e&&i.urlClickReport(e)})).catch((function(){}));break;case 2:this.$parent.closeSession().then((function(){e&&i.urlClickReport(e)})).catch((function(){}));break;case 3:this.$parent.activeFeedback(),e&&this.urlClickReport(e);break;case 4:this.$parent&&this.$parent.activeBussiness&&this.$parent.activeBussiness("orderListBtn"),e&&this.urlClickReport(e);break;case 5:this.$parent&&this.$parent.activeBussiness&&this.$parent.activeBussiness("goodsListBtn"),e&&this.urlClickReport(e);break;default:this.$Toast("暂不支持的事件类型");break}else this.$Toast("暂不支持的type类型")},getImgTextDetail:function(){var t=this;return Object(o["a"])(Object(i["a"])().m((function e(){var n,o,r,l;return Object(i["a"])().w((function(e){while(1)switch(e.n){case 0:n='<?xml version="1.0" encoding="utf-8"?> <msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF" action="web" actionData="https://qq.com">     <linear background="#FFFFFFFF" width="-2" height="-2" orientation="vertical">         <linear width="-2" height="-2" margin="20,16,20,12" margin.pc="10,8,10,6" orientation="vertical">             <linear width="-2" height="-2" margin="0,8,0,8" margin.pc="0,4,0,4" gravity="left|centerVertical">                 <text height="-2" width="420" size="28" color="#FF1E2330" width.pc="210" size.pc="10" color.pc="0xFF1E2330" maxLine="1" text="小鹿" gravity="left|centerVertical"></text>             </linear>             <linear width="-2" height="-2">                 <image width="420" height="328" width.pc="210" height.pc="164" cornerRadius="0" src="http://eamaterial-30012.picsz.qpic.cn/material/image/2852199661_4ecf237221a7728bda4013a801edfdb6"></image>             </linear>             <linear width="0" height="0" >                 <text size="28" color="#FF1E2330" maxLine="1" text="wxc0f12af109cd1049"></text>                 <text size="28" color="#FF1E2330" maxLine="1" text="pages/realname/realname"></text>             </linear>             <linear background="#FFE1E6F0" width="420" height="2" margin="0,18,0,6" width.pc="210" height.pc="1" margin.pc="0,9,0,3">             </linear>             <linear width="-2" height="-2" gravity="left|centerVertical">                 <image width="24" height="24" width.pc="12" height.pc="12" cornerRadius="0" src="https://oa.gtimg.com/demo/sdk/flex_pic/basic/pic4@3x.png"></image>                 <text height="-2" width="380" margin="6,0,0,0" size="24" color="#FFA1ABC2" width.pc="190" margin.pc="3,0,0,0" size.pc="8" color.pc="0xA1ABC2" text="上限啊啊啊啊啊啊啊啊啊啊啊啊啊" maxLine="1"></text>             </linear>         </linear>     </linear> </msg>',o=t.to.id,r={seq:c["a"].generateUUID(),type:t.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:o},Object.assign(r,{content:{content:n}}),l=Object(a["a"])({},o,[r]),console.log("mock",l),f.emit(s["b"].EVENT.MESSAGE_RECEIVED,l);case 1:return e.a(2)}}),e)})))()},urlClickReport:function(t){var e={kfuin:Number(this.wpaDetail.kfuin),cid:this.to.user_id,user_data:"".concat(t,"&wpaId=").concat(this.wpaDetail.wpaId),ctype:4};this.$ajax.post("".concat(u["w"],"?kfuin=").concat(this.wpaDetail.kfuin),JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(t){0!==+t.code&&console.log("机器人导航点击跳转网页上报失败",t)})).catch((function(t){throw t}))}}}},"3bd9":function(t,e,n){"use strict";n("4de4"),n("d81d"),n("e9f5"),n("ab43"),n("d3b7");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lang-select__container",class:t.isMobile?"h5":"pc"},[e("div",{staticClass:"lang-select__mask",on:{click:t.hidePanel}}),e("div",{staticClass:"lang-select__panel"},[t._m(0),e("div",{staticClass:"lang-select__content"},[e("div",{staticClass:"lang-select__select"},[e("div",{staticClass:"webim-select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectdLang,expression:"selectdLang"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectdLang=e.target.multiple?n:n[0]}}},t._l(t.langList,(function(n){return e("option",{domProps:{value:n.value}},[t._v(t._s(n.text))])})),0)])]),e("div",{staticClass:"lang-select__switch"},[e("span",{staticClass:"lang-select__switch__container",on:{click:t.switchAutoTranslate}},[e("div",{staticClass:"webim-switch"},[e("input",{staticClass:"webim-switch__input",attrs:{type:"checkbox"}}),e("div",{class:["webim-switch__slider",t.autoTranslateSwitch?"webim-switch__slider--on":""]})])]),e("span",{staticClass:"lang-select__switch__label"},[t._v("Auto translation")])]),e("div",{staticClass:"lang-select__tip"},[t._v("Show translation when receiving message")]),e("div",{staticClass:"lang-select__button",on:{click:t.submit}},[t._v("OK")])])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"lang-select__header"},[e("div",{staticClass:"lang-select__icon"}),e("div",{staticClass:"lang-select__title"},[t._v("Choose the service language")])])}],o=n("5ac5"),s={inject:["to"],data:function(){return{isShowPanel:!0,autoTranslateSwitch:o["a"].translate&&o["a"].translate.translateAuto,langList:[{text:"English",value:"en"},{text:"繁体中文",value:"zh-TW"},{text:"简体中文",value:"zh"}],selectdLang:"",defaultLang:""}},computed:{isMobile:function(){return!this.$platform.pc}},mounted:function(){this.defaultLang=this.$i18n.locale||this.langList[2].value,this.selectdLang=this.defaultLang},methods:{switchAutoTranslate:function(){this.autoTranslateSwitch=!this.autoTranslateSwitch},submit:function(){var t=this;o["a"].translate&&(o["a"].translate.translateAuto=this.autoTranslateSwitch),this.selectdLang!==this.defaultLang?o["a"].setLangRequest(this.selectdLang).then((function(){o["a"].switchSetLangPanel(!1),o["a"].sendLangTip(!0)})).catch((function(){t.$Toast("切换语言失败")})):o["a"].switchSetLangPanel(!1)},hidePanel:function(){o["a"].switchSetLangPanel(!1)}}},c=s,r=(n("67c7"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"4d8fdc6e",null);e["a"]=l.exports},"3d4f":function(t,e,n){"use strict";n("a220")},"3e65":function(t,e,n){"use strict";n("81a3")},"3eda":function(t,e,n){},"3f18":function(t,e,n){},"3faf":function(t,e,n){},"3fed":function(t,e,n){},4022:function(t,e,n){"use strict";var i=n("5530"),a=(n("13d5"),n("e9f5"),n("9485"),n("d3b7"),n("ac1f"),n("5319"),n("ddb0"),n("b5c7")),o=a.keys().reduce((function(t,e){var n=Object(i["a"])({},t),o=a(e).default,s=e.replace("./","").replace("/index.vue","");return n[s]=o,n}),{});e["a"]=o},4086:function(t,e,n){"use strict";n("77e8")},"416e":function(t,e,n){"use strict";n("45a4")},4310:function(t,e,n){"use strict";n("dcd9")},"436f":function(t,e,n){"use strict";n("bc5c")},4492:function(t,e,n){},"454e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-revoke",class:{mine:t.data.mine}},[e("span",{attrs:{title:t.formatTime},domProps:{innerHTML:t._s(t.processedText)},on:{click:t.onClick}})])},a=[],o=n("c14f"),s=n("1da1"),c=(n("caad"),n("13d5"),n("b0c0"),n("e9f5"),n("9485"),n("d3b7"),n("5ac5")),r=n("bc3a"),l=n.n(r),d=n("9de0"),u={inject:["IMSDKType"],props:{data:Object},computed:{processedText:function(){var t,e=(null===(t=this.data)||void 0===t||null===(t=t.extuinInfo)||void 0===t?void 0:t.name)||this.$t("对方"),n="".concat(e+this.$t("撤回了一条消息"));return this.data.mine&&(n=this.$t("你撤回了一条消息")),this.canReedit&&(n+=' <a href="javascript:void(0)">'.concat(this.$t("重新编辑"),"</a>")),n},formatTime:function(){var t=new Date;return t.toLocaleDateString()+t.toLocaleTimeString()},canReedit:function(){var t=this.IMSDKType,e=t.MSG_TEXT,n=t.MSG_LONG_MSG,i=t.MSG_MIX,a=[e,n,i];return a.includes(this.data.origin_type)&&this.data.revoke_mine}},methods:{onClick:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n;return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:if(!t.canReedit){e.n=2;break}return e.n=1,t.getReeditContent();case 1:n=e.v,c["a"].addSendContent(n);case 2:return e.a(2)}}),e)})))()},getReeditContent:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n,i,a;return Object(o["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:n=t.data.origin_type,a=n,e.n=a===t.IMSDKType.MSG_TEXT?1:a===t.IMSDKType.MSG_MIX?2:a===t.IMSDKType.MSG_LONG_MSG?3:6;break;case 1:return e.a(2,t.data.content);case 2:return e.a(2,t.data.content.reduce((function(t,e){return t+e.content}),""));case 3:return e.p=3,e.n=4,t.getLongMesText().catch((function(){}));case 4:return i=e.v,e.a(2,i);case 5:return e.p=5,e.v,e.a(2,"");case 6:return e.a(2,"");case 7:return e.a(2)}}),e,null,[[3,5]])})))()},getLongMesText:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:return e.a(2,new Promise((function(e){if(t.data.previewContent)e(t.data.previewContent);else if(t.data.compressed)try{var n=d["c"].downloadAndParseLongText(t.data);return void e(n)}catch(i){e("")}else d["c"].getDownloadUrl(t.data,d["b"].OBJTYPES.OBJ_LONGTEXT).then((function(t){t?l.a.get(t,{responseType:"text",transformResponse:[function(t){return t}]}).then((function(t){200!==t.status||e(t.data)})).catch((function(){e("")})):e("")}))})))}}),e)})))()}}},m=u,f=(n("03b2"),n("2877")),h=Object(f["a"])(m,i,a,!1,null,"c2b3258c",null);e["default"]=h.exports},"45a4":function(t,e,n){},4758:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("99af"),n("ac1f"),n("466d");var i=function(){var t=navigator.userAgent.toLocaleLowerCase();return null!==t.match(/msie/)||null!==t.match(/trident/)},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#4A70FF",e="html, body{ --bg-color: ".concat(t," }");i()&&(e=".bg-primay{\n      background: ".concat(t,"!important;\n    }\n    .txt-primay{\n      color: ").concat(t,"!important;\n    }\n    .icon-primay{\n      color: ").concat(t,"!important;\n    }\n    a{\n      text-decoration: none;\n      color: ").concat(t,";\n    }"));var n=document.createElement("style");n.type="text/css",n.innerHTML=e,document.head.appendChild(n)}},4779:function(t,e,n){"use strict";n("f4de")},"487a":function(t,e){t.exports="data:image/png;base64,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"},"48d4":function(t,e,n){"use strict";n("6611")},"4bfe":function(t,e,n){"use strict";n("97c7")},"4d71":function(t,e){t.exports="data:image/png;base64,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"},"4d85":function(t,e,n){"use strict";n("3eda")},"4f77":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAzxJREFUWAnNmc9PE0EUx+cNDdsqZwlcMZ6MF/8Qo1KbgIQbB+KPGHsW8ExijMSTF0LA1Poj/iGc9Mq1Bi96wNhtKOP3O3Q2u7SLnd2ydJPNzM7Oe+/TNzM7815FZbzateU5ddK5Y5TcFmVmlahZZXDzEtVCvYV3LbzbV3rya7mxfZDFlPgImaWla+2w+whG7xqjbvrIiqjvAP5SDia2ZGfn57CyQwEC7Gon7NaNMXWj1NSwygf1g8EjEdmcDCY2AfpnUJ94238Bw9rCvRNj3mLIpuOCueuiDrXIatDY+3yeLp32Et6S8MHCmjkxH0cOR6P4wdRtbcBWGsfAF6b6rBLK4TYgq2mCo2zHkDcDM70szVd/z+rt86D1XIFwBKIjeg7pc1gfYKe2+KIoz8W9RZu0HW9jPUHMBcF5gZWaaD8rdFHPMGpEy3x84UQg/JS0w+ODC1kQPr8Iq7sclObcJygaYn7n8sBhor+rNN8Lb9Z9mBJ9sbotS6/RAnKHwByoJzp6P5jYCozXvRVx0dTJREkLyO0r7w7hj5EuQRYyRYDcW9O7X84bx6R5KvHd+ItAJhPZNI9MRRjMZANsmue5TMIFCJFNY6xPD5kFGPQ1QTZtT8K+kkX1xyld4+M8th4kW7STFOUUPztiOMQtP6ECe4v5UYIbCXgjt1mjZtrVh9etHtOdya2PCsBWYmjIWt4LGuaV6uIe3UU2fmb2R6dytJrIphlUj0qtKPnGe1T6yKYZ8TOozqsUYI/Lzb1bvEXrJ7n1gYlsp+dBRPx5FOKA+gtgW05HubH7hm3uOUuJ+WeZLKBNRyDiz6KoJ1MxKytXnHyvXnHPviXikCMyUS6KSRhAI4Ow7qvM9YfHPgWm9JTPoRy/xqn4vnvnWyLjsB582NugXAQ49kEToyjmSkCc/6Po67Jef9q2DLGkUmIvZjyKobKuzWgjlxhtx2NiKouG2GnG3JGwtthAWUhextkFXDNo7NZQJkYw4UFLjA42kQMBJ3zRpYVj8ugMnOVJM05P9vI0a/hJfZ5Ok/Np55wD1MZkY/flILhzAZ2hy05gDuUZU12d6sjv5/Dq+KWAnSdZMh0xlkn0OKSrF/U3xD8ZBXOiF6cnXwAAAABJRU5ErkJggg=="},"4f96":function(t,e,n){},"4fc2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASiSURBVHgB3ZrdbxtFEMDn9s53F8eOkjqBOnGbpBLB0CQIhUjAAxQq9SHKMxJv/A/8Hf03QPS1VR8qgeCpCIgE+UCuS/PRWjGoOUpjn+97lx1Hjuz4o967c+r2J8WOd/fOM7Mzu3OzliAG7t59qC0vj8/atjlJSCKlKHKGEKYGAdMaYySJVHzfr1LqG7quHFWrWjmfn6pARCQICQp99eroIr9FFoBNQwgYA0NR6FYUZYQVaAguy9Jis4WjQmlQdBx9Q1QRIQUODg5X4ha8Axuzs9Mb/Q7uS4FC4Wla1+0bkiRn4ByQJFap1dQ7/czGCxUoFHbfTqVGPhyw1duglLoA8o/z89n9XuN6KoAuw99W4OXS06W6KjAkwjfoqgTp1Li3tzcHwyM8svLoUWmhU0ebAhiwiYT+KQwZhMDHKFtb+9mGZNJdP++A7QdCiKrr3o2z7S0xEKff7+6XFp4fmznfD5KZC2PFK3O5IsRDSzycKoDTMzLifQkRMYxnmc2dv76ybKfFZ2VFNj54L38zk5kwIAK4vJrmzDeLi5KLn09dSNPsyJZH4X/7o/A1Cq/r2oPsxanv8C+hKqXAD+p9pmkmIQLoSul0eanxWcEXtD4h3gJEpPBwfx0FnZgY+/6j1eVbTV0/3P9l84tn/x1f/7N48Pnq++/egQjwWVja3mZbOAt1FyqVSgtBQK6J3AStXdx9ct22nEuNNsf1cvzmSU1NPOGWsprHBzRIuq6f4+013l9qtCdU2XjnrfnbIVyrHgv1GWCMLAleDOgOaO1OfVyRS92uQwWb48OyAXjMZD77ZPUmCBAEFFP4DYLuQykIJWmmaSW7CR8GVMgwngvdT5ZJlruRSlIpJwuC/PPUyEHM1GxHOLjHx4/m+CqUOJcU+UV4njsCgvg+zRDX9SZBEH5NpKWwE2bNFjak5zljRFGUFAjCd1dhaw0CTVMvEMZoWvRCy3ZjdzvP84VnNQh8jcCQwJdF4VnFXTmUAry+E3sMOLYrHIsIV0ByQBAawlqDgkjSSVYnguuGs1YvAipuFKz2Eb6iREpv4yJgNMQ+4FeJqirCJT2f0dhjwPPE9yNehz3iMUCEZ4BR0GEICALPIDMzk/sgCJ+62GOAUSbsQp5XLdeDmK/BZXjJYJotMh4r2/l8vlLfB3hqegivGNzoW/heV+Dy5eyWyH6AT1UQM/jQLzIe3acuC76c7AVsu9+Lc9Nv3IIYQYPMXJy63e94PEtA98H/T8sqjDH18eO/eVmlv6IWPpXF9WDz5lSmNDo60vesWtbxt20KIENW0O1GS2GrJZnDDoxuGFIoZZWzVeq2bNS2j++FSfAGj+Q4TqWtntSmAPoWz4/uw5BRq9k/Nfy+mVf+gOP1PWJqcHj47yx/+r/W7/IaH5JjWdbP+fyVBz1HQR8UCoV0MpleZ0wSLgCEgbHAsG3zXiefP4vwQTcM1KVw9WPbsR90N4OzoWmjK4TIkcvxTWLUBd/Z+X17bW1NaAkP/WMPVCSRSGV5JrskSWLF4aav51kwK4cR/PQOEAMNZRjzJwlRMljtay2YSc5JwhgYvCxZ1fXRo83NXw/CCt3M/w1YMfFQbTayAAAAAElFTkSuQmCC"},"4fe8":function(t,e,n){},"4ff9":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-long-msg",class:{disabled:t.isDisabled,"select-none":t.selectNone}},[t.isReplayMsg?e("div",{staticClass:"msg-c2b-ref",on:{click:t.handleRefMsgClick}},[e("div",{staticClass:"msg-c2b-ref-meta"},[e("div",{staticClass:"msg-c2b-ref-name"},[t._v(t._s(t.formatNickname)+":")]),e("div",{staticClass:"msg-c2b-ref-time"},[t._v(t._s(t.formatTime))])]),e("div",{staticClass:"msg-c2b-ref-content"},[t._v(t._s(t.sourceMsg.bytes_summary))])]):t._e(),e("span",{ref:"msgLongTxt",domProps:{innerHTML:t._s(t.processedText)}}),t.isTransLate()?e("msg-text-translate",{attrs:{data:t.longMessage}}):t._e()],1)},a=[],o=n("c14f"),s=n("1da1"),c=(n("e9f5"),n("7d54"),n("d3b7"),n("159b"),n("bc3a")),r=n.n(c),l=n("d90f"),d=n("9de0"),u=n("5ac5"),m=n("342f"),f=n("5a0c"),h=n.n(f),p=n("f5db"),g={props:{data:Object,selectNone:{type:Boolean,default:!1}},data:function(){return{selectedText:"",longMessage:"",isDisabled:!1}},components:{MsgTextTranslate:m["default"]},watch:{processedText:function(t){this.data._processedText=this.getCopyText(t)}},computed:{formatTime:function(){var t,e=null===(t=this.sourceMsg)||void 0===t?void 0:t.uint64_time;return h()(e).format("HH:mm")},formatNickname:function(){var t,e=null===(t=this.sourceMsg)||void 0===t?void 0:t.uint32_msg_direction;return 1===e||"访客"===e?this.$t("我"):this.$t("客服")},sourceMsg:function(){var t;return this.data.$_sourceMsg||(null===(t=this.data)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t?void 0:t.qd_source_msg)},hasMsgId:function(){var t,e;return(null===(t=this.data)||void 0===t||null===(t=t.$_sourceMsg)||void 0===t?void 0:t.str_current_qidian_msg_unique_id)||(null===(e=this.data)||void 0===e||null===(e=e.msgHead)||void 0===e||null===(e=e.msg_third_app_info)||void 0===e||null===(e=e.bytes_third_app_buf)||void 0===e||null===(e=e.bytes_crm_buf)||void 0===e?void 0:e.str_current_qidian_msg_unique_id)},isReplayMsg:function(){var t;return this.data.$_sourceMsg||(null===(t=this.data)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t||null===(t=t.qd_source_msg)||void 0===t?void 0:t.str_reference_qidian_msg_unique_id)},processedText:function(){var t=l["a"].filterHTML(this.longMessage);return t=l["a"].emojiEscape(t),-1===t.indexOf("<a ")&&(t=l["a"].urlEscape(t)),l["a"].coverEmojIndex2EmojiImg(t)}},mounted:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n,i;return Object(o["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:if(!t.data.previewContent){e.n=1;break}return t.longMessage=t.data.previewContent,e.a(2);case 1:if(!t.data.compressed){e.n=6;break}return e.p=2,e.n=3,d["c"].downloadAndParseLongText(t.data);case 3:t.longMessage=e.v,t.onLoad(),e.n=5;break;case 4:e.p=4,i=e.v,console.error(i),t.longMessage="[".concat(t.$t("获取消息内容异常"),"]");case 5:e.n=8;break;case 6:return e.n=7,d["c"].getDownloadUrl(t.data,d["b"].OBJTYPES.OBJ_LONGTEXT);case 7:n=e.v,n?r.a.get(n,{responseType:"text",transformResponse:[function(t){return t}]}).then((function(e){200===e.status?(t.longMessage=e.data,t.onLoad()):t.longMessage="[".concat(t.$t("获取消息内容异常"),"]")})).catch((function(){t.longMessage="[".concat(t.$t("获取消息内容异常"),"]")})):t.longMessage="[".concat(t.$t("获取消息内容异常"),"]");case 8:t.initDelegations();case 9:return e.a(2)}}),e,null,[[2,4]])})))()},methods:{handleRefMsgClick:function(){var t;this.$emit("onReplayMsgClick",null===(t=this.sourceMsg)||void 0===t?void 0:t.str_reference_qidian_msg_unique_id)},getCopyText:function(t){var e=this,n="",i=document.createElement("div");return i.innerHTML=t,i.childNodes.forEach((function(t){console.dir(t,"emojiText-image"),"IMG"===t.nodeName&&"emojiText-image"===t.className&&(n+="[".concat(e.$t("表情"),"]")),"#text"===t.nodeName&&(n+=t.nodeValue),"SPAN"===t.nodeName&&"emoji"===t.className&&(n+="[".concat(e.$t("表情"),"]"))})),n},onLoad:function(){u["a"].checkIfNeedScrollToBottom(this.data.fromHisotry)},isTransLate:function(){var t=u["a"].translate||{},e=t.translateSwitch,n=t.translateAuto;return+e&&n&&!this.data.mine},initDelegations:function(){Object(p["a"])(this.$refs.msgLongTxt,"a",{callback:this.linkClickHandler})},linkClickHandler:function(t){var e=t.getAttribute("href"),n=Object(p["c"])(e);n&&"leaveform"===n.method&&(this.isDisabled=!0)}}},v=g,b=(n("a4e3"),n("2877")),_=Object(b["a"])(v,i,a,!1,null,"791b3e97",null);e["default"]=_.exports},5015:function(t,e,n){"use strict";n("a071")},5023:function(t,e,n){"use strict";n("6d37")},"50d6":function(t,e,n){},5168:function(t,e,n){t.exports=n.p+"img/tip.f22a5167.svg"},"527b":function(t,e,n){"use strict";n("29a1")},5302:function(t,e,n){"use strict";n("c624")},"532f":function(t,e,n){},"53b2":function(t,e,n){"use strict";n("9e4a")},"55b6":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("5530"),a=(n("d81d"),n("d3b7"),n("2b0e")),o=n("a925"),s=[{locale:"zh",name:"简体中文",source:n("60cc").default},{locale:"zh-TW",name:"繁體中文",source:n("ac26").default},{locale:"en",name:"English",source:n("d5d6").default}],c={"zh-tw":"zh-TW","en-us":"en","zh-cn":"zh"},r=function(){var t={};return s.forEach((function(e){t[e.locale]=e.source})),t}();a["a"].use(o["a"]);var l="qdim-locale",d=new o["a"]({locale:u(r),messages:r});function u(t){try{var e=localStorage&&localStorage.getItem(l);if(e&&e in t)return e}catch(n){}return s[0].locale}function m(t){try{if(!(t in r))return void console.error("locale '".concat(t,"' is not exist!"));d.locale=t,localStorage.setItem(l,t)}catch(e){console.log(e)}}function f(){return s.map((function(t){var e=Object(i["a"])({},t);return delete e.source,e}))}a["a"].prototype.$setLocale=m,a["a"].prototype.$getAllLocales=f,e["b"]=d},5633:function(t,e,n){"use strict";n("fa30")},5714:function(t,e,n){},"57df":function(t,e,n){},"58da":function(t,e,n){"use strict";n("69f1")},"5ac5":function(t,e,n){"use strict";e["a"]={}},"5afa":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-mix"},[t.isReplayMsg?e("div",{staticClass:"msg-c2b-ref",on:{click:t.handleRefMsgClick}},[e("div",{staticClass:"msg-c2b-ref-meta"},[e("div",{staticClass:"msg-c2b-ref-name"},[t._v(t._s(t.formatNickname)+":")]),e("div",{staticClass:"msg-c2b-ref-time"},[t._v(t._s(t.formatTime))])]),e("div",{staticClass:"msg-c2b-ref-content"},[t._v(t._s(t.sourceMsg.bytes_summary))])]):t._e(),t._l(this.data.content,(function(n,i){return[n.type===t.IMSDKType.MSG_TEXT?e("span",{key:i,domProps:{innerHTML:t._s(t.processedText(n))}}):n.type===t.IMSDKType.MSG_FACE?e("span",{key:i},[n.src?e("img",{staticClass:"emojiText-image",attrs:{src:n.src}}):n.content?e("span",{domProps:{innerHTML:t._s(t.processedText(n))}}):t._e()]):n.type===t.IMSDKType.MSG_MEDIA?e("span",{key:i},[1===n.mediaType?e("img",{attrs:{src:n.mediaUrl}}):t._e()]):n.type===t.IMSDKType.MSG_IMAGE&&n._src?e("span",{key:i},[e("img",{attrs:{src:n._src}})]):t._e()]})),t.isTransLate()?e("msg-text-translate",{attrs:{data:t.translateData}}):t._e()],2)},a=[],o=n("c14f"),s=n("1da1"),c=(n("13d5"),n("b0c0"),n("e9f5"),n("9485"),n("d3b7"),n("d90f")),r=n("8aeb"),l=n("9de0"),d=n("342f"),u=n("5ac5"),m=n("5a0c"),f=n.n(m),h={inject:["IMSDKType"],props:{data:Object},components:{MsgTextTranslate:d["default"]},data:function(){return{selectedText:""}},computed:{formatTime:function(){var t,e=null===(t=this.sourceMsg)||void 0===t?void 0:t.uint64_time;return f()(e).format("HH:mm")},formatNickname:function(){var t,e=null===(t=this.sourceMsg)||void 0===t?void 0:t.uint32_msg_direction;return 1===e||"访客"===e?this.$t("我"):this.$t("客服")},sourceMsg:function(){var t;return this.data.$_sourceMsg||(null===(t=this.data)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t?void 0:t.qd_source_msg)},hasMsgId:function(){var t,e;return(null===(t=this.data)||void 0===t||null===(t=t.$_sourceMsg)||void 0===t?void 0:t.str_current_qidian_msg_unique_id)||(null===(e=this.data)||void 0===e||null===(e=e.msgHead)||void 0===e||null===(e=e.msg_third_app_info)||void 0===e||null===(e=e.bytes_third_app_buf)||void 0===e||null===(e=e.bytes_crm_buf)||void 0===e?void 0:e.str_current_qidian_msg_unique_id)},isReplayMsg:function(){var t;return this.data.$_sourceMsg||(null===(t=this.data)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t||null===(t=t.qd_source_msg)||void 0===t?void 0:t.str_reference_qidian_msg_unique_id)},translateData:function(){return this.data.content.reduce((function(t,e){return t+e.content}),"")}},created:function(){this.formatFacePath(),this.formatImgPath()},methods:{handleRefMsgClick:function(){var t;this.$emit("onReplayMsgClick",null===(t=this.sourceMsg)||void 0===t?void 0:t.str_reference_qidian_msg_unique_id)},formatFacePath:function(){for(var t=0;t<this.data.content.length;t++)if(this.data.content[t].type===this.IMSDKType.MSG_FACE){var e=c["a"].faceTipEscape(this.data.content[t].index),n=r["b"].indexOf(this.data.content[t].index);-1!==n&&(this.data.content[t].src="./static/newqq/".concat(n,".png")),this.data.content[t].content=e||this.data.content[t].content||this.$t("custom_Face")}},formatImgPath:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n,i,a;return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:n=0;case 1:if(!(n<t.data.content.length)){e.n=4;break}if(t.data.content[n].type!==t.IMSDKType.MSG_IMAGE){e.n=3;break}return i={path:t.data.content[n].content,name:t.data.content[n].name,size:t.data.content[n].size,resStore:t.data.content[n].resStore},e.n=2,l["c"].getDownloadUrl(i,l["b"].OBJTYPES.OBJ_IMAGE);case 2:a=e.v,t.$set(t.data.content[n],"_src",a);case 3:n++,e.n=1;break;case 4:return e.a(2)}}),e)})))()},processedText:function(t){var e=t.content,n=c["a"].filterHTML(e);return n=c["a"].emojiEscape(n),-1===n.indexOf("<a ")&&(n=c["a"].urlEscape(n)),n},isTransLate:function(){var t=u["a"].translate||{},e=t.translateSwitch,n=t.translateAuto;return+e&&n&&!this.data.mine}}},p=h,g=(n("436f"),n("2877")),v=Object(g["a"])(p,i,a,!1,null,"ff884e02",null);e["default"]=v.exports},"5b1a":function(t,e,n){"use strict";n("5e9f")},"5b7a":function(t,e,n){t.exports=n.p+"img/qq.99c0f03f.svg"},"5bb4":function(t,e,n){"use strict";n("a7cb")},"5bb8":function(t,e,n){},"5c0b":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"l",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return v})),n.d(e,"k",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"h",(function(){return _}));n("99af"),n("b64b"),n("ac1f"),n("00b4"),n("466d"),n("5087");function i(t,e){var n=-1===t.indexOf("?")?"?":"&",i=Object.prototype.hasOwnProperty;if(e)for(var a in e)i.call(e,a)&&(t+="".concat(n+a,"=").concat(e[a]),n="&");return t}var a={};function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=function(e){var n=e.data;if(n){try{a=JSON.parse(n),console.log("[receiveMsg]",a)}catch(i){return void console.warn("PostMsg Parse Error ".concat(n),i)}"function"===typeof t&&t(a)}};e.addEventListener("message",n)}function s(){var t=document.documentElement||document.body,e=t.clientWidth,n=t.clientHeight,i=t.scrollTop;return{w:e,h:n,scrollTop:i}}var c=function(){var t=[];function e(e,i){n(i.id),t[i.id]=setTimeout(e,i.delay)}function n(e){t[e]&&clearTimeout(t[e])}return{make:e,clear:n}}(),r=/^oa.*.qq.com/.test(location.host),l=/chat.*?-gray/.test(location.href),d=navigator.userAgent.toLowerCase(),u=/^((?!chrome|android).)*safari/.test(d),m="wxwork"==d.match(/wxwork/i),f=!m&&"micromessenger"==d.match(/micromessenger/i),h="miniprogram"===window.__wxjs_environment,p={oa:{appId:"wx8b7354939f7b1230",originId:"gh_80dc8192b287"},gray:{appId:"wx3d4ff77c95ac42ee",originId:"gh_1b3528ea7c6e"},ol:{appId:"wx76278ae97cfea8ce",originId:"gh_97d7d14a21da"}},g=p.ol.appId,v=p.ol.originId;r?(g=p.oa.appId,v=p.oa.originId):l&&(g=p.gray.appId,v=p.gray.originId);var b=function(){return/MQQBrowser/i.test(navigator.userAgent)}();function _(){var t=navigator.userAgent.toLowerCase();return"micromessenger"===t.match(/MicroMessenger/i)}},"5c27":function(t,e,n){"use strict";n("6929")},"5c72":function(t,e,n){t.exports=n.p+"img/quite.ddf858dc.svg"},"5e9f":function(t,e,n){},"600c":function(t,e,n){"use strict";n("57df")},"60cc":function(t,e,n){"use strict";n.r(e),e["default"]={lang:"简体中文",qqface_Smile:"微笑",qqface_Grimac:"撇嘴",qqface_Drool:"色",qqface_Scowl:"发呆",qqface_Chill:"得意",qqface_Sob:"流泪",qqface_Shy:"害羞",qqface_Silent:"闭嘴",qqface_Sleep:"睡",qqface_Cry:"大哭",qqface_Awkward:"尴尬",qqface_Angry:"发怒",qqface_Tongue:"调皮",qqface_Grin:"呲牙",qqface_Surprise:"惊讶",qqface_Frown:"难过",qqface_CoolGuy:"酷",qqface_Helpless:"冷汗",qqface_Scream:"抓狂",qqface_Puke:"吐",qqface_Chuckle:"偷笑",qqface_Joyful:"可爱",qqface_Slight:"白眼",qqface_Smug:"傲慢",qqface_Hungry:"饥饿",qqface_Drowsy:"困",qqface_Panic:"惊恐",qqface_Sweat:"流汗",qqface_Laugh:"憨笑",qqface_Commando:"大兵",qqface_Determined:"奋斗",qqface_Scold:"咒骂",qqface_Confused:"疑问",qqface_Shhh:"嘘...",qqface_Dizzy:"晕",qqface_Torturing:"折磨",qqface_Toasted:"衰",qqface_Skull:"骷髅",qqface_Hammer:"敲打",qqface_Bye:"再见",qqface_Speechless:"擦汗",qqface_NosePick:"抠鼻",qqface_Clap:"鼓掌",qqface_Embarrased:"糗大了",qqface_Trick:"坏笑","qqface_Hum!L":"左哼哼","qqface_Hum!R":"右哼哼",qqface_Yawn:"哈欠","qqface_Pooh-pooh":"鄙视",qqface_Shrunken:"委屈",qqface_TearingUp:"快哭了",qqface_Sly:"阴险",qqface_Kiss:"亲亲","qqface_What!":"吓",qqface_Whimper:"可怜",qqface_Cleaver:"菜刀",qqface_Watermelon:"西瓜",qqface_Beer:"啤酒",qqface_Basketball:"篮球",qqface_Pingpong:"乒乓",qqface_Coffee:"咖啡",qqface_Rice:"饭",qqface_Pig:"猪头",qqface_Rose:"玫瑰",qqface_Wilt:"凋谢",qqface_Lips:"示爱",qqface_Heart:"爱心",qqface_BrokenHeart:"心碎",qqface_Cake:"蛋糕",qqface_Lightning:"闪电",qqface_Bomb:"炸弹",qqface_Knife:"刀",qqface_Football:"足球",qqface_Beetle:"瓢虫",qqface_Poop:"便便",qqface_Moon:"月亮",qqface_Sun:"太阳",qqface_Gift:"礼物",qqface_Hug:"拥抱",qqface_Thumbsup:"强",qqface_Thumbsdown:"弱",qqface_Shake:"握手",qqface_Victory:"胜利",qqface_Salute:"抱拳",qqface_Beckon:"勾引",qqface_Fist:"拳头",qqface_Bad:"差劲",qqface_LoveYou:"爱你",qqface_NO:"NO",qqface_OK:"OK",qqface_Love:"爱情",qqface_Blow_a_kiss:"飞吻",qqface_Waddle:"跳跳",qqface_Tremble:"发抖","qqface_Aaagh!":"怄火",qqface_Twirl:"转圈",qqface_Kowtow:"磕头",qqface_Turn_round:"回头",qqface_Rope_Skipping:"跳绳",qqface_Wave_hand:"挥手",qqface_Excited:"激动",qqface_Street_Dance:"街舞",qqface_Give_a_kiss:"献吻",qqface_Tai_Chi_L:"左太极",qqface_Tai_Chi_R:"右太极",qqface_Bliss:"双喜",qqface_Firecracker:"鞭炮",qqface_Lantern:"灯笼",qqface_Fortune:"发财",qqface_Karaoke:"K歌",qqface_Shopping:"购物",qqface_Email:"邮件",qqface_Handsome:"帅",qqface_Hurray:"喝彩",qqface_Pray:"祈祷",qqface_Furious:"爆筋",qqface_Lollipop:"棒棒糖",qqface_Drink_milk:"喝奶",qqface_Noodles:"下面",qqface_Banana:"香蕉",qqface_Plane:"飞机",qqface_Driving:"开车",qqface_Highspeed_Rail_L:"高铁左车头",qqface_Carriage:"车厢",qqface_Highspeed_Rail_R:"高铁右车头",qqface_Cloudy:"多云",qqface_Rainy:"下雨",qqface_Cash:"钞票",qqface_Panda:"熊猫",qqface_Light_bulb:"灯泡",qqface_Windmill:"风车",qqface_Alarm_Clock:"闹钟",qqface_Umbrella:"大伞",qqface_Balloon:"彩球",qqface_Ring:"钻戒",qqface_Sofa:"沙发",qqface_Toilet_Paper:"纸巾",qqface_Medicine:"药",qqface_Pistol:"手枪",qqface_Frog:"青蛙",custom_Face:"自定义表情",common_play_error:"无法播放，请下载后播放",common_download:"下载",common_page_title:"在线客服",common_sendbtn_text:"发送",common_voicebtn_hold_text:"按住 说话",common_voicebtn_release_text:"松开 发送",common_voicebtn_cancel_text:"松开 取消",common_insert_photo_text:"上传图片",common_insert_emoji_text:"输入表情",common_manual_close_text:"结束会话",common_insert_file_text:"发送文件",common_feed_back_text:"满意度",common_screenshot_text:"截图",common_screenshot_tip_QQ:"推荐使用QQ/微信截图",common_screenshot_tip_mac:"Mac：快捷键Shift+Command+4截图",common_screenshot_tip_win:'Windows：使用自带"截图工具"',short_insert_photo_text:"照片",short_insert_file_text:"文件",common_insert_call_text:"音视频通话",common_insert_audo_text:"转人工",common_insert_businessCard_text:"发送名片",common_insert_businessCard_balloon_text:"一键发送名片",common_postarea_pc_placeholder:"请输入，按Enter直接发送消息，Ctrl+Enter换行",common_postarea_Macpc_placeholder:"请输入，按Enter直接发送消息，Command+Enter换行",common_postarea_mobile_placeholder:"请点击输入",common_chatting_text:"交谈中",common_leave_message_text:"留言了",common_chatting_with_text:"与$1交谈中",common_qq_chat_text:"去QQ交谈",common_start_qq_chat_text:"发起QQ会话",common_new_message_text:"你有【新消息】",common_add_qq_friend_text:"添加QQ联系人",common_confirm_text:"确定",common_cancel_text:"取消",common_tencent_certification:"",common_lang_en:"英语",common_lang_zh:"简体中文","common_lang_zh-TW":"繁体中文",common_tencent_translator:"腾讯翻译君实时翻译",common_tencent_translator_fail:"翻译失败-腾讯翻译君",common_tencent_translator_only:"仅支持中英互译-腾讯翻译君",common_allow_text:"允许",common_not_allow_text:"不允许",common_read_all:"阅读全文",common_typing:"正在输入...",common_typing_human:"[正在输入...]",common_view_all:"点击查看全部",common_audio_text:"音频通话",common_video_text:"视频通话",common_video_confirm:"我知道了",common_video_text_call:"前往通话",chat_max_post_limit_text:"发送消息过长，请分条发送。",chat_history_msg_get_text:"点击加载更多历史消息",chat_history_msg_get_error:"加载历史消息失败",chat_history_msg_loading_text:"正在加载历史消息",chat_offline_msg_loading_text:"正在加载新消息",chat_offline_msg_fail_text:"新消息加载失败，点击重试",chat_offline_msg_over_text:"以下为未读消息",chat_menu_msg_loading_text:"正在加载菜单导航",chat_menu_msg_fail_text:"菜单导航加载失败，点击重试",chat_menu_msg_history_expired_text:"历史数据已失效",chat_graphic_msg_readmore_text:"阅读原文",chat_graphic_msg_viewdmore_text:"查看更多",chat_feedback_title_text:"请为本次服务打分",chat_feedback_submit_text:"提交",chat_feedback_postarea_placeholder:"感谢您的评分，可留下其他意见或建议",chat_feedback_submitting_text:"正在提交评价",chat_feedback_success_msg:"提交成功",chat_feedback_fail_msg:"提交失败",chat_feedback_error_msg:"网络错误，请重试",chat_feedback_very_dissatisfied_text:"很不满意",chat_feedback_dissatisfied_text:"不满意",chat_feedback_neutral_text:"一般",chat_feedback_satisfied_text:"满意",chat_feedback_very_satisfied_text:"很满意",chat_add_friend_fetching_protocol_msg:"正在获取添加协议",chat_add_friend_copy_success_msg:"复制成功",chat_add_friend_fail_text:"失败",chat_add_friend_fail_get_number_fail_text:"获取号码数据失败",chat_add_friend_fail_no_text_selected_text:"没有选中文字，请手工复制",chat_add_friend_fail_browser_not_support_text:"浏览器不支持，请手工复制",chat_change_queue_immediately:"立即切换",chat_close_session_confirm:"结束会话后，重新咨询可能需要排队，确认结束会话吗？",chat_close_session_succ:"会话已结束，如需继续服务请直接发送消息",chat_incoming:"正在接入，请稍候",chat_incoming_success:"接入成功",chat_incoming_timeout:'接入失败，请<a class="btn-refresh" href="javascript:;" onclick="location.reload();">刷新页面</a>重试',chat_incoming_timeout_inframe:"接入失败，请刷新页面重试",sysmsg_load_corpinfo_msg:"正在加载企业信息",sysmsg_load_corpinfo_fail_msg:"企业信息拉取失败",sysmsg_load_staff_msg:"正在加载员工信息",sysmsg_load_staff_fail_msg:"员工信息拉取失败",exit_queque_btn:"退出排队",exit_queue_confirm:"确认退出当前队伍么？",exit_queue_success:"你已退出排队",exit_queue_fail:"退出排队失败，请重试",notice_slider_header:"【公告】",notice_popup_header:"企业公告",notice_item_header:"【公告】",notice_item_header_gjh:"【通知】",ec_goods_text:"商品",ec_order_text:"订单",send_business_card_btn:"发送名片",xml_product_name:"商品名称",xml_product_exhibition_area:"商品展区",xml_product_category:"商品类别",xml_purchase_quantity:"采购数量",xml_purchase_unit:"采购单位",xml_buyer_name:"采购商名称",xml_buyer_location:"采购商所在地",xml_buyer_tag:"采购商属性标签",xml_source_product:"采购产品",xml_source_category:"产品分类",xml_source_detail:"采购意向详情",xml_buyer_company_name:"采购商公司名称",xml_buyer_company_country:"公司所在地",xml_exhibit_name:"展品名称",xml_exhibit_uom:"单位",xml_exhibit_price:"单价",xml_exhibit_currency:"币种",xml_exhibit_detail:"说明",xml_exhibit_jump_tip:"点击查看详细采购意向",sysmsg_msg_current_service_lang:"当前服务语言是",sysmsg_msg_change_service_lang:"服务语言已更换为",msg_unread:"未读",msg_beenread:"已读",ai_msg_tip:"该答案由AI助手生成，请谨慎鉴别","说话时间太短":"说话时间太短","松开发送 上滑取消":"松开发送 上滑取消","退出预览":"退出预览","您打开了多个会话页面，可激活当前页面继续咨询":"您打开了多个会话页面，可激活当前页面继续咨询","继续咨询":"继续咨询","当前浏览器不支持录音":"当前浏览器不支持录音","即将发送语音":"即将发送语音","后将停止录音":"后将停止录音","录音异常，请检查麦克风或刷新页面重试，如依旧失败请发送文字消息":"录音异常，请检查麦克风或刷新页面重试，如依旧失败请发送文字消息","松开手指 取消发送":"松开手指 取消发送","无法定位原消息":"无法定位原消息","复制失败，请重试":"复制失败，请重试","复制链接到浏览器即可下载文件":"复制链接到浏览器即可下载文件","一键复制":"一键复制","关闭":"关闭","复制链接到浏览器下载":"复制链接到浏览器下载","文件":"文件","图片":"图片","语音":"语音","结构化消息":"结构化消息","图文消息":"图文消息","表情":"表情","未知消息类型":"未知消息类型","我":"我","客服":"客服","转文字失败":"转文字失败","转文字":"转文字","不能发送空白消息":"不能发送空白消息","获取消息内容异常":"获取消息内容异常","未知类型消息":"未知类型消息","登录失败，错误码为":"登录失败，错误码为","复制":"复制","回复":"回复","撤回":"撤回","条新消息":"条新消息","收到一张图片":"收到一张图片","收到一条新消息":"收到一条新消息","您有":"您有","撤回了一条消息":"撤回了一条消息","重新编辑":"重新编辑","撤回消息超时,请稍后重试":"撤回消息超时,请稍后重试","你撤回了一条消息":"你撤回了一条消息","对方":"对方","不支持的图片格式：":"不支持的图片格式：","不支持文件格式：":"不支持的文件格式：","发送图片大小超出限制":"发送图片大小超出限制","发送文件大小超出限制":"发送文件大小超出限制","一次最多支持选择5张图片":"一次最多支持选择5张图片","您的问题将会逐一应答，请耐心等待":"您的问题将会逐一应答，请耐心等待","第三方电商接口暂无数据":"第三方电商接口暂无数据","不等了，去留言":"不等了，去留言"}},"60ce":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return r}));var i=31,a=32,o=99,s={ACTION_REPLY:1,ACTION_APPLET:2,ACTION_VISITOR:3,ACTION_WEB:4,ACTIVE_FEEDBACK:i,CLOSE_SESSION:a,SYSTEM_ACTION:o},c={REPLY_TXT:1,REPLY_IMG:2,REPLY_IMGTXT:3,REPLY_APPLETPLUGIN:10},r={IMGTXT:1,WEB:2,ACTION_VISITOR:3,ACTION_WEB:4,KNOWLEDGE:6,HUMAN:7,ACTIVE_FEEDBACK:i,CLOSE_SESSION:a,SYSTEM_ACTION:o,ACTION_AISPEAKER:10001}},"63c0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-image",class:{"fake-image":!t.isRealImage},style:t.styleWH},[e("img",{ref:"imgEle",staticClass:"pic",attrs:{src:t.formatPath,crossorigin:"anonymous"},on:{load:t.onLoad,click:t.viewImage}})])},a=[],o=n("c14f"),s=n("1da1"),c=(n("99af"),n("14d9"),n("e9f5"),n("7d54"),n("d3b7"),n("159b"),n("5ac5")),r=n("7b05"),l=n("bc3a"),d=n.n(l),u=n("9de0"),m={inject:["messageList","IMSDKType"],props:{data:Object},data:function(){return{formatPath:"",viewPath:"",isRealImage:!1,copyBlob:null,imageExt:".png"}},computed:{formatTime:function(){var t=new Date(this.data.time);return t.toLocaleDateString()+t.toLocaleTimeString()},styleWH:function(){var t=200,e=this.data,n=e.imageWidth,i=e.imageHeight;if(!n||!i)return"";if(n<t&&i<t)return"width:".concat(n,"px; height:").concat(i,"px");var a=n/i,o="",s="";return n>i?(o=t,s=t/a):(s=t,o=t*a),"width:".concat(o,"px; height:").concat(s,"px")}},watch:{viewPath:function(t){t&&this.$set(this.data,"viewPath",t)}},created:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n;return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:if(null===(n=t.data)||void 0===n||!n.tempPath){e.n=2;break}return e.n=1,t.getNetworkImg(t.data.tempPath);case 1:t.viewPath=e.v;case 2:return e.a(2)}}),e)})))()},mounted:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:if("blob"!==t.data.uuid&&0!==t.data.path.indexOf("http")){e.n=1;break}return t.formatPath=t.data.path,0===t.formatPath.indexOf("http")&&(t.viewPath=t.formatPath),e.a(2);case 1:return e.n=2,t.getNetworkImg(t.data.path);case 2:t.formatPath=e.v,t.formatPath&&(t.viewPath=t.formatPath,d.a.get("".concat(t.formatPath,"&imageInfo")).then((function(e){var n=e.data;t.imageExt=".".concat(n.format)})).catch((function(t){console.log("axios",t)})));case 3:return e.a(2)}}),e)})))()},methods:{getNetworkImg:function(t){var e=this;return Object(s["a"])(Object(o["a"])().m((function n(){return Object(o["a"])().w((function(n){while(1)switch(n.n){case 0:return n.n=1,u["c"].getDownloadUrl({path:t,size:e.data.imageSize,name:e.data.imageName},u["b"].OBJTYPES.OBJ_IMAGE);case 1:return n.a(2,n.v)}}),n)})))()},viewImage:function(){var t=this;if(this.viewPath){var e=[];this.messageList.forEach((function(n){n.type===t.IMSDKType.MSG_IMAGE&&n.viewPath&&e.push(n.viewPath)}));var n={current:this.viewPath,array:e};console.log(n);var i=n.array.indexOf(n.current);this.$PictureViewer.show({showPhotoPreView:!0,photoPreviewIndex:i,photoUrls:n.array,closeOnClickMask:!1})}},onLoad:function(){var t,e;this.isRealImage=!0,(c["a"].LAST_SHOW_IMG_TIME&&Date.now()-c["a"].LAST_SHOW_IMG_TIME<300||Object(r["a"])()<r["b"])&&(c["a"].scrollToBottom(!0,500),c["a"].LAST_SHOW_IMG_TIME=Date.now()),this.data.imageWidth=null===(t=this.$refs)||void 0===t||null===(t=t.imgEle)||void 0===t?void 0:t.naturalWidth,this.data.imageHeight=null===(e=this.$refs)||void 0===e||null===(e=e.imgEle)||void 0===e?void 0:e.naturalHeight}},beforeDestroy:function(){this.copyBlob&&(this.copyBlob=null)}},f=m,h=(n("3e65"),n("2877")),p=Object(h["a"])(f,i,a,!1,null,"b5ffabd0",null);e["default"]=p.exports},"641c":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return t.guidanceInfo.guidanceWechat&&t.qrUrl?e("div",[t.isMobile?t._e():e("div",{staticClass:"icon-guidance-wechat",on:{mouseenter:function(e){return t.showQRCode(e,!0)},mouseleave:function(e){return t.showQRCode(e,!1)}}},[e("img",{attrs:{src:n("72be")}})]),e("div",{ref:"qrcodePopPC",staticClass:"guidance-wechat",class:t.isShow?"guidance-wechat-show animate__animated animate__fadeIn":"",style:t.pos},[e("img",{staticClass:"qrcode",attrs:{src:t.qrUrl}}),e("div",{staticClass:"comment"},[t._v(t._s(t.comment))]),e("div",{staticClass:"outer"}),e("div",{staticClass:"inner"})]),t.isMobile?e("div",{staticClass:"icon-guidance-wechat",on:{click:function(e){return e.stopPropagation(),t.showQRCodeH5(!0)}}},[e("img",{attrs:{src:n("72be")}})]):t._e(),e("div",{ref:"qrcodePopH5",staticClass:"guidance-wechat-h5",class:t.isShowH5?"guidance-wechat-h5-show animate__animated animate__fadeIn":"",on:{click:function(e){return t.showQRCodeH5(!1)}}},[e("div",{staticClass:"content",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"title"},[t._v(t._s(t.comment))]),e("img",{staticClass:"qrcode",attrs:{src:t.qrUrl}}),e("div",{staticClass:"cmd"},[t._v("长按二维码保存图片")]),e("div",{staticClass:"tip"},[t._v("获取更多企业资料和个性化服务")])])])]):t._e()},a=[],o=(n("99af"),{props:{guidanceInfo:{type:Object}},data:function(){return{isShow:!1,pos:"",isShowH5:!1}},computed:{qrUrl:function(){var t;return(null===(t=this.guidanceInfo)||void 0===t||null===(t=t.guidanceData)||void 0===t?void 0:t.qrUrl)||""},isMobile:function(){return!this.$platform.pc},comment:function(){var t,e=null===(t=this.guidanceInfo)||void 0===t||null===(t=t.guidanceData)||void 0===t?void 0:t.type,n="";switch(e){case"企业公众号":n="关注公众号";break;case"企业小程序":n="打开小程序";break;case"企业群":n="加入企业群";break;default:}return n="扫码".concat(n),this.isMobile&&(n="企业群"===e?"QQ扫描二维码，".concat(n):"微信扫描二维码，".concat(n)),n}},methods:{showQRCode:function(t,e){this.isShow=e;var n=this.$refs.qrcodePopPC;document.body.append(n);var i=96,a=12,o=10;if(e){var s=this.getPos(this.$el),c=s.x,r=s.y;this.pos="\n          left: ".concat(c-i/2,"px;\n          top: ").concat(r-i-a-o,"px;\n        ")}},showQRCodeH5:function(t){if(this.isMobile){this.isShowH5=t;var e=this.$refs.qrcodePopH5;document.body.append(e)}},getPos:function(t){var e=t.getBoundingClientRect();return{x:e.left+window.pageXOffset+e.width/2,y:e.top+window.pageYOffset}}}}),s=o,c=(n("c322"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,"a51ff2f4",null);e["a"]=r.exports},6467:function(t,e,n){var i={"./BasicType.vue":"fe1b","./BtnType.vue":"9102","./CombinedType.vue":"79a0","./LittleCardType.vue":"bcaa","./MultiBasicType.vue":"9014","./MultiThemeType.vue":"9c76","./SimpleTextType.vue":"9f4f"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id="6467"},6507:function(t,e,n){t.exports=n.p+"img/loading.04365d1f.svg"},6611:function(t,e,n){},"663c":function(t,e,n){},"67c7":function(t,e,n){"use strict";n("a7b6")},6866:function(t,e,n){"use strict";n("3860")},6929:function(t,e,n){},"69f1":function(t,e,n){},"6bed":function(t,e,n){},"6c52":function(t,e){t.exports="data:image/gif;base64,R0lGODlhYABgAIABAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzAyODBCNzE0MERDMTFFQkFCNDI5MTYzREVERkZDRDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzAyODBCNzI0MERDMTFFQkFCNDI5MTYzREVERkZDRDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCN0JEMUZDMjQwREExMUVCQUI0MjkxNjNERURGRkNEMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDMDI4MEI3MDQwREMxMUVCQUI0MjkxNjNERURGRkNEMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUvAAEALAAAAABgAGAAAAKjjI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJjUqn1Ko1AwBcHdnsltH1fhHh7vhQNo/T4TVbbX2Xr/J5tW6f4vPRPf/p99cU2NZHqCV1SEV45xe3t4X3VXf2dhbAdmkgOAmniYn4KTpKWmp6ipqqusra6voKGys7S1tre4ubq7vL2+v7CwxRAAAh+QQFAwABACwnABQAEgA4AAACaYyPAckJ39qbEc1b1cVy7+5xR+g5JGWdkKmyJ6MubgiScHu/ub2XvT8Dpng/UdA4pNWESeZIV0RFV1NZNYK7Lj9b7hH5JH6lTacGOqaWvWnrmh1GG2LuuHhOr6rxcjt4ncG3V0EWqMBQAAAh+QQFLwABACwAAAAAAQABAAACAkwBACH5BAUyAAEALBIABQAYAFYAAAKijI9poO0B4pswSqqsxkh7XnkbJopUaT7oN63W6V5OLM8x7JI5vuo9j/IFgSkiq7UzjpQ1VRL5YzI4T2cUWgJVrVlhV6q9YotgqphLHh/L3rV6yY6/X+ZhGz5vot17fJ9+Byg1FahnYyf3J5hHmHiIqGjYsPX4xdh4WQcZiVlpyam5OUmZcVO4OGp6Kdmhysl6QNNZStp65on6BmILC7U7qVAAADs="},"6c5c":function(t,e,n){t.exports=n.p+"img/goods.6c36f0e3.svg"},"6cd4":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));var i="data-xmleventtype",a="data-xmleventfun"},"6d37":function(t,e,n){},"6d51":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-unknown"},[t._v("["+t._s(t.$t("未知类型消息"))+"]")])},a=[],o={},s=o,c=(n("24bc"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,"cde6efaa",null);e["default"]=r.exports},"6d63":function(t,e,n){t.exports=n.p+"img/sendBtn.d9fa2c33.svg"},"6dc2":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));n("fb6a"),n("ac1f"),n("00b4");function i(t){return/(.mp3|.wav)$/i.test(t)?"audio":/(.mov|.mp4|.avi)$/i.test(t)?"video":/(.jpg|.jpeg|.png|.gif|.bmp)$/i.test(t)?"picture":/.txt$/i.test(t)?"txt":/.pdf$/i.test(t)?"pdf":/(.zip|.rar)$/i.test(t)?"zip":/(.doc|.docx)$/i.test(t)?"word":/(.xls|.xlsx)$/i.test(t)?"excel":/(.ppt|.pptx)$/i.test(t)?"ppt":"unknown"}function a(t){if(!t||"string"!==typeof t)return"";var e=t.lastIndexOf(".");return-1===e||0===e?"":t.slice(e+1).toLowerCase()}},"6e79":function(t,e,n){"use strict";n("eea6")},"6eb1":function(t,e,n){"use strict";n("e9ac")},"6eed":function(t,e,n){},"6f94":function(t,e,n){"use strict";n("532f")},7096:function(t,e,n){"use strict";n("eaea")},7273:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("2b0e");function a(t){if(t){var e=decodeURIComponent(t);"miniprogram"===window.__wxjs_environment?wx.miniProgram.navigateTo({url:e,success:function(){console.log("[navigateToMiniprogram] success")},fail:function(){i["a"].prototype.$Toast("跳转小程序失败")},complete:function(){console.log("[navigateToMiniprogram] complete")}}):i["a"].prototype.$Toast("非小程序环境，无法跳转到对应小程序页面")}}},"72be":function(t,e,n){t.exports=n.p+"img/qrcode.15879d20.svg"},"74e7":function(t,e,n){},"75c9":function(t,e,n){},"75e4":function(t,e,n){"use strict";var i=n("2b0e"),a=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"img-viewr-fade"}},[t.showImg?e("div",{ref:"imgView",staticClass:"img-viewr__wrapper theme-QDS-dark",style:{"z-index":t.zIndex||3e3}},[e("div",{staticClass:"img-viewr__mask",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleMaskClick.apply(null,arguments)}}}),t.isSingle?t._e():[e("span",{staticClass:"img-viewr__btn img-viewr__prev",class:{"is-disabled":!t.infinite&&t.isFirst},on:{click:t.prev}}),e("span",{staticClass:"img-viewr__btn img-viewr__next",class:{"is-disabled":!t.infinite&&t.isLast},on:{click:t.next}})],e("footer",{staticClass:"img-viewr__footer"},[e("div",{staticClass:"img-viewr__actions"},[e("div",{staticClass:"img-viewr__btn zoomOut img-viewr__actions__inner",on:{click:function(e){return t.handleActions("zoomOut")}}}),e("div",{staticClass:"img-viewr__btn zoomIn img-viewr__actions__inner",on:{click:function(e){return t.handleActions("zoomIn")}}}),e("div",{staticClass:"img-viewr__actions__splitor"}),e("div",{staticClass:"img-viewr__btn rotate_left img-viewr__btn__left img-viewr__actions__inner",on:{click:function(e){return t.handleActions("rotateL")}}}),e("div",{staticClass:"img-viewr__btn rotate_right img-viewr__actions__inner",on:{click:function(e){return t.handleActions("rotateR")}}}),e("div",{staticClass:"img-viewr__actions__splitor"}),e("div",{staticClass:"img-viewr__indicator"},[t._v(" "+t._s(t.index+1)+"/"+t._s(t.urls.length)+" ")])]),e("span",{staticClass:"img-viewr__btn img-viewr__close",on:{click:t.hide}},[t._v(" "+t._s(t.$t("退出预览"))+" ")])]),e("div",{staticClass:"img-viewr__canvas"},[e("img",{ref:"imageRef",style:t.imgStyle,attrs:{src:t.currentImg},on:{load:t.handleImgLoaded,error:t.handleImgError}})])],2):t._e()])},o=[],s=n("5530");n("99af"),n("a9e3"),n("b680");function c(t){var e=!1;return function(){for(var n=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];e||(e=!0,window.requestAnimationFrame((function(){t.apply(n,a),e=!1})))}}var r=function(){return document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on".concat(e),n)}}(),l=function(){return document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on".concat(e),n)}}(),d={name:"PictureViewer",props:{value:{type:Boolean,default:!1},urls:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:3e3},initialIndex:{type:Number,default:0},initialWidth:{type:String,default:""},initialHeight:{type:String,default:""},closeOnClickMask:{type:Boolean,default:!0},infinite:{type:Boolean,default:!1},closeAfterDestroy:{type:Function,default:function(){return function(){}}}},data:function(){return{index:this.initialIndex,loading:!1,showImg:!1,transform:{scale:1,deg:0,offsetX:0,offsetY:-1e5,enableTransition:!1},isMobile:!this.$platform.pc,dragHandler:null,containerDom:null,image:null,initialScale:1,currentScale:1,startX:0,startY:0,isDragging:!1}},computed:{isSingle:function(){return this.urls.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urls.length-1},currentImg:function(){var t=this.urls[this.index];return t||this.urls[0]},imgStyle:function(){var t=this.transform,e=t.scale,n=t.deg,i=t.offsetX,a=t.offsetY,o=t.enableTransition;return{transform:"scale(".concat(e,") rotate(").concat(n,"deg)"),transition:o?"all -0.25s cubic-bezier(0.36, 0.01, 0.1, 1);":"",left:"".concat(i,"px"),top:"".concat(a,"px"),position:"fixed",maxHeight:"100%",maxWidth:"100%",width:this.initialWidth||void 0,height:this.initialHeight||void 0}}},watch:{value:{handler:function(t){var e=this;this.showImg=t,t&&this.$nextTick((function(){e.bindImageEvent()}))},immediate:!0},initialIndex:function(t){t!==this.index&&(this.index=t)},index:function(t){this.reset(),this.$emit("switch",t)},currentImg:function(){var t=this;this.$nextTick((function(){var e=t.$refs.imageRef;e&&e.complete||(t.loading=!0)}))}},mounted:function(){var t=this;this.$el.addEventListener("touchmove",(function(t){1!==t.scale&&t.preventDefault()}),{passive:!1}),this.$nextTick((function(){document.addEventListener("keyup",t.hide)}))},beforeDestroy:function(){console.log("removebindImageEvent"),this.isMobile?(l(this.containerDom,"touchstart",this.handleTouchStart),l(this.containerDom,"touchmove",this.handleTouchMove),l(this.containerDom,"touchend",this.handleTouchEnd)):(l(this.image,"mousedown",this.handleMouseDown),l(this.containerDom,"mousewheel",this.zoomWithMouseWheel),l(this.containerDom,"DOMMouseScroll",this.zoomWithMouseWheel)),document.removeEventListener("keyup",this.hide),this.$el.removeEventListener("touchmove",(function(t){1!==t.scale&&t.preventDefault()}),{passive:!1})},methods:{bindImageEvent:function(){console.log("bindImageEvent"),this.containerDom=this.$refs.imgView,this.image=this.$refs.imageRef,this.isMobile?(r(this.containerDom,"touchstart",this.handleTouchStart),r(this.containerDom,"touchmove",this.handleTouchMove),r(this.containerDom,"touchend",this.handleTouchEnd)):(r(this.image,"mousedown",this.handleMouseDown),r(this.containerDom,"mousewheel",this.zoomWithMouseWheel),r(this.containerDom,"DOMMouseScroll",this.zoomWithMouseWheel))},zoomWithMouseWheel:function(t){var e="",n=t||window.event;n.cancelable&&(n.defaultPrevented||n.preventDefault()),n.wheelDelta?e=n.wheelDelta>0?"zoomIn":"zoomOut":n.detail&&(e=n.detail>0?"zoomIn":"zoomOut"),this.handleActions(e)},handleMaskClick:function(){this.closeOnClickMask&&this.hide()},hide:function(){this.showImg=!1,this.closeAfterDestroy()},handleImgLoaded:function(){this.loading=!1,this.transform.offsetX=(document.documentElement.clientWidth-this.image.width)/2,this.transform.offsetY=(document.documentElement.clientHeight-this.image.height)/2},handleImgError:function(){var t=this;this.loading=!1,this.$refs.imageRef&&(this.$refs.imageRef.alt="加载失败",this.$nextTick((function(){t.transform.offsetX=(document.documentElement.clientWidth-t.image.width)/2,t.transform.offsetY=(document.documentElement.clientHeight-t.image.height)/2})))},reset:function(){this.transform.scale=1,this.transform.deg=0,this.transform.offsetX=0,this.transform.offsetY=-1e5,this.transform.enableTransition=!1},prev:function(){if(!this.isFirst||this.infinite){var t=this.urls.length;this.index=(this.index-1+t)%t}},next:function(){if(!this.isLast||this.infinite){var t=this.urls.length;this.index=(this.index+1)%t}},handleActions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var n=Object(s["a"])({zoomRate:.2,enableTransition:!0},e),i=n.zoomRate,a=n.enableTransition;switch(t){case"zoomOut":this.transform.scale>.2&&(this.transform.scale=parseFloat((this.transform.scale-i).toFixed(3)));break;case"zoomIn":this.transform.scale=parseFloat((this.transform.scale+i).toFixed(3));break;case"rotateL":this.transform.deg=this.transform.deg-90;break;case"rotateR":this.transform.deg=this.transform.deg+90;break}this.transform.enableTransition=a}},handleMouseDown:function(t){var e=this;if(t.preventDefault(),!this.loading&&0===t.button){var n=this.transform,i=n.offsetX,a=n.offsetY,o=t.pageX,s=t.pageY;this.dragHandler=c((function(t){e.transform.offsetX=i+t.pageX-o,e.transform.offsetY=a+t.pageY-s})),document.addEventListener("mousemove",this.dragHandler),document.addEventListener("mouseup",this.handleMouseUp)}},handleMouseUp:function(){this.dragHandler&&document.removeEventListener("mousemove",this.dragHandler)},handleTouchStart:function(t){var e=t.touches;e&&2===e.length?(this.startX=Math.abs(e[0].clientX-e[1].clientX),this.startY=Math.abs(e[0].clientY-e[1].clientY),this.initialScale=this.currentScale):e&&1===e.length&&(this.startX=e[0].clientX,this.startY=e[0].clientY,this.isDragging=!0)},handleTouchMove:function(t){t.preventDefault();var e=t.touches;if(e&&2===e.length){var n=Math.abs(e[0].clientX-e[1].clientX),i=Math.abs(e[0].clientY-e[1].clientY),a=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.currentScale=this.initialScale*(a/Math.sqrt(Math.pow(this.startX,2)+Math.pow(this.startY,2))),this.transform.scale=this.currentScale}else if(e&&1===e.length&&this.isDragging){var o=e[0].clientX-this.startX,s=e[0].clientY-this.startY;this.transform.offsetX+=o,this.transform.offsetY+=s,this.startX=e[0].clientX,this.startY=e[0].clientY}},handleTouchEnd:function(){this.initialScale=this.currentScale,this.isDragging=!1}}},u=d,m=(n("c9a7"),n("2877")),f=Object(m["a"])(u,a,o,!1,null,"a9509446",null),h=f.exports,p=n("55b6"),g=i["a"].extend(h),v={show:function(t){var e=new g({i18n:p["b"]}).$mount();e.urls=t.photoUrls,e.initialIndex=t.photoPreviewIndex,e.value=t.showPhotoPreView,e.closeOnClickMask=t.closeOnClickMask,e.zIndex=t.zIndex,e.initialHeight=t.initialHeight,e.initialWidth=t.initialWidth,e.infinite=t.infinite,e.closeAfterDestroy=function(){setTimeout((function(){e.$destroy()}))},document.body.appendChild(e.$el)}};e["a"]={install:function(){i["a"].prototype.$PictureViewer||(i["a"].prototype.$PictureViewer=v)}}},7722:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:t.handleMessageLongTouch,expression:"handleMessageLongTouch",arg:"touchhold"}],staticClass:"msg-ptt",class:t.isMobile?"":"msg-ptt-pc"},[e("div",{staticClass:"ptt",class:t.data.mine?"ptt-mine":"",style:{width:t.amrWidth+"px"},on:{click:t.play}},[t.data.mine?e("span",[e("span",[t._v(t._s(t.data.length)+'"')]),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],attrs:{src:n("c03d")}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],attrs:{src:n("6c52")}})]):e("span",[e("img",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],attrs:{src:n("2809")}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],attrs:{src:n("86e7")}}),e("span",[t._v(t._s(t.data.length)+'"')])])]),t.notRead?e("span",{staticClass:"red-rot"}):t._e(),t.isMobile||t.translateLoading||t.amrText?t._e():e("span",{class:t.data.mine?"translate-text-mine":"translate-text",on:{click:t.convertPtt2Text}},[t._v(t._s(t.$t("转文字")))]),t.amrText||t.translateLoading?e("div",{staticClass:"ptt-text"},[t.translateLoading?e("img",{staticClass:"icon-loading anim-rotate",attrs:{src:n("6507")}}):t._e(),t.amrText?e("span",[t._v(t._s(t.amrText))]):t._e()]):t._e()])},a=[],o=n("c14f"),s=n("1da1"),c=(n("7db0"),n("e9f5"),n("f665"),n("b64b"),n("d3b7"),n("3ca3"),n("5087"),n("ddb0"),n("9de0")),r=c["b"].create(),l={inject:["globalData","voiceRecodeStatus"],props:{data:Object,playing:String},data:function(){return{formatPath:"",amr:null,amrText:"",amrTextFinish:!1,selectedText:"",isTransfer:!1,isPlaying:!1,imsdk:null,translateLoading:!1,notRead:!1,errorText:""}},watch:{globalData:{handler:function(t){t.playingVoice!==this.data.seq&&this.amr&&this.amr.isPlaying()&&this.amr.stop()},deep:!0}},computed:{amrWidth:function(){var t=Math.min(this.data.length/60,1);return 90+100*t},isMobile:function(){return!this.$platform.pc}},mounted:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var i,a;return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:if(n.e("amr").then(n.t.bind(null,"ae4c",7)).then((function(e){t.amr=new e.default,t.amr.onEnded((function(){t.isPlaying=!1,t.changeVoiceRecodeStatus("end")}))})),t.data.mine||(i=r.getMessageTags(t.data),a=i.find((function(t){return"ptt_read"===t.tag})),a&&"1"===a.value?t.notRead=!1:t.notRead=!0),"blob"!==t.data.uuid&&0!==t.data.path.indexOf("http")){e.n=1;break}return t.formatPath=t.data.path,e.a(2);case 1:return e.n=2,c["c"].getDownloadUrl({path:t.data.path,size:t.data.fileSize,name:t.data.fileName},c["b"].OBJTYPES.OBJ_VOICE);case 2:t.formatPath=e.v;case 3:return e.a(2)}}),e)})))()},deactivated:function(){this.amr.isPlaying()&&this.amr.stop()},methods:{handleMessageLongTouch:function(){this.$emit("on-long-touch",this.$el)},addReadTag:function(){this.notRead=!1,r.setMessageTags(this.data,[{tag:"ptt_read",value:"1"}])},play:function(){var t=this;this.notRead&&this.addReadTag(),this.globalData.playingVoice=this.data.seq,this.amr.isInit()?(this.amr.playOrPauseOrResume(),this.amr.isPlaying()?(this.isPlaying=!0,this.changeVoiceRecodeStatus("start")):(this.isPlaying=!1,this.changeVoiceRecodeStatus("end"))):(console.log(this.formatPath),this.amr.initWithUrl(this.formatPath).then((function(){t.amr.playOrPauseOrResume(),t.isPlaying=!0,t.changeVoiceRecodeStatus("start")})))},changeVoiceRecodeStatus:function(t){this.globalData.playingVoice===this.data.seq&&this.voiceRecodeStatus&&this.voiceRecodeStatus(t)},convertPtt2Text:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n,i,a,s;return Object(o["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:if(t.notRead&&t.addReadTag(),!t.translateLoading){e.n=1;break}return e.a(2);case 1:return t.translateLoading=!0,n=setTimeout((function(){t.translateLoading=!1,t.$Toast({text:t.$t("转文字失败"),type:"error"}),n=null}),1e4),i="",e.p=2,e.n=3,t.doASR(t.formatPath);case 3:if(a=e.v,n){e.n=4;break}return e.a(2);case 4:clearTimeout(n),n=null,t.translateLoading=!1,s=JSON.parse(a),i=s.data.sentenceResult,e.n=6;break;case 5:e.p=5,e.v,t.$Toast({text:t.$t("转文字失败"),type:"error"});case 6:i?(t.amrText=i,t.isTransfer=!0):t.$Toast({text:t.$t("转文字失败"),type:"error"});case 7:return e.a(2)}}),e,null,[[2,5]])})))()},doASR:function(t){var e=this;return Object(s["a"])(Object(o["a"])().m((function n(){var i,a,s;return Object(o["a"])().w((function(n){while(1)switch(n.n){case 0:return e.imsdk||(e.imsdk=c["b"].create()),i={appId:1003,fileUrl:t,voiceFormat:"amr"},a=2,s=1536,n.a(2,e.imsdk.sendCmdMessage(a,i,s))}}),n)})))()}}},d=l,u=(n("c09f"),n("2877")),m=Object(u["a"])(d,i,a,!1,null,"7234eeda",null);e["default"]=m.exports},"77e8":function(t,e,n){},7926:function(t,e,n){"use strict";n("7f48")},7988:function(t,e,n){t.exports=n.p+"img/audio.289bda75.svg"},"79a0":function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{class:["combination",t.isMobile?"":"combination-pc"]},[e("div",{staticClass:"combination-content"},t._l(t.robotNav.components,(function(i,a){return e("div",{key:a},[2===i.navType?e("div",{key:a,staticClass:"combination-basis-style"},[e("div",{staticClass:"nav-content",style:t.globalData.runMode?"":"background-image: url("+i.img.url+")"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-list"},t._l(t.getPageData(i),(function(i,a){return e("div",{key:a,staticClass:"nav-item nav-link",on:{click:function(e){return t.onClick(i)}}},[e("div",{staticClass:"nav-item-text"},[t._v(" "+t._s(i.name||i.question||"")+" ")]),e("img",{staticClass:"icon-arrow-right",attrs:{src:n("c3d8")}})])})),0),i.showChange?e("div",{staticClass:"nav-change"},[e("div",{staticClass:"nav-change-box",on:{click:function(e){return t.onChange(i)}}},[e("img",{staticClass:"batch-head-icon",attrs:{src:n("9fa0")}}),t._v(" 换一批 ")])]):t._e()])]):t._e(),4===i.navType?e("div",{key:a,staticClass:"msg-b2c combination-small-cards"},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-box"},t._l(i.list,(function(n,i){return e("div",{key:i,staticClass:"nav-box-row"},[e("div",{staticClass:"nav-box-wrapper nav-link",on:{click:function(e){return t.onClick(n)}}},[e("div",{staticClass:"nav-image"},[e("img",{staticClass:"nav-image-pic",attrs:{src:n.icon.url,mode:"widthFix"}})]),e("div",{staticClass:"nav-text"},[t._v(t._s(n.name))])])])})),0)])]):t._e()])})),0)])},a=[],o=n("b371"),s={mixins:[o["a"]],data:function(){return{pageCount:6,index:1,total:0}}},c=s,r=(n("a87f"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"2b1e52b7",null);e["default"]=l.exports},"7a2d":function(t,e,n){"use strict";n("e9c4");var i=n("2cbe"),a=n("5c0b"),o=n("35f7"),s=n("e268"),c=n("97e5"),r=n("4886"),l=r["a"].getSDKDomain(),d=[i["a"].iniCancel,i["a"].errorTRTC,i["a"].unKnow];e["a"]={data:function(){return{roomid:""}},computed:{ispc:function(){return this.$platform.pc}},methods:{handleNotifyRtc:function(t){var e=parseInt(localStorage.getItem("videoActionTime")),n=t.msg_rtc_action_info.uint64_action_time;if(!(e&&e>=n)){localStorage.setItem("videoActionTime",n),Object(o["a"])({message:"音视频:收到sc消息,".concat(JSON.stringify(t))}),t.msg_rtc_action_info&&t.uint32_roomid&&t.msg_rtc_action_info.uint32_action_event===i["a"].iniCall&&Object(o["a"])({message:"音视频:收到邀请,".concat(t.uint32_roomid)});var a=t.msg_rtc_action_info.uint32_action_event;if(console.log("eventType=====".concat(a)),a===i["a"].iniCall||t.uint32_roomid===this.roomid)switch(this.mediaType=t.uint32_call_type,this.roomid=t.uint32_roomid,a){case i["a"].iniCall:this.iniCallAction(t);break;case i["a"].iniCancel:Object(o["a"])({message:"音视频:ring->idle:peerHangup"},!1);case i["a"].iniHangup:case i["a"].recRefuse:case i["a"].recAcceptFail:case i["a"].recHangup:case i["a"].thirdHangup:case i["a"].notSurport:case i["a"].errorTRTC:case i["a"].die:this.exitSdk({event:"peerHangup"}),this.statusReport(i["d"].idle),Object(o["a"])({message:"音视频:对方".concat(a,",导致挂断")});break}else Object(o["a"])({message:"音视频:上次房间消息:".concat(JSON.stringify(t))},!1)}},iniCallAction:function(t){var e=this;if(t.uint32_roomid){var n;if(Object(o["a"])({message:"音视频:被叫"}),this.ispc&&!this.surportTRTC)return void this.videoAct(i["a"].notSurport);null===(n=this.$refs.videoRing)||void 0===n||n.showDialling(t),a["l"].make((function(){Object(o["a"])({message:"音视频:ring->idle:timeout"},!1),e.videoAct(i["a"].recAcceptFail),e.exitSdk({event:"timeOuterror"})}),{id:"dialling_timeout_timer",delay:7e4})}else Object(o["a"])({message:"被呼叫参数错误"},!1)},videoAct:function(t){var e=this.wpaDetail,n=e.kfuin,i=e.visitorid,a={rtc_part_action_report_req:{uint64_kfuin:n,uint32_roomid:this.roomid,uint32_action_event:t,user_info:{user_account_info:{uint32_account_type:4,str_account_id:i}}}};Object(o["a"])({message:"音视频:事件上报,".concat(JSON.stringify(a))}),this.$ajax.post(l.api+c["v"],a).then((function(t){0===t.data.code||Object(o["a"])({message:"音视频:新版本挂断报错，".concat(t.data)})}))},TrtcErrorReport:function(t){Object(o["a"])({message:"音视频:trtcerror, ".concat(JSON.stringify({code:1,reason:t}))}),this.eventReport({eventType:i["a"].errorTRTC,bytes_extend_info:JSON.stringify({code:1,reason:t})})},statusReport:function(t){var e,n=this.wpaDetail,a=n.kfuin,s=n.visitorid,c={rtc_status_report_req:{uint64_kfuin:parseInt(a),account_info:{uint32_account_type:4,str_account_id:s,int64_fakeuin:0},uint32_clienttype:5,uint32_status:t,uint64_action_time:Math.floor(new Date),uint32_roomid:this.roomid}};Object(o["a"])({message:"音视频:状态上报,".concat(JSON.stringify(c))});var r=null===(e=this.$refs.aio)||void 0===e?void 0:e.sendCmdMessage(i["b"].CMD_INNER_RTC_STATUS_REPORT_REQ,c,i["c"]);r.then((function(t){Object(o["a"])({message:"音视频:状态上报返回,".concat(JSON.stringify(t))}),t&&t.msg_ret_info.uint32_ret_code&&Object(o["a"])({message:"音视频:状态上报失败,".concat(JSON.stringify(t))})}))},eventReport:function(t){var e,n=this,a=t.eventType,s=this.roomid,c=this.wpaDetail,r=c.kfuin,l=c.visitorid,u=!1,m={rtc_action_report_req:{uint64_kfuin:r,uint32_roomid:s,msg_rtc_action_info:{uint32_action_event:a,bytes_extend_info:t.bytes_extend_info,uint32_clienttype:5,uint64_action_time:Math.floor(new Date/1e3),action_user_info:{uint32_account_type:4,str_account_id:l,int64_fakeuin:0}}}};[i["a"].iniCancel,i["a"].recRefuse,i["a"].recHangup].indexOf(a)&&(u=!0,Object(o["a"])({message:"音视频:挂断"})),Object(o["a"])({message:"音视频:事件上报,".concat(JSON.stringify(m))});var f=null===(e=this.$refs.aio)||void 0===e?void 0:e.sendCmdMessage(i["b"].CMD_INNER_RTC_ACTION_REPORT_REQ,m,i["c"]);f.then((function(e){if(Object(o["a"])({message:"音视频:事件上报返回,".concat(JSON.stringify(e))}),e&&e.msg_ret_info.uint32_ret_code){var i=e.msg_ret_info.uint32_ret_code;10003===i&&n.eventAckHandler(i),-1===d.indexOf(t.eventType)&&n.$message.error(e.msg_ret_info.str_error_msg),Object(o["a"])({message:"音视频:事件上报失败,".concat(JSON.stringify(e))})}else u&&Object(o["a"])({message:"音视频:挂断成功"})}))},eventAckHandler:function(t){switch(t){case 10004:Object(o["a"])({message:"10004:对方忙"},!1);break;case 10029:Object(o["a"])({message:"10029:未知错误"},!1);break;case 10003:Object(o["a"])({message:"10003:自己忙(上次异常退出)，上报idle后重试"}),this.statusReport(i["d"].idle);break;default:Object(o["a"])({message:"unknow error code: ".concat(t)},!1)}},exitSdk:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.event,i=void 0===n?"unknown":n,a="";switch(i){case"hangup":a="已拒绝";break;case"recAcceptFail":a="".concat("c2b"===this.dir?"对方":"","未接听");break;case"peerHangup":a="对方已取消";break;case"TRTCError":a="设备不支持";break;default:a=""}a?Object(o["a"])({message:"音视频:结束,原因".concat(i)}):Object(o["a"])({message:"音视频:结束失败,原因".concat(i)}),this.otherWindow&&(this.otherWindow.close(),this.otherWindow=null),null===(t=this.$refs.videoRing)||void 0===t||t.stopRing(),s["a"].stop()}}}},"7ac4":function(t,e){t.exports="data:image/png;base64,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"},"7aca":function(t,e,n){"use strict";n("c216")},"7aff":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"file-uploader"},[e("input",{ref:"fileInput",attrs:{type:"file",name:"file",multiple:"",accept:t.accept},on:{change:t.onHandleFiles}})])},a=[],o=n("5530"),s=n("c14f"),c=n("1da1"),r=(n("99af"),n("a630"),n("e9f5"),n("7d54"),n("d3b7"),n("3ca3"),n("159b"),n("9de0")),l=n("5ac5"),d=5,u={props:{accept:{default:""}},data:function(){return{}},computed:{},methods:{click:function(){this.$refs.fileInput.click()},onHandleFiles:function(t){var e,n=this,i=t.target.files,a=(null===l["a"]||void 0===l["a"]||null===(e=l["a"].file_collection)||void 0===e?void 0:e.max_allowed_upload_file_count)||d;if(i.length>a)this.$emit("upload",{code:-1,id:"",message:"一次最多支持选择".concat(a,"个文件")});else{var o=Date.now();Array.from(i).forEach(function(){var t=Object(c["a"])(Object(s["a"])().m((function t(e,a){var c;return Object(s["a"])().w((function(t){while(1)switch(t.n){case 0:c="",l["a"].file_collection&&(c="".concat(o,"_").concat(i.length,"_").concat(a+1)),n.uploadFile(e,null,c);case 1:return t.a(2)}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),t.target.value=""}},uploadFile:function(t){var e=arguments,n=this;return Object(c["a"])(Object(s["a"])().m((function i(){var a,c,l;return Object(s["a"])().w((function(i){while(1)switch(i.n){case 0:return a=e.length>1&&void 0!==e[1]?e[1]:null,c=e.length>2&&void 0!==e[2]?e[2]:"",a&&(c=a.uniqueFileId),i.n=1,r["c"].uploadFile(t,a,{onPreview:function(t){var e=Object(o["a"])(Object(o["a"])({},t),{},{uniqueFileId:c});n.$emit("preview",e)},onProgress:function(t,e,i){n.$emit("progress",t,e,i)},maxSize:104857600,acceptType:["audio","video","image","text/plain","text/html","application/pdf","application/msword","application/x-zip-compressed","application/zip","application/x-tar","rar","application/x-rar","7z","application/x-7z-compressed","xls","application/vnd.ms-excel","apk","application/vnd.android.package-archive","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","cpt","frm","fvs"]});case 1:l=i.v,l.info&&(l.info.uniqueFileId=c),n.$emit("upload",l);case 2:return i.a(2)}}),i)})))()}}},m=u,f=(n("3484"),n("2877")),h=Object(f["a"])(m,i,a,!1,null,"420a3a98",null);e["a"]=h.exports},"7b05":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=document.querySelector(".page-scroll-container");return t?t.scrollHeight-t.scrollTop-t.clientHeight:0},a=300},"7c85":function(t,e,n){},"7d8e":function(t,e,n){},"7dc1":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return t.show?e("div",{ref:"popup",staticClass:"bottom-popup animate-quick animate__animated",class:t.isOpening?"animate__fadeIn":"animate__fadeOut"},[e("div",{staticClass:"bottom-popup-inner animate-quick animate__animated",class:[t.isOpening?"animate__slideInUp animate__fadeIn":"animate__slideOutDown animate__fadeOut",{"min-height":t.limitMinHeight}]},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.showClose,expression:"showClose"}],staticClass:"bottom-popup-close",on:{click:t.close}}),t.hideTitle?t._e():e("div",{staticClass:"bottom-popup-tit"},[t._v(t._s(t.title))]),e("div",{class:["bottom-popup-container",t.isShowScroll?"overflow-scroll":""],on:{touchmove:function(t){t.stopPropagation()}}},[t._t("default")],2)])]):t._e()},a=[],o={props:{title:{default:""},show:{default:!1},showClose:{default:!0},autoAppend:{default:!0},isShowScroll:{default:!0},hideTitle:{default:!1},limitMinHeight:{default:!0}},data:function(){return{isOpening:!1}},watch:{show:{handler:function(t){this.isOpening=t},immediate:!0}},mounted:function(){var t=this;this.$nextTick((function(){if(t.autoAppend){var e=document.querySelector(".html-is-pc .im-msg-container");e?e.appendChild(t.$el):document.body.appendChild(t.$el)}}))},methods:{close:function(){var t=this;this.isOpening=!1,setTimeout((function(){t.$emit("update:show",!1)}),300)}}},s=o,c=(n("175a"),n("5b1a"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,"59b8d5e4",null);e["a"]=r.exports},"7dce":function(t,e,n){},"7e37":function(t,e,n){"use strict";n("3b23")},"7ea6":function(t,e,n){t.exports=n.p+"img/default-avatar.0ba32129.png"},"7f48":function(t,e,n){},"803a":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return t.enabled?e("div",{staticClass:"mock-pad"},[e("div",{staticClass:"tit animate__animated animate__headShake animate__infinite"},[t._v("mock message")]),e("ul",[e("li",{on:{click:function(e){return t.makeEvent(t.EVENT.TYPING,{typing:!0})}}},[t._v("EVENT-手动输入中")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_TEXT)}}},[t._v("B2C-文本消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_IMAGE)}}},[t._v("B2C-图片消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_FILE)}}},[t._v("B2C-文件消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_VOICE)}}},[t._v("B2C-语音消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_IMAGE_TEXT)}}},[t._v("B2C-图文消息")]),e("li",{on:{click:function(e){return t.sendMsg("leave_form_msg")}}},[t._v("B2C-留言消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_QDXML)}}},[t._v("B2C-XML消息")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_FEED_BACK)}}},[t._v("满意度-需开启本地mock服务")]),e("li",{on:{click:t.changeKF}},[t._v("B2C-切换客服")]),e("li",{on:{click:t.navMenu}},[t._v("自助导航-XML")]),e("li",{on:{click:function(e){return t.sendRobotMsg("htmlmsg")}}},[t._v("机器人消息-htmlmsg")]),e("li",{on:{click:function(e){return t.sendRobotMsg("freemsg")}}},[t._v("机器人消息-freemsg")]),e("li",{on:{click:function(e){return t.sendRobotMsg("batchmsg")}}},[t._v("机器人消息-batchmsg")]),e("li",{on:{click:function(e){return t.sendRobotMsg("robotform")}}},[t._v("机器人消息-form")]),e("li",{on:{click:function(e){return t.sendRobotMsg("qlist")}}},[t._v("机器人消息-qlist-招商信诺")]),e("li",{on:{click:function(e){return t.sendRobotMsg("tablemsg")}}},[t._v("机器人消息-table")]),e("li",{on:{click:function(e){return t.sendRobotMsg("drawer_group")}}},[t._v("机器人消息-抽屉聚合")]),e("li",{on:{click:function(e){return t.sendRobotMsg("drawer_nogroup")}}},[t._v("机器人消息-抽屉不聚合")]),e("li",{on:{click:function(e){return t.sendRobotMsg("bubble_group")}}},[t._v("机器人消息-气泡聚合")]),e("li",{on:{click:function(e){return t.sendRobotMsg("bubble_nogroup")}}},[t._v("机器人消息-气泡不聚合")]),e("li",{on:{click:function(e){return t.sendRobotMsg("card")}}},[t._v("机器人消息-横滑卡片")]),e("li",{on:{click:function(e){return t.sendRobotMsg("node")}}},[t._v("机器人消息-物流节点")]),e("li",{on:{click:t.sendLargeModelMsg}},[t._v("机器人消息-大模型消息-markkdown")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_ROBOT_NAV)}}},[t._v("机器人导航消息")]),e("li",{on:{click:function(e){return t.uploadLongText()}}},[t._v("上传长文本")]),e("li",{on:{click:function(e){return t.downloadLongText()}}},[t._v("下载长文本")]),e("li",{on:{click:function(e){return t.sendQDXML()}}},[t._v("发送企点结构化XML消息")]),e("li",{on:{click:function(e){return t.sendRobotMsg("slide")}}},[t._v("机器人导航-横滑卡片")]),e("li",{on:{click:function(e){return t.sendCouponXml()}}},[t._v("发送电商优惠券消息")]),e("li",{on:{click:function(e){return t.sendGraphicNotice()}}},[t._v("发送电商图文消息")]),e("li",{on:{click:function(e){return t.sendGoodsActive()}}},[t._v("发送电商多宫格消息")]),e("li",{on:{click:function(e){return t.sendBubble()}}},[t._v("发送电商气泡消息")]),e("li",{on:{click:function(e){return t.sendGrayMsg("lang")}}},[t._v("切换语言")]),e("li",{on:{click:function(e){return t.sendGrayMsg("form-in")}}},[t._v("下发表单-询中")]),e("li",{on:{click:function(e){return t.sendGrayMsg("form-before")}}},[t._v("下发表单-询前")]),e("li",{on:{click:function(e){return t.sendMsg(t.IMSDKType.MSG_TEXT,null,{msg_control_info:{int32_read_status:1}})}}},[t._v("b2c-文本消息-已读回执")])])]):t._e()},a=[],o=n("5530"),s=n("c14f"),c=n("1da1"),r=n("ade3"),l=(n("99af"),n("e9c4"),n("b64b"),n("d3b7"),n("25f0"),n("5087"),n("d90f")),d=n("9de0"),u=(n("4ec9"),n("3ca3"),n("d437"),n("ef42"),n("ddb0"),new Map([[0,{content:{menu:{list:[{name:"AAAA",action:6,meta:{stdqa_id:"7983",type:"1"},id:1},{name:"BBB",action:6,meta:{stdqa_id:"7982",type:"1"},id:2},{action:6,meta:{stdqa_id:"7982",type:"1"},name:"CCC",id:3},{action:6,meta:{stdqa_id:"7978",type:"1"},name:"DDD",id:4}],navType:0,tit:"请选择您想咨询的内容"}}}],[1,{content:{menu:{list:[{id:0,action:5,name:"国内差旅费的费用开支标准"},{id:1,action:5,name:"校园网络上网费如何缴费"},{id:2,action:5,name:"账号密码忘记了怎么办"},{id:3,action:5,name:"注册开发者账号相关问题"},{id:4,action:5,name:"注册开发者账号相关问题1"},{id:5,action:5,name:"注册开发者账号相关问题2"},{id:6,action:5,name:"注册开发者账号相关问题3"},{id:7,action:5,name:"注册开发者账号相关问题4"},{id:8,action:5,name:"注册开发者账号相关问题5"},{id:9,action:5,name:"注册开发者账号相关问题6"},{id:10,action:5,name:"注册开发者账号相关问题7"},{id:11,action:5,name:"注册开发者账号相关问题8"}],more_questions:1,navType:1,source:1,tit:"请选择您想咨询的内容",length:3,size:3829},id:825,name:"高校微信导航"}}],[2,{content:{menu:{img:{index:1,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-c1ae523eae148d56442513bd77f5cbe8.png"},list:[{name:"国内差旅费的费用开支标准",meta:{stdqa_id:"8069",type:"1"},action:6,id:1},{name:"校园网络上网费如何缴费",action:6,meta:{stdqa_id:"8051",type:"1"},id:2},{name:"账号密码忘记了怎么办",action:6,meta:{stdqa_id:"53",type:"2"},id:3},{action:6,meta:{stdqa_id:"5",type:"3"},name:"注册开发者账号相关问题",id:4},{action:7,id:5,meta:{reception_id:3007921066,reception_type:0,name:"曹晓华(xiaohuacao)"},name:"转人工客服"},{action:6,meta:{stdqa_id:"5",type:"3"},name:"注册开发者账号相关问题1",id:4},{action:6,meta:{stdqa_id:"5",type:"3"},name:"注册开发者账号相关问题2",id:4},{action:6,meta:{stdqa_id:"5",type:"3"},name:"注册开发者账号相关问题3",id:4},{action:6,meta:{stdqa_id:"5",type:"3"},name:"注册开发者账号相关问题4",id:4}],more_questions:1,navType:2,source:1,tit:"常见问题"}}}],[3,{content:{menu:{navType:3,subs:[{list:[{id:"b3q9c9ugun",action:6,meta:{stdqa_id:"7272",type:"1"},placeholder:"菜单1",name:"商品尺码推荐"},{id:"pkr18tk2x9",action:6,meta:{stdqa_id:"7271",type:"1"},placeholder:"菜单2",name:"店铺热门活动"},{id:"qaokan76jj",action:6,meta:{stdqa_id:"7273",type:"1"},placeholder:"菜单3",name:"订单发货时间1"},{id:"qaokan76jj",action:6,meta:{stdqa_id:"7273",type:"1"},placeholder:"菜单4",name:"订单发货时间2"},{id:"qaokan76jj",action:6,meta:{stdqa_id:"7273",type:"1"},placeholder:"菜单5",name:"订单发货时间3"},{id:"qaokan76jj",action:6,meta:{stdqa_id:"7273",type:"1"},placeholder:"菜单6",name:"订单发货时间4"},{id:"qaokan76jj",action:6,meta:{stdqa_id:"7273",type:"1"},placeholder:"菜单7",name:"订单发货时间5"}],more_questions:1,source:1,tit:"热门问题"},{list:[{id:"jsuj1deq0a",action:6,meta:{stdqa_id:"7260",type:"1"},placeholder:"菜单1",name:"退换货须知"},{id:"cfdvtnp7in",action:6,meta:{stdqa_id:"7261",type:"1"},placeholder:"菜单2",name:"退换货邮费问题"},{id:"4cdpcy81jy",action:6,meta:{stdqa_id:"7263",type:"1"},placeholder:"菜单3",name:"退货后多久到账"}],more_questions:0,source:1,tit:"退换货"},{list:[{id:"fvk2h196xr",action:6,meta:{stdqa_id:"7270",type:"1"},placeholder:"菜单1",name:"发票类型"},{id:"cn8ryoyst3",action:6,meta:{stdqa_id:"7267",type:"1"},placeholder:"菜单2",name:"补开发票"},{id:"jz49v996yy",action:6,meta:{stdqa_id:"7269",type:"1"},placeholder:"菜单3",name:"合开发票"}],more_questions:0,source:1,tit:"商品发票"}]}}}],[4,{content:{menu:{list:[{action:6,icon:{index:0,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-65335b8b01c767c1d2edd1cbd92a64fa.svg"},id:1,meta:{stdqa_id:"7983",type:"1"},name:"消息通知"},{action:6,icon:{index:1,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-2ff52107ccb082b669e0725df88a15f8.svg"},id:2,meta:{stdqa_id:"7984",type:"1"},name:"优惠卡券"},{action:6,icon:{index:2,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg"},id:3,meta:{stdqa_id:"7979",type:"1"},name:"精选推荐"},{action:6,icon:{index:2,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg"},id:4,meta:{stdqa_id:"7979",type:"1"},name:"精选推荐"},{action:6,icon:{index:2,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg"},id:5,meta:{stdqa_id:"7979",type:"1"},name:"精选推荐"}],navType:4,tit:""},udfIcon:[{name:"消息通知",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-65335b8b01c767c1d2edd1cbd92a64fa.svg"},{name:"优惠卡券",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-2ff52107ccb082b669e0725df88a15f8.svg"},{name:"精选推荐",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg"},{name:"签到打卡",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-1da39adea8b2cbb2c91833e20bfb823a.svg"},{name:"售后保障",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-8c69ca75868d4eabb31587c3e0c2445e.svg"},{name:"热度趋势",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-8a9f45df504755f85d933d121634fbec.svg"},{name:"客服评价",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-77a416fef3b3873c9627130a024ab941.svg"},{name:"商品购物",url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-94d2cac5b782234ed79026684bfbab1b.svg"}]}}],[5,{content:{udfIcon:[{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-65335b8b01c767c1d2edd1cbd92a64fa.svg",name:"消息通知"},{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-2ff52107ccb082b669e0725df88a15f8.svg",name:"优惠卡券"},{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg",name:"精选推荐"},{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-1da39adea8b2cbb2c91833e20bfb823a.svg",name:"签到打卡"},{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-8c69ca75868d4eabb31587c3e0c2445e.svg",name:"售后保障"},{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-8a9f45df504755f85d933d121634fbec.svg",name:"热度趋势"},{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-77a416fef3b3873c9627130a024ab941.svg",name:"客服评价"},{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-94d2cac5b782234ed79026684bfbab1b.svg",name:"商品购物"},{url:"https://bqq.gtimg.com/CDN/source/images/account-center/notice.png",name:"消息通知"},{url:"https://bqq.gtimg.com/CDN/source/images/account-center/tag.png",name:"优惠卡券"},{url:"https://bqq.gtimg.com/CDN/source/images/account-center/vip.png",name:"精选推荐"},{url:"https://bqq.gtimg.com/CDN/source/images/account-center/location.png",name:"签到打卡"},{url:"https://bqq.gtimg.com/CDN/source/images/account-center/verification_code.png",name:"售后保障"},{url:"https://bqq.gtimg.com/CDN/source/images/account-center/data.png",name:"热度趋势"},{url:"https://bqq.gtimg.com/CDN/source/images/account-center/thumbsup.png",name:"客服评价"},{url:"https://bqq.gtimg.com/CDN/source/images/account-center/bag.png",name:"商品购物"}],menu:{tit:"常见问题",navType:5,img:{},components:[{navType:2,source:1,more_questions:1,img:{index:0,url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-2dc01f089874fc0e625a170e763a5e61.png"},list:[{name:"测试1",action:3,meta:{replyType:1,replyText:"测试1"},id:1},{name:"测试2",action:3,meta:{replyType:1,replyText:"测试2"},id:2},{name:"测试3",action:3,meta:{replyType:1,replyText:"测试3"},id:3},{name:"测试4",meta:{replyType:1,replyText:"测试4"},action:3,id:4},{name:"测试5",meta:{replyType:1,replyText:"测试5"},action:3,id:5},{name:"测试6",meta:{replyType:1,replyText:"测试6"},action:3,id:6},{name:"测试7",meta:{replyType:1,replyText:"测试7"},action:3,id:7},{name:"测试8",meta:{replyType:1,replyText:"测试8"},action:3,id:8},{name:"测试9",meta:{replyType:1,replyText:"测试9"},action:3,id:9},{name:"测试10",meta:{replyType:1,replyText:"测试10"},action:3,id:10},{name:"测试11",meta:{replyType:1,replyText:"测试11"},action:3,id:11},{name:"测试12",meta:{replyType:1,replyText:"测试12"},action:3,id:12},{name:"测试13",meta:{replyType:1,replyText:"测试13"},action:3,id:13},{name:"测试14",meta:{replyType:1,replyText:"测试14"},action:3,id:14},{name:"测试15",meta:{replyType:1,replyText:"测试15"},action:3,id:15},{name:"测试16",meta:{replyType:1,replyText:"测试16"},action:3,id:16},{name:"测试17",meta:{replyType:1,replyText:"测试17"},action:3,id:17},{name:"测试18",meta:{replyType:1,replyText:"测试18"},action:3,id:18}]},{navType:4,list:[{id:1,action:3,name:"消息通知",icon:{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-65335b8b01c767c1d2edd1cbd92a64fa.svg",index:0},meta:{replyType:1,replyText:"212121"}},{id:2,action:3,name:"优惠卡券",icon:{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-2ff52107ccb082b669e0725df88a15f8.svg",index:1},meta:{replyType:1,replyText:"211212"}},{id:3,action:3,name:"精选推荐",icon:{url:"https://qidian-knowledge-1251316161.cos.ap-guangzhou.myqcloud.com/smartrobot-348165b5ea2c1a9ac323525ee51fd714.svg",index:2},meta:{replyType:1,replyText:"212121"}}]}]}}}],[6,{content:{menu:{buttons:[{name:"转人工",id:1,action:7,meta:{id:1,name:"国内旅游接待组",reception_id:17671,reception_type:1}}],desc:"123123123123123123123123123123123123123fsdfdsfsfsdfs",descError:!1,list:[{action:7,id:1,meta:{reception_id:20312,reception_type:1,name:"mfg01",id:1},name:"21445",sub:[]},{action:4,id:2,meta:[],name:"简单文本型简单文本型简单文本型简单文本型",sub:[{name:"简单文本型简单文本型简单文本型简单文本型",action:6,meta:{stdqa_id:"8187",type:"1"},id:1},{name:"4343",action:6,meta:{stdqa_id:"8187",type:"1"},id:2}]}],navType:6,tit:"请选择你想咨询的内容",titleError:!1}}}]])),m=function(t){return JSON.stringify(u.get(t))},f='\n<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF" action="web" actionData="https://qq.com">\n<linear background="#FFFFFFFF" width="-2" height="-2" orientation="vertical">\n<linear width="-2" height="-2" margin="20,16,20,12" margin.pc="10,8,10,6" orientation="vertical">\n<linear width="-2" height="-2" margin="0,8,0,8" margin.pc="0,4,0,4" gravity="left|centerVertical">\n<text height="-2" width="420" size="28" color="#FF1E2330" width.pc="210" size.pc="10" color.pc="0xFF1E2330" maxLine="1" text="小鹿" gravity="left|centerVertical"></text>\n</linear>\n<linear width="-2" height="-2">\n<image width="420" height="328" width.pc="210" height.pc="164" cornerRadius="0" src="http://eamaterial-30012.picsz.qpic.cn/material/image/2852199661_4ecf237221a7728bda4013a801edfdb6"></image>\n</linear>\n<linear width="0" height="0" >\n<text size="28" color="#FF1E2330" maxLine="1" text="wxc0f12af109cd1049"></text>\n<text size="28" color="#FF1E2330" maxLine="1" text="pages/realname/realname"></text>\n</linear>\n<linear background="#FFE1E6F0" width="420" height="2" margin="0,18,0,6" width.pc="210" height.pc="1" margin.pc="0,9,0,3">\n</linear>\n<linear width="-2" height="-2">\n<image width="24" height="24" width.pc="12" height.pc="12" cornerRadius="0" src="https://oa.gtimg.com/demo/sdk/flex_pic/basic/pic4@3x.png"></image>\n<text height="-2" width="380" margin="6,0,0,0" size="28" color="#FFA1ABC2" lineSpace="14" width.pc="190" margin.pc="3,0,0,0" size.pc="8" color.pc="0xA1ABC2" text="上限啊啊啊啊啊啊啊啊啊啊啊啊啊" maxLine="1"></text>\n</linear>\n</linear>\n</linear>\n</msg>\n',h='\n<?xml version="1.0" encoding="utf-8"?>\n<msg brief="腾讯企点xml消息">\n    <linear width="520" cornerRadius="5" background="#FFFFFFFF" orientation="vertical">\n        <text padding="26,34,0,0" width="-1" height="-2" style="bold" size="34" text="这是标题"/>\n        <text padding="26,20,27,28" width="-1" height="-2" size="28" text="这是描述啊描述描述"/>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=1&amp;navId=2&amp;menutp=1">\n            <text padding="26,28,0,28" size="28" text="菜单1"/>\n        </linear>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <fold width="-1" expand="0">\n            <container width="-1">\n                <text padding="26,28,0,28" size="28" text="折叠菜单"/>\n            </container>\n            <linear width="-1" orientation="vertical">\n                <container width="-1" background="#FFF7F7F7" action="web" actionData="https://oaadmin.qidian.qq.com/ac/login">\n                    <text padding="50,28,0,28" size="28" text="子菜单2"/>\n                </container>\n                <container width="-1" background="#FFF7F7F7" action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=3&amp;navId=2&amp;menutp=2">\n                    <text padding="50,28,0,28" size="28" text="子菜单3"/>\n                </container>\n                <container width="-1" background="#FFF7F7F7" action="web" actionData="mqqwpa://im/qdmenu?isNeedReply=true&amp;QidianKfUin=2852200400&amp;VerNo=1670831110&amp;menuId=9&amp;navId=9&amp;menutp=2&amp;buttonId=0&amp;parentId=6&amp;parentName=下级菜单&amp;Timestamp=1670831160&amp;ReceptionSwitch=1" url="http://www.baidu.com">\n                    <text padding="50,28,0,28" size="28" text="跳转网页"/>\n                </container>\n            </linear>\n        </fold>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=4&amp;navId=2&amp;menutp=1">\n            <text padding="26,28,0,28" size="28" text="菜单2"/>\n        </linear>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" action="web" actionData="mqqwpa://im/qdmenu?isNeedReply=true&amp;QidianKfUin=2852200400&amp;VerNo=1670405218&amp;menuId=4&amp;navId=9&amp;menutp=1&amp;buttonId=0&amp;Timestamp=1670825767&amp;ReceptionSwitch=1" url="https://www.baidu.com/">\n            <text padding="26,28,0,28" size="28" text="跳转网页"/>\n        </linear>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" height="84" gravity="center">\n            <text action="web" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=5&amp;navId=2&amp;menutp=3" width="-1" weight="1" color="#FF0067ED" gravity="center" text="按钮1" url="https://www.baidu.com/"/>\n            <divider orientation="vertical" width="1" height="-1"/>\n            <text action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=6&amp;navId=2&amp;menutp=3" width="-1" weight="1" color="#FF0067ED" gravity="center" text="按钮2"/>\n            <divider orientation="vertical" width="1" height="-1"/>\n            <text action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianKfUin=2852199391&amp;QidianPubID=0&amp;VerNo=1596606818&amp;menuId=7&amp;navId=2&amp;menutp=3" width="-1" weight="1" color="#FF0067ED" gravity="center" text="按钮3"/>\n        </linear>\n    </linear>\n</msg>\n',p='\n<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" msgName="e-commerce-secene" background="#FFFFFFFF" action="browser"  actionData="http://0w0.club/qidiandemo/detail4.html" actionData.webb="http://0w0.club/qidiandemo/detail4.html" actionData.pc="http://0w0.club/qidiandemo/detail4.html" click.wxplugin="true" appPath="/pages/goods/details/index?spuId=0">\n    <linear background="#FFFFFFFF" width="-2" height="-2" cornerRadius="12" orientation="vertical">\n        <linear width="-2" height="-2">\n            <linear width="-2" height="-2" margin="24,20,24,20" margin.pc="12,10,12,10">\n                <image name="onlineGoods" width="192" height="192" width.pc="96" height.pc="96" src="https://cdn-we-retail.ym.tencent.com/tsr/goods/nz-09a.png"></image>\n                <linear width="-2" height="-2" margin="20,0,0,0" margin.pc="10,0,0,0" orientation="vertical">\n                    <text width="312" height="80" margin="0,0,0,16" size="28" width.pc="156" height.pc="40" margin.pc="0,0,0,8"  size.pc="10" color="#FF262d3d" color.pc="0xFF262d3d" maxLine="2" text="白色短袖连衣裙荷叶边裙摆宽松韩版休闲纯白清爽优雅连衣裙"></text>\n                    <text width="312" height="-2" margin="0,0,0,20" size="24" width.pc="156" margin.pc="0,0,0,10" size.pc="7"  color="#FF78849E" color.pc="0xFF78849E" maxLine="1" text="短袖｜连衣裙"></text>\n                    <linear width="-2" height="-2">\n                        <text height="-2" width="152" size="32" width.pc="76" size.pc="12" gravity="left|centerVertical" maxLine="3" text="￥298" style="bold" color="#FFF75559" color.pc="0xFFF75559"></text>\n                        <text height="-2" width="160" size="24" width.pc="80" size.pc="8" gravity="right|centerVertical"  text="销量:6" color="#FF78849E" color.pc="0xFF78849E"></text>\n                    </linear>\n                </linear>\n            </linear>\n        </linear>\n        <divider width="-1" height="1" backgroundColor="0xFFF0F0F0"  background="#FFF0F0F0"></divider>\n        <linear width="-2" height="32" margin="24,20,24,20" margin.pc="12,10,12,10" height.pc="16">\n            <image name="shopIcon" width="30" height="30" width.pc="15" height.pc="15" src="https://cdn-we-retail.ym.tencent.com/tsr/goods/nz-09a.png"  margin="0,0,8,0" margin.pc="0,0,4,0"></image>\n            <text name="shopName" height="-2" text="猫猫的小店" width="400"  width.pc="200" size="24" size.pc="8"  gravity="left|centerVertical" color="#FF262d3d" color.pc="0xFF262d3d" maxLine="1" overflow="dot"></text>\n        </linear>\n    </linear>\n</msg>',g='\n<?xml version="1.0" encoding="utf-8"?>\n<msg brief="">\n    <linear width="-1" cornerRadius="12" background="#FFFFFFFF" orientation="vertical">\n\t\t<linear width="-1" orientation="vertical" padding="32,24,32,24">\n        \t<text width="-1" height="-2" size="28" text="前面还有99个人排队，确定要切换吗？"/>\n\t\t</linear>\n        <divider orientation="horizontal" width="-1" height="1" color="#FFEFEFF4"/>\n        <linear width="-1" height="84" gravity="center">\n            <text width="-1" weight="1" gravity="center" size="28" text="立即切换"  action="plugin" actionData="mqqwpa://im/qdmenu?version=1&amp;src_type=app&amp;isNeedReply=true&amp;isExt=false&amp;QidianPubID=0"  color="#FF0067ED"/>\n        </linear>\n    </linear>\n</msg>\n',v={type:"gray_msg",status:0,mine:!1,crm:{crm_flag:11,msg_gray_msg:{str_text:'当前服务语言是<a href="javascript:;" class="btn-lang">简体中文</a>',uint32_type:2,uint64_from_uin:938154917},msg_webim_extra_data:{str_avatar:"",str_external_name:"",uint64_extuin:2852199330}},fromHisotry:!1,content:{gray:'当前语言是：<a href="javascript:;" data-type="changeLang" class="btn-lang">简体中文</a>',track:"",msg_webim_extra_data:{str_avatar:"",str_external_name:"",uint64_extuin:2852199330}},msgBody:{rich_text:""}},b={type:"gray_msg",status:0,mine:!1,crm:{crm_flag:11,msg_gray_msg:{str_text:'客服给您下发了表单<a href="qdweb://webim/launch/pageaction?actionType=consultForm&formId=xxx&isPre=0" rel="noopener noreferrer">填写</a>',uint32_type:2,uint64_from_uin:938154917},msg_webim_extra_data:{str_avatar:"",str_external_name:"",uint64_extuin:2852199330}},fromHisotry:!1,content:{gray:'客服给您下发了表单<a href="qdweb://webim/launch/pageaction?actionType=consultForm&formId=xxx&isPre=0" rel="noopener noreferrer">填写</a>',track:"",msg_webim_extra_data:{str_avatar:"",str_external_name:"",uint64_extuin:2852199330}},msgBody:{rich_text:""}},_={type:"gray_msg",status:0,mine:!1,crm:{crm_flag:11,msg_gray_msg:{str_text:'客服给您下发了表单<a href="qdweb://webim/launch/pageaction?actionType=consultForm&formId=xxx&isPre=1" rel="noopener noreferrer">填写</a>',uint32_type:2,uint64_from_uin:938154917},msg_webim_extra_data:{str_avatar:"",str_external_name:"",uint64_extuin:2852199330}},fromHisotry:!1,content:{gray:'客服给您下发了表单<a href="qdweb://webim/launch/pageaction?actionType=consultForm&formId=xxx&isPre=1" rel="noopener noreferrer">填写</a>',track:"",msg_webim_extra_data:{str_avatar:"",str_external_name:"",uint64_extuin:2852199330}},msgBody:{rich_text:""}},w={data:{content:{type:14,tit:"请选择您要咨询的订单-5抽屉聚合",templateId:5,tabCount:4,pageSize:8,contentData:{tab:[{tabName:"已签收的 1",tabId:1},{tabName:"已签收的2",tabId:2},{tabName:"已签收的3",tabId:3},{tabName:"已签收的 4",tabId:4}],currentPage:1,currentTabId:1,hasNext:!0,contentList:[{id:0,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",name:"抽屉聚合1",status:"2021- 04-14",subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合11",des:"这个手 机",mon:"99.99",count:1,much:"2567",isLink:!1}]},{id:1,name:"抽屉聚合 2",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04- 14",dot:2,subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 21",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567",dot:2},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 22",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567",dot:2}]},{id:2,name:"抽屉聚合3",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04- 14",dot:2,subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 31",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567",dot:2}]},{id:3,name:"抽屉聚合4",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04- 14",dot:2,subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 41",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567",dot:2},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉聚合 42",isLink:!1,des:"这个手 机",mon:"99.99",count:1,much:"2567",dot:2}]}]},questionId:1234,domain:"abcd",intent:"ehig"},type:7}},y={data:{content:{type:14,tit:"请选择您要咨询的订单-2抽屉不聚 合",templateId:2,tabCount:4,pageSize:8,questionId:1234,domain:"abcd",intent:"ehig",contentData:{tab:[{tabName:"已签收的 1",tabId:1},{tabName:"已签收的2",tabId:2},{tabName:"已签收的3",tabId:3},{tabName:"已签收的4",tabId:4},{tabName:"已签收的5",tabId:1},{tabName:"已签收的 6",tabId:2},{tabName:"已签收的7",tabId:3},{tabName:"已签收的8",tabId:4},{tabName:"已签收的9",tabId:3},{tabName:"已签收的 10",tabId:4}],currentPage:1,currentTabId:1,hasNext:!0,contentList:[{itemId:111,logo:"",isLink:!1,des:"这个手机",count:null,much:null},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉不聚合 2",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉不聚合 3",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉不聚合 4",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"抽屉不聚合 5",isLink:!1,des:"这个手机这个手机这个手机这个手机这个手机这个手 机",mon:"99.99",count:1,much:"2567"}]}},type:7}},x={data:{content:{type:14,questionId:1234,domain:"abcd",intent:"ehig",tit:"请选择您要咨询的订单-1气泡聚合型",templateId:4,tabCount:4,pageSize:8,contentData:{currentPage:1,hasNext:!0,contentList:[{id:1,name:"气泡聚合 1",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04-14",subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 11",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 12",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"}]},{id:2,name:"气泡聚合2",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04-14",subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 21",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"}]},{id:3,name:"气泡聚合3",logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",status:"2021-04-14",subList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 31",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡聚合 32",isLink:!1,des:"这个手 机",mon:"99.99",count:1,much:"2567"}]}]}},type:7}},C={data:{content:{questionId:1234,domain:"abcd",intent:"ehig",type:14,tit:"请选择您要咨询的订单-1气泡 型",templateId:1,tabCount:4,pageSize:8,contentData:{currentPage:1,hasNext:!0,contentList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 1",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 2",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 3",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 4",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"气泡不聚合 5",isLink:!1,des:"这个手机这个手机这个手机这个手机这个手机这个手 机",mon:"99.99",count:1,much:"2567"}]}},type:7}},T={data:{type:7,content:{questionId:1234,domain:"abcd",intent:"ehig",type:14,tit:"请选择您要咨询的订单-3横划卡片型",templateId:3,pageSize:8,contentData:{currentPage:1,hasNext:!0,contentList:[{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 1",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 2",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 3",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 4",isLink:!1,des:"这个手机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 5",isLink:!1,des:"这个手机这个手机这个手机这个手机这个手机这个手 机",mon:"99.99",count:1,much:"2567"},{itemId:111,logo:"https://cdn-we-retail.ym.tencent.com/tsr/goods/dz-3a.png",tit:"卡片型 6",isLink:!1,des:"这个手机这个手机这个手机这个手机这个手机这个手 机",mon:"99.99",count:1,much:"2567"}]}}}},k={data:{type:7,content:{type:16,content:{title:"北京->上 海",subTitledesc:"xx快递:267384905-67",list:[{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1},{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1},{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1},{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1},{name:"您的快件在上海市徐汇区田林路中环国际 广场C座，前台已签收",desc:"01-20 20:00",status:1}]}}}},I={type:5,content:'        这是html消息这是html消息这是html消息这是html消息这是html消息这是html     消     息<a href="https://qq.com"><span>腾讯</span></a><br><br><br><br><br><br><br><br><br><br><br><br><br>哈哈哈<br><br><br><br><br><br><br>哈哈哈'},M=[{type:4,content:'这是html消息<a href="https://www.baidu.com">打电话打电话打电话打电话打电话打电话打电话打电话打电话打电话打电话</a><img src="https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-1762026921-4F9CA1576DF16EFD772434DD7EB245FB/0">'}],A={type:6,pagecount:5,answer:{type:4,datatype:4,msgType:1,content:'1.场景释义：\n机构老师将可约课的日程透出，让学员通过预约的方式，根据自己的情况进行课程、时间的预约<img src="https://p.qpic.cn/qidian_pic/2852199330/2020112872464fe1e0fcb8f207b12f22684eb7cc/0" alt="插图" data-alt="图片插入"><img src="https://p.qpic.cn/qidian_pic/2852199330/20201128e76fa78b5c0c9094b86b827ce084b5e1/0" alt="插图" data-alt="图片插入">'},answer_type:1,list:[{text:"1232435",itemtype:"333",key:"345"},{text:"653133214",itemtype:"333",key:"345"},{text:"fsgsaha",itemtype:"333",key:"345"},{text:"hasye色啊塔塔",itemtype:"333",key:"345"},{text:"嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒嘀嗒啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊",itemtype:"c2b",key:"345"},{text:"很短了",itemtype:"c2b",key:"345"},{text:"很短了",itemtype:"c2b",key:"345"},{text:"很短了",itemtype:"c2b",key:"345"}]},S={content:[{fieldName:"字段1",fieldType:1,options:{instances:[{name:"自己查询",id:"1082",dictId:"267",type:"user"},{name:"已申请",id:"1081",dictId:"267",type:"user"},{name:"准备申请",id:"1080",dictId:"267",type:"user"}]},required:!0,slotDefId:207,slotName:"金牌商标判断"},{fieldName:"城市",fieldType:2,options:{instances:[]},required:!0,slotDefId:175,slotName:"所在城市"},{fieldName:"城市",fieldType:3,options:{instances:[]},required:!0,slotDefId:15,slotName:"所在城市"}]},q={type:2,description:[{text:"您可以 "},{text:"点击此处",url:"https://member.cignacmb.com/mb-web/account/index.html#!/znkfLogin/JF"},{text:" 操作在线交费。"}],questions:[{text:"指定交费日"},{text:"宽限期是指什么"}]},O={htmlMsg:I,freeMsgList:M,batchMsg:A,robotForm:S,qlist:q},D='<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF">\n    <linear background="#FFFFFFFF" width="-2" height="-2" orientation="vertical">\n        <linear width="-2" height="-2" margin.mobile="24,20,24,20" margin.pc="12,10,12,10" margin.web="24,20,24,20"\n            action="browser" actionData="   " >\n            <image name="onlineCoupon0" width.mobile="132" height.mobile="112" margin.mobile="0,0,20,0" width.pc="66" height.pc="56" margin.pc="0,0,10,0" width.web="132" height.web="112" margin.web="0,0,20,0" src="https://aaa.com/a.png"></image>\n            <linear width="-2" height="-2" orientation="vertical" platform="web">\n                <linear width="-2" height="-2" margin="0,0,0,20" orientation="horizontal"\n                    gravity="centerHorizontal|centerVertical">\n                    <linear width="76" height="32" background="#FFFFF7F0" borderWidth="1" borderColor="#FFFFEBDC"\n                       borderStyle="solid" cornerRadius="6" gravity="centerHorizontal|centerVertical">\n                        <text width="-2" height="-2" size="20" style="bold" color="#FFFF8345" text="店铺劵"></text>\n                    </linear>\n                    <text height="-2" width="284" margin="12,0,0,0" size="26"\n                      width.pc="142" margin.pc="6,0,0,0" size.pc="8" color="#FF262D3D"\n                      color.pc="0xFF262D3D" maxLine="1" text="优惠券111"\n                      gravity="centerHorizontal|centerVertical"></text>\n                </linear>\n                <linear width="-2" height="-2" gravity="left|bottom" orientation="horizontal">\n                    <text height="-2" width="216" margin="0,0,12,0" size="22" maxLine="1"\n                    text="2021.01.02前使用" color="#FFA1ABC2"></text>\n                    <linear width="140" height="52" borderWidth="1" borderColor="#FF7396FF"\n                      borderStyle="solid" cornerRadius="30" gravity="centerHorizontal|centerVertical">\n                        <text width="-2" height="-2" size="26" text="点击领取" color="#FF4A70FF"></text>\n                    </linear>\n                </linear>\n            </linear>\n        </linear>\n        <linear width="-2" height="-2" margin.mobile="24,20,24,20" margin.pc="12,10,12,10"\n           margin.web="24,20,24,20" action="browser" actionData="   " >\n            <image name="onlineCoupon1" width.mobile="132" height.mobile="112" margin.mobile="0,0,20,0" width.pc="66" height.pc="56" margin.pc="0,0,10,0" width.web="132" height.web="112" margin.web="0,0,20,0" src="https://aaa.com/a.png"></image>\n            <linear width="-2" height="-2" orientation="vertical" platform="web">\n                <linear width="-2" height="-2" margin="0,0,0,20" orientation="horizontal"\n                    gravity="centerHorizontal|centerVertical">\n                    <linear width="76" height="32" background="#FFFFF7F0" borderWidth="1" borderColor="#FFFFEBDC"\n                     borderStyle="solid" cornerRadius="6" gravity="centerHorizontal|centerVertical">\n                        <text width="-2" height="-2" size="20" style="bold" color="#FFFF8345" text="店铺劵"></text>\n                    </linear>\n                    <text height="-2" width="284" margin="12,0,0,0" size="26" width.pc="142"\n                     margin.pc="6,0,0,0" size.pc="8" color="#FF262D3D" color.pc="0xFF262D3D"\n                     maxLine="1" text="优惠券122" gravity="centerHorizontal|centerVertical"></text>\n                </linear>\n                <linear width="-2" height="-2" gravity="left|bottom" orientation="horizontal">\n                    <text height="-2" width="216" margin="0,0,12,0" size="22" maxLine="1" text="2021.01.02前使用"\n                     color="#FFA1ABC2"></text>\n                    <linear width="140" height="52" borderWidth="1" borderColor="#FF7396FF" borderStyle="solid"\n                     cornerRadius="30" gravity="centerHorizontal|centerVertical">\n                        <text width="-2" height="-2" size="26" text="点击领取" color="#FF4A70FF"></text>\n                    </linear>\n                </linear>\n            </linear>\n        </linear>\n    </linear>\n</msg>',j='<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF" action="browser" actionData="https://www.baidu.com/?_need_qd_trans_info=1">\n    <linear background="#FFFFFFFF" orientation="vertical">\n        <image name="onlineBanner" width="620" height="304" width.pc="310" height.pc="152" src="https://wiki.supercombo.gg/images/b/bf/Kof97logo.png"/>\n        <linear width="-2" height="-2">\n            <linear width="-2" height="-2" orientation="vertical" margin="24,20,24,24" margin.pc="12,10,12,12">\n                <text width="572" height="-2" size="32" width.pc="286" size.pc="12" color="#FF262d3d" color.pc="0xFF262d3d" style="bold" maxLine="1" text="下单专属权益" />\n                <text width="572" height="-2" margin="0,16,0,0" size="24" width.pc="286" margin.pc="0,8,0,0" size.pc="6" color="#FF262d3d" color.pc="0xFF262d3d" maxLine="2" text="点我下单，查看详情" />\n            </linear>\n        </linear>\n    </linear>\n</msg>',P='<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF">\n    <linear background="#FFFFFFFF" orientation="vertical">\n        <linear margin="0,0,0,2" margin.pc="0,0,0,1">\n            <linear orientation="vertical">\n                <linear action="browser" actionData="" click.wxplugin="true" appPath="/pages/index/index">\n                    <image name="onlineGoods1" width="286" height="286" width.pc="143" height.pc="143" src="https://img.tukuppt.com/png_preview/00/37/77/1w0VPk48OO.jpg!/fw/780"/>\n                </linear>\n                <linear width="-2" height="-2" margin="16,8,16,24" margin.pc="8,4,8,12">\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" background="#FFF7F8FA" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=1&#38;id=2&#38;url=xxx&#38;scene=1">\n                        <text width="-2" height="-2" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="咨询" color="#A6030A26"/>\n                    </linear>\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" margin="16,0,0,0" margin.pc="8,0,0,0" background="#FF4A70FF" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=2&#38;id=2&#38;url=xxx&#38;scene=1">\n                        <image width="32" height="32" width.pc="16" height.pc="16" src="https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png"/>\n                    </linear>\n                </linear>\n            </linear>\n\n            <linear orientation="vertical" margin="2,0,0,0" margin.pc="1,0,0,0">\n                <linear action="browser" actionData="http://www.baidu.com" click.wxplugin="true" appPath="/pages/index/index">\n                    <image name="onlineGoods2" width="286" height="286" width.pc="143" height.pc="143" src="https://img.tukuppt.com/png_preview/00/37/77/1w0VPk48OO.jpg!/fw/780"/>\n                </linear>\n                <linear width="-2" height="-2" margin="16,8,16,24" margin.pc="8,4,8,12">\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" background="#FFF7F8FA" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=1&#38;id=2&#38;url=xxx&#38;scene=1">\n                        <text width="-2" height="-2" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="咨询" color="#A6030A26"/>\n                    </linear>\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" margin="16,0,0,0" margin.pc="8,0,0,0" background="#FF4A70FF" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=2&#38;id=2&#38;url=xxx&#38;scene=1">\n                        <text width="-2" height="-2" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="加购" color="#ffffffff"/>\n                    </linear>\n                </linear>\n            </linear>\n        </linear>\n\n        <linear margin="0,0,0,2" margin.pc="0,0,0,1">\n            <linear orientation="vertical">\n                <linear action="browser" actionData="http://www.baidu.com" click.wxplugin="true" appPath="/pages/index/index">\n                    <image name="onlineGoods1" width="286" height="286" width.pc="143" height.pc="143" src="https://img.tukuppt.com/png_preview/00/37/77/1w0VPk48OO.jpg!/fw/780"/>\n                </linear>\n                <linear width="-2" height="-2" margin="16,8,16,24" margin.pc="8,4,8,12">\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" background="#FFF7F8FA" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=1&#38;id=2&#38;url=xxx&#38;scene=1">\n                        <text width="-2" height="-2" size="24" size.pc="8" text="咨询" color="#A6030A26"/>\n                    </linear>\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" margin="16,0,0,0" margin.pc="8,0,0,0" background="#FF4A70FF" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=2&#38;id=2&#38;url=xxx&#38;scene=1">\n                        <image width="32" height="32" width.pc="16" height.pc="16" src="https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png"/>\n                    </linear>\n                </linear>\n            </linear>\n\n            <linear orientation="vertical" margin="2,0,0,0" margin.pc="1,0,0,0">\n                <linear action="browser" actionData="http://www.baidu.com" click.wxplugin="true" appPath="/pages/index/index">\n                    <image name="onlineGoods2" width="286" height="286" width.pc="143" height.pc="143" src="https://img.tukuppt.com/png_preview/00/37/77/1w0VPk48OO.jpg!/fw/780"/>\n                </linear>\n                <linear width="-2" height="-2" width.pc="143" margin="16,8,16,24" margin.pc="8,4,8,12">\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" background="#FFF7F8FA" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=1&#38;id=aaa&#38;url=xxx&#38;scene=1">\n                        <text width="-2" height="-2" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="咨询" color="#A6030A26"/>\n                    </linear>\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" margin="16,0,0,0" margin.pc="8,0,0,0" background="#FF4A70FF" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=2&#38;id=bbb&#38;url=xxx&#38;scene=1">\n                        <text width="-2" height="-2" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="加购" color="#ffffffff"/>\n                    </linear>\n                </linear>\n            </linear>\n        </linear>\n\n        <linear action="browser" actionData="https://order.jd.com/center/list.action" click.wxplugin="true" appPath="/pages/index/index">\n            <linear orientation="vertical" margin="24,20,24,24" margin.pc="12,10,12,12">\n                <text width="524" size="32" width.pc="262" size.pc="14" color="#FF262d3d" color.pc="0xFF262d3d" style="bold" maxLine="1" text="店铺上新抢先看" />\n                <text width="524" margin="0,16,0,0" size="28" width.pc="262" margin.pc="0,8,0,0" size.pc="10" color="#FF262d3d" color.pc="0xFF262d3d" maxLine="2" text="最近上新的商品，给最亲爱的你，最奢华的享受！" />\n            </linear>\n        </linear>\n\n        <linear width="-2" height="-2" padding="24,16,24,16" padding.pc="12,8,12,8" orientation="vertical">\n            <linear width="524" width.pc="262" height="2" height.pc="1" background="#14122A4F"/>\n            <linear width="-1" margin="0,32,0,0" margin.pc="0,16,0,0" orientation="vertical" gravity="left|centerVertical">\n                <linear width="524" width.pc="262" height="-2" background="#FFF1F6FF" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="http://www.baidu.com" click.wxplugin="true" appPath="/pages/index/index">\n                    <text width="-2" height="-2" margin="32,16,32,16" margin.pc="16,8,16,8" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="🧧领取10元优惠券" color="#FF4A70FF"/>\n                </linear>\n                <linear width="524" width.pc="262" height="-2" margin="0,16,0,0" margin.pc="0,8,0,0" background="#FFF1F6FF" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="" click.wxplugin="true" appPath="/pages/index/index">\n                    <text width="-2" height="-2" margin="32,16,32,16" margin.pc="16,8,16,8" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="🔥手表销量排行榜" color="#FF4A70FF"/>\n                </linear>\n            </linear>\n        </linear>\n    </linear>\n</msg>',F='<?xml version="1.0" encoding="utf-8"?>\n<msg brief="企点结构化消息" serviceID="115" background="#FFFFFFFF">\n    <linear background="#FFFFFFFF" cornerRadius="12" width="-2" height="-2" orientation="vertical">\n        <linear width="-2" height="-2" margin="0,8,0,8" margin.pc="0,4,0,4" orientation="vertical" platform="web">\n            <linear orientation="vertical">\n                <linear width="-2" height="-2" margin="24,16,24,16" margin.pc="12,8,12,8" action="browser" actionData="" click.wxplugin="true" appPath="/pages/index/index">\n                    <image name="onelineGoodsWeb0" width="112" height="112" width.pc="56" height.pc="56" src="https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png"/>\n                    <linear width="-2" height="-2" margin="20,8,0,0" margin.pc="10,4,0,0" orientation="vertical">\n                        <linear width="-2" height="-2" margin="0,0,0,20" margin.pc="0,0,0,10" gravity="left|centerVertical">\n                            <text height="-2" width="280" width.pc="140" size="28" size.pc="10" color="#FF262d3d" maxLine="1" text="小寻智能手表能视频能通话" gravity="left|centerVertical"/>\n                            <text height="-2" width="116" width.pc="58" size="32" size.pc="14" color="#FFF75559" maxLine="1" style="bold" text="¥99999" gravity="right|centerVertical"/>\n                        </linear>\n                        <linear width="-2" height="-2">\n                            <text height="-2" width="280" width.pc="140" size="24" size.pc="8" text="库存:20" maxLine="1" color="#FFA1ABC2" gravity="left|centerVertical"/>\n                            <text height="-2" width="116" width.pc="58" size="24" size.pc="8" text="销量:5" maxLine="1" color="#FFA1ABC2" gravity="right|centerVertical"/>\n                        </linear>\n                    </linear>\n                </linear>\n\n                <linear width="524" width.pc="262" height="-2" margin="24,0,24,16" margin.pc="12,0,12,8" orientation="horizontal" gravity="left|centerVertical">\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" background="#FFF7F8FA" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=1&#38;id=1&#38;url=xxx&#38;scene=1">\n                        <text width="-2" height="-2" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="咨询" color="#A6030A26"/>\n                    </linear>\n                    <linear width="0" weight="1" height="-2" padding="20,8,20,8" padding.pc="10,4,10,4" margin="16,0,0,0" margin.pc="8,0,0,0" background="#FF4A70FF" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="qdweb://webim/message/operateRobotXmlMsg?type=2&#38;id=1&#38;url=xxx&#38;scene=1">\n                        <image width="32" height="32" width.pc="16" height.pc="16" src="https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png"/>\n                    </linear>\n                </linear>\n            </linear>\n\n            <linear width="-2" height="-2" padding="24,16,24,16" padding.pc="12,8,12,8" orientation="vertical">\n                <linear width="524" width.pc="262" height="2" height.pc="1" background="#14122A4F"/>\n                <linear width="-1" margin="0,32,0,0" margin.pc="0,16,0,0" orientation="vertical" gravity="left|centerVertical">\n                    <linear width="524" width.pc="262" height="-2" background="#FFF1F6FF" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="http://www.baidu.com" click.wxplugin="true" appPath="/pages/index/index">\n                        <text width="-2" height="-2" margin="32,16,32,16" margin.pc="16,8,16,8" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="🧧领取10元优惠券" color="#FF4A70FF"/>\n                    </linear>\n                    <linear width="524" width.pc="262" height="-2" margin="0,16,0,0" margin.pc="0,8,0,0" background="#FFF1F6FF" cornerRadius="30" gravity="centerHorizontal|centerVertical" action="browser" actionData="" click.wxplugin="true" appPath="/pages/index/index">\n                        <text width="-2" height="-2" margin="32,16,32,16" margin.pc="16,8,16,8" size="24" size.pc="8" lineSpace="8" lineSpace.pc="4" text="🔥手表销量排行榜" color="#FF4A70FF"/>\n                    </linear>\n                </linear>\n            </linear>\n\n        </linear>\n    </linear>\n</msg>',R={type:18,content:{data:[{id:"1",title:"智能手表1111",currencyUnit:"$",indicate:"4G全网通｜八重安全定位",price:"999.99",inventory:"20",sales:"5",image:"http://image.it168.com/n/640x480/4/4869/4869316.jpg",jumpURL:"https://item.jd.com/100011203359.html",shareAppPath:"",customBtn:[{type:1,text:"咨询",icon:"",url:""},{type:2,text:"",icon:"https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png",url:"http://http.mock.woa.com/e-commerce/robot/shoppingCart"}]},{id:"2",title:"智能手表222",currencyUnit:"$",indicate:"4G全网通｜八重安全定位",price:"999.99",inventory:"20",sales:"5",image:"https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png",jumpURL:"https://item.jd.com/100011203359.html?_need_qd_trans_info=1&a=1",shareAppPath:"",customBtn:[{type:1,text:"咨询",icon:"",url:""}]},{id:"3",title:"智能手表3",currencyUnit:"$",indicate:"4G全网通｜八重安全定位",price:"999.99",inventory:"20",sales:"5",image:"http://image.it168.com/n/640x480/4/4869/4869316.jpg",jumpURL:"https://www.baidu.com/?_need_qd_trans_info=1",shareAppPath:"",customBtn:[{type:2,text:"",icon:"https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png",url:"http://http.mock.woa.com/e-commerce/robot/shoppingCart"}]},{id:"4",title:"智能手表4",currencyUnit:"$",indicate:"4G全网通｜八重安全定位",price:"999.99",inventory:"20",sales:"5",image:"https://cdn.pixabay.com/photo/2020/05/15/08/28/switch-5172817_1280.png",jumpURL:"https://www.baidu.com/?a=1",shareAppPath:""}],customLink:[{title:"🔥手表销量排行榜🔥手表销量排行榜🔥手表销量排行榜",jumpURL:"http://www.baidu.com",shareAppPath:""},{title:"🧧领取10元优惠券",jumpURL:"http://oaadmin.qidian.qq.com",shareAppPath:""}]}},L='\n# Markdown演示\n\n这里是**markdown**的演示内容，下方将显示目前markdown对一些常见内容的支持情况，如文字效果、列表、表格、代码等。\n\n## 二级标题\n### 三级标题\n#### 四级标题\n##### 五级标题\n\n## 文本\n\n**加粗**\n\n*斜体*\n\n~~删除线~~\n\n\n## 水平线\n___\n\n我的上下是水平线\n\n---\n\n## 列表\n\n下方是个无序列表\n+ 西安\n+ 成都\n+ 重庆\n+ 苏州\n\n\n下面是个有序列表\n1. 早饭\n2. 中饭\n3. 晚饭\n\n下面是有序列表嵌套无序列表\n1. 早餐\n   - 牛奶\n   - 面包\n   - 鸡蛋\n2. 午餐\n   - 米饭\n   - 蔬菜\n   - 肉类\n3. 晚餐\n   - 面条\n   - 汤\n   - 水果\n\n## 图片\n\n下方是一张图片\n\n![](http://p.qpic.cn/qidian_pic/0/20200226d9e3ac7378c87009739ed91984d8d2e9/0)\n\n## 链接\n这里是[百度](https://www.baidu.com)\n\n# 引用\n> 这里是**引用**的文本.\n\n\n## 表格\n\n基本表格使用:\n\n| 列1标题 | 列2标题 | 列3标题 |\n| ------ | ------ | ------ |\n| 内容1 | 内容2 | 内容3 |\n| 内容4 | 内容5 | 内容6 |\n\n## 代码\n\n**行内代码**：这里是一个常用的API：`document.getElementById`。\n\n**js**\n```js\nconst xyz = 99999999999999999999999999999999999999999999999999999999999999999999999999999999999999;\';\n\nconst foo = function (bar) {\n\nreturn bar++;\n\n};\nconsole.log(foo(5));\n```\n\n**c**\n```c\nint a = 0;\nfunction main(){\n\tprintf("%d", a);\n}\n```\n\n**java**\n```java\nclass A{\n\tprivate int a;\n\tprivate final int b;\n\tpublic int get(){\n\t\t return a;\n\t}\n} \n```\n\n',E=d["b"].create(),N={inject:["MsgType","IMSDKType","messageList"],props:{to:{default:function(){return{}}}},data:function(){return{enabled:!1,EVENT:d["b"].EVENT}},mounted:function(){0},methods:{sendMsg:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this.to.id,a={seq:l["a"].generateUUID(),type:t,time:Date.now(),status:0,from:i};t===this.IMSDKType.MSG_TEXT&&Object.assign(a,{content:"随机文本".concat(Math.random().toString(36).substring(2)),crm:n}),t===this.IMSDKType.MSG_IMAGE&&Object.assign(a,{content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-189792930-E59538E23B28257858A4768105725293/0",uuid:a.seq,name:"1-115.jpg",size:144836,width:1080,height:1370}),"leave_form_msg"===t&&Object.assign(a,{type:this.IMSDKType.MSG_TEXT,content:'当前排队人数较多，前面有18人排队，您可以<a href="qdweb://webim/message/leaveform?key=40716455be857461886a7a9142a179e2&kfuin=2852199663">去留言</a>'}),t===this.IMSDKType.MSG_FILE&&Object.assign(a,{content:"blob:http://localhost:8080/a1b9bb6c-3210-419d-b46b-862b6546954d",uuid:"blob",name:"test.jpg",size:162356,format:"image/jpeg"}),t===this.IMSDKType.MSG_VOICE&&Object.assign(a,{content:"https://bqq.gtimg.com/CDN/source/audio/dida.mp3",uuid:a.seq,length:3,size:3829}),t===this.IMSDKType.MSG_IMAGE_TEXT&&Object.assign(a,{content:'\n            <?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n            <msg serviceID="21" templateID="12345" action="web" actionData="" brief="73单图文" url="https://wap.qidian.qq.com/oa/rest/view/2852199190_901_1_1688372417" flag="1">\n                <item layout="6">\n                    <title overflow="dot">73单图文73单图文73单图文73单图文73单图文73单图文</title>\n                    <summary>2021-09-30</summary>\n                    <picture cover="https://p.qpic.cn/qidian_pic/2852199190/20230608b7f61d9c97e97256a4e737d6b018ead8/0" />\n                    <summary>全渠道智能客服全渠道智能客服全渠道智能客服全渠道智能客服全渠道智能客服全渠道智能客服</summary>\n                </item>\n                <item>\n                    <hr />\n                </item>\n                <item>\n                    <more />\n                </item>\n            </msg>\n          '}),t===this.IMSDKType.MSG_QDXML&&(e||(e=f),Object.assign(a,{content:{content:e}})),t===this.IMSDKType.MSG_ROBOT_NAV&&Object.assign(a,{content:{content:m(Date.now()%7)}}),t===this.IMSDKType.MSG_FEED_BACK&&(this.$Toast("请求server数据时，server返回的是html，无法直接使用，需要本地mock一下server的接口"),Object.assign(a,{type:this.IMSDKType.MSG_THIRD_MSG,content:{crmFlag:60,content:"uk=403A7B01588CE2472D114D7936F775008FC0F3C3D085DF6CEDBBFF47B25E6628_86400_1688561389"}})),this.mackB2CMsg(a)},mackB2CMsg:function(t){var e=this.to.id,n=Object(r["a"])({},e,[t]);console.log("mock",n),E.emit(d["b"].EVENT.MESSAGE_RECEIVED,n)},changeKF:function(){this.sendMsg(this.IMSDKType.MSG_QDXML,g)},sendRobotMsg:function(t,e){var n=this.to.id,i={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_ROBOT,time:Date.now(),status:0,from:n,crm:{msg_webim_extra_data:{bytes_wpaid:"",uint64_robotid:""},str_session_id:""}};if("htmlmsg"===t&&(i.content=O.htmlMsg),"freemsg"===t){var a=O.freeMsgList;i.content=a[Date.now()%a.length]}if("batchmsg"===t&&(i.content=O.batchMsg),"robotform"===t&&(i.type=this.IMSDKType.MSG_ROBOT_FORM,i.content=JSON.parse(JSON.stringify(O.robotForm))),"qlist"===t){var o=O.qlist;i.content=o}if("drawer_group"===t&&(i.content=w.data),"bubble_group"===t&&(i.content=x.data),"card"===t&&(i.content=T.data),"node"===t&&(i.content=k.data),"drawer_nogroup"===t&&(i.content=y.data),"bubble_nogroup"===t&&(i.content=C.data),"tablemsg"===t&&(i.content={type:17,content:"文本内容描述啊，<b>描述</b>描述",table:{headers:["姓名","年龄","性别"],rows:[["张三，张三，张三，sahshgasfafhsdg三四个死贵死贵送达岁的萨法斯蒂芬森返多少的佛挡杀佛第三方啥地方都是疙瘩",28,"男"],["李四",35,"女，女，女，女，女，女，女，女，女，女，女，女，女，女，女，"],["王五",42,"男"]]}}),"slide"===t&&(i.content=R),"tablemsg"===t&&(i.content={type:17,content:"文本内容描述啊，<b>描述</b>描述",table:{headers:["姓名","年龄","性别"],rows:[["张三，张三，张三，sahshgasfafhsdg三四个死贵死贵送达岁的萨法斯蒂芬森返多少的佛挡杀佛第三方啥地方都是疙瘩",28,"男"],["李四",35,"女，女，女，女，女，女，女，女，女，女，女，女，女，女，女，"],["王五",42,"男"]]}}),"markdown"===t){var s=L;i.isDynamicUpdate=e.isDynamicUpdate,i.seq=e.seq,i.content={type:88,ai_reply:{payload:{content:"".concat(s).concat(e.content),is_llm_generated:!0,is_final:e.isLast}},is_start:e.isFirst,is_final:e.isLast}}"robotform"!==t&&"slide"!==t&&(i.content.vote={active:["up","down",""][Date.now()%3],id:i.seq,expiredIntervalTime:864e5,robotId:922223543,button:[{key:"up",text:"满意"},{key:"down",text:"不满意"}],type:[1,2][Date.now()%2]}),this.mackB2CMsg(i)},makeEvent:function(t,e){E.emit(t,e)},navMenu:function(){this.sendMsg(this.IMSDKType.MSG_QDXML,h)},uploadLongText:function(){return Object(c["a"])(Object(s["a"])().m((function t(){var e,n;return Object(s["a"])().w((function(t){while(1)switch(t.n){case 0:return e=h,t.n=1,d["c"].uploadLongText(e);case 1:n=t.v,console.log("[uploadLongText-result]",n);case 2:return t.a(2)}}),t)})))()},downloadLongText:function(){var t=this;return Object(c["a"])(Object(s["a"])().m((function e(){var n,i;return Object(s["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,d["c"].getDownloadUrl({path:"8b497251-475a-4d8b-b1d7-1fd7c3ecc259"},d["b"].OBJTYPES.OBJ_LONGTEXT);case 1:return n=e.v,e.n=2,t.$ajax.get(n);case 2:i=e.v,console.log("[downloadLongText-result]",n,i.data);case 3:return e.a(2)}}),e)})))()},sendQDXML:function(){this.$parent.sendQDXMLMessage({qdxml:{content:p}})},sendChangeLang:function(){var t=this.to.id,e=Object(o["a"])({seq:l["a"].generateUUID(),time:Date.now(),status:0,from:t},v);this.mackB2CMsg(e)},sendCouponXml:function(){var t=this.to.id,e={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:t};Object.assign(e,{content:{content:D}}),this.mackB2CMsg(e)},sendGraphicNotice:function(){var t=this.to.id,e={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:t};Object.assign(e,{content:{content:j}}),this.mackB2CMsg(e)},sendGoodsActive:function(){var t=this.to.id,e={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:t};Object.assign(e,{content:{content:P}}),this.mackB2CMsg(e)},sendBubble:function(){var t=this.to.id,e={seq:l["a"].generateUUID(),type:this.IMSDKType.MSG_QDXML,time:Date.now(),status:0,from:t};Object.assign(e,{content:{content:F}}),this.mackB2CMsg(e)},sendGrayMsg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var e={};"lang"===t&&(e=v),"form-in"===t&&(e=b),"form-before"===t&&(e=_);var n=this.to.id,i=Object(o["a"])({seq:l["a"].generateUUID(),time:Date.now(),status:0,from:n},JSON.parse(JSON.stringify(e)));this.mackB2CMsg(i)}catch(a){console.error("err",a)}},sendLargeModelMsg:function(){var t=this,e=Date.now(),n=0,i="",a=10,o=["\n\n以下是动态追加内容","\n\n内容1","\n\n内容2","\n\n内容3"],s=setInterval((function(){n>a&&clearInterval(s),i+=o[n]||"".concat(n,"."),t.sendRobotMsg("markdown",{isDynamicUpdate:n>0,seq:1e9+e,content:i,isFirst:0===n,isLast:n>a}),n+=1}),300)}}},B=N,Q=(n("1e0d"),n("2877")),G=Object(Q["a"])(B,i,a,!1,null,"5c7e988e",null);e["a"]=G.exports},8118:function(t,e,n){"use strict";n.d(e,"a",(function(){return at})),n.d(e,"b",(function(){return ot}));n("b1f8");var i=n("2909"),a=n("c14f"),o=n("1da1"),s=n("5530"),c=n("b85c"),r=(n("99af"),n("4de4"),n("7db0"),n("c740"),n("caad"),n("d81d"),n("14d9"),n("fb6a"),n("a434"),n("b0c0"),n("e9f5"),n("910d"),n("f665"),n("7d54"),n("ab43"),n("e9c4"),n("4ec9"),n("a9e3"),n("b64b"),n("d3b7"),n("ac1f"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("841c"),n("5087"),n("d437"),n("ef42"),n("159b"),n("ddb0"),n("d90f")),l=n("9de0"),d=n("7b05"),u=n("0c74"),m=n("b08d"),f=n("4328"),h=n.n(f),p=n("d5b4"),g=n("2b0e"),v=n("2ee4"),b=function(){var t=this,e=t._self._c;return e("popup",{ref:"popup",attrs:{show:t.openPop,title:t.content.tit,isShowScroll:!1,showClose:!0},on:{"update:show":function(e){t.openPop=e}}},[e("div",{staticClass:"chat-drawer"},[t.tab&&t.tab.length?e("div",{staticClass:"tab-container"},t._l(t.tab,(function(n,i){return e("div",{class:["tab-wrapper","title-name",n.tabId===t.choosedTabId?"choosed":""],on:{click:function(e){return t.switchTab(n)}}},[t._v(" "+t._s(n.tabName)+" ")])})),0):t._e(),e("div",{staticClass:"drawer-list-wrapper"},[e("div",{staticClass:"drawer-list",attrs:{id:"tab1"}},[t.isGroupType?t._l(t.contentList,(function(n){return e("div",{staticClass:"drawer-list-content"},[e("div",{staticClass:"drawer-item drawerList-body-head"},[e("div",{staticClass:"left"},[e("img",{staticClass:"logo",attrs:{src:n.logo,alt:""}}),e("div",{staticClass:"tit"},[t._v(t._s(n.name))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"status"},[t._v(t._s(n.status))])])]),e("drawer-item",{attrs:{list:n.subList},on:{chooseItem:t.chooseItem}})],1)})):e("div",{staticClass:"drawer-list-content"},[e("drawer-item",{attrs:{list:t.contentList},on:{chooseItem:t.chooseItem}})],1),t.hasNext||t.isShowLoading||t.showNoMore?e("div",{staticClass:"drawer-list-bottom"},[t.hasNext?e("span",{on:{click:t.loadMore}},[t._v("点击加载更多订单")]):t.isShowLoading?e("i",{staticClass:"loading loading-s"}):t.showNoMore?e("span",[t._v("暂无更多订单")]):t._e()]):t._e()],2)])])])},_=[],w=n("7dc1"),y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawer-item-container"},t._l(t.list,(function(n){return e("div",{staticClass:"drawer-item drawerList-body-body",on:{click:function(e){return t.chooseItem(n)}}},[e("div",{staticClass:"left"},[n.logo?e("img",{staticClass:"item-logo",attrs:{src:n.logo}}):t._e()]),e("div",{staticClass:"right"},[n.tit?e("div",{staticClass:"m1"},[t._v(t._s(n.tit))]):t._e(),n.des?e("div",{staticClass:"m2"},[t._v(t._s(n.des))]):t._e(),e("div",{staticClass:"bottom"},[e("div",{staticClass:"bottom-left"},[e("div",{staticClass:"m3"},[e("span",[t._v(t._s(n.mon))])]),t.isNumSet(n.count)?e("div",{staticClass:"m4"},[t._v("x"),e("span",[t._v(t._s(n.count))])]):t._e()]),t.isNumSet(n.much)?e("div",{staticClass:"bottom-right m4"},[e("span",[t._v(t._s(n.much))]),t._v("件已售")]):t._e()])])])})),0)},x=[],C={props:{list:{type:Array,default:function(){return[]}}},methods:{chooseItem:function(t){this.$emit("chooseItem",t)},isNumSet:function(t){return t||"0"===String(t)}}},T=C,k=(n("58da"),n("2877")),I=Object(k["a"])(T,y,x,!1,null,null,null),M=I.exports,A=n("5ac5"),S=n("fc61"),q=n("20b7"),O={components:{Popup:w["a"],DrawerItem:M},props:{message:{type:Object,default:function(){return{}}},to:{type:Object,default:function(){return{}}},wpaDetail:{type:Object,default:function(){return{}}},globalData:{type:Object,default:function(){}}},watch:{"globalData.reception":{handler:function(t){t.extuin||(this.openPop=!1)},deep:!0}},data:function(){return{openPop:!0,content:{},contentList:[],tab:[],choosedTabId:0,hasNext:!1,isGroupType:!0,isShowLoading:!1,currentPage:0,showNoMore:!1}},mounted:function(){var t,e,n=this;setTimeout((function(){n.openPop=!0}),400);var i=this.message.content.content.contentData,a=i.contentList,o=void 0===a?[]:a,s=i.tab,c=void 0===s?[]:s,r=i.currentPage;this.content=null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.content,this.hasNext=null===(e=this.content.contentData)||void 0===e?void 0:e.hasNext,this.contentList=o,this.tab=c,this.choosedTabId=c[0]&&c[0].tabId,this.isGroupType=5===this.content.templateId,this.currentPage=r},methods:{switchTab:function(t){t.tabId!==this.choosedTabId&&(this.choosedTabId=t.tabId,this.contentList=[],this.currentPage=0,this.loadMore())},chooseItem:function(t){this.openPop=!1,A["a"].sendQDXMLMessage({qdxml:{content:Object(S["a"])(t),brief:"企点结构化消息"}},null,{robot_ctrl:{str_ext2robot:JSON.stringify(Object(s["a"])(Object(s["a"])({},t),{},{extRobotType:2}))}})},loadMore:function(){var t=this;return Object(o["a"])(Object(a["a"])().m((function e(){var n,i,o,s,c,r,l,d,u,m,f,h,p,g,v,b,_,w,y,x,C,T,k,I,M;return Object(a["a"])().w((function(e){while(1)switch(e.n){case 0:return t.hasNext=!1,t.isShowLoading=!0,n=t.message.content.content,i=n.questionId,o=void 0===i?"":i,s=n.domain,c=void 0===s?"":s,r=n.intent,l=void 0===r?"":r,d=n.pageSize,u=t.message.crm,m=u.msg_webim_extra_data,f=m.bytes_wpaid,h=void 0===f?"":f,p=m.uint64_robotid,g=void 0===p?"":p,v=u.str_session_id,b={questionId:o,domain:c,intent:l,tabId:t.choosedTabId,pageSize:d,currentPage:t.currentPage+1,robotId:g,sessionId:v,wpaId:h,corpUin:t.wpaDetail.kfuin,visitId:t.to.user_id,channelType:3},e.n=1,Object(q["a"])(b);case 1:if(_=e.v,w=_.code,y=_.msg,x=_.data,t.isShowLoading=!1,0!==+w){e.n=3;break}if(x.contentData){e.n=2;break}return t.showNoMore=!0,t.hasNext=!1,e.a(2);case 2:C=x.contentData,T=C.contentList,k=void 0===T?[]:T,I=C.hasNext,M=C.currentPage,t.contentList=t.contentList.concat(k),t.currentPage=M,t.hasNext=I,t.showNoMore=!I,e.n=4;break;case 3:t.$Toast(y||"更多数据加载失败");case 4:return e.a(2)}}),e)})))()}}},D=O,j=(n("febe"),Object(k["a"])(D,b,_,!1,null,"7f325cda",null)),P=j.exports,F=n("f5db"),R=n("19d3"),L=n("e395"),E=n("ae03"),N=n("97e5"),B=n("5505"),Q=n("e490");function G(t){return E["a"].post(N["x"],t)}function z(t){var e,n,i,a=null!==(e=null===t||void 0===t||null===(n=t.msg_send_req)||void 0===n||null===(n=n.msg_send_msg)||void 0===n||null===(n=n.msg_msg_head)||void 0===n||null===(n=n.msg_third_app_info)||void 0===n||null===(n=n.bytes_third_app_buf)||void 0===n||null===(n=n.bytes_crm_buf)||void 0===n||null===(n=n.msg_attributes_info)||void 0===n?void 0:n.str_qidian_msg_unique_id)&&void 0!==e?e:null;(null===(i=this.globalData)||void 0===i||null===(i=i.reception)||void 0===i?void 0:i.isRobot)&&a&&G({seqId:a,kfuin:this.wpaDetail.kfuin,robotId:this.globalData.reception.robotId||this.globalData.reception.largeModelRobotId,direction:1,cid:this.to.user_id,timestamp:Date.now()})}function U(t){var e;(null===(e=this.globalData)||void 0===e||null===(e=e.reception)||void 0===e?void 0:e.isRobot)&&t.str_qidian_msg_unique_id&&G({seqId:t.str_qidian_msg_unique_id,kfuin:this.wpaDetail.kfuin,robotId:this.globalData.reception.robotId||this.globalData.reception.largeModelRobotId,direction:2,cid:this.to.user_id,timestamp:Date.now()})}function H(t){var e;if(Q["a"])return!1;var n={aid:null===A["a"]||void 0===A["a"]||null===(e=A["a"].wpaDetail)||void 0===e?void 0:e.visitorid},i=t.map((function(t){var e="";try{e=JSON.stringify(Object.assign(n,t.extend_info))}catch(a){console.log("extend_info_catch",a)}var i=Object(B["a"])();return{qidian_msg_unique_id:t.check_id||i,kfuin:Number(t.kfuin),kfext:Number(t.kfext)||0,from_term:5,cur_mod_name:"webim_v2",next_mod_name:"c-imsdk",local_ip:"",event_time_ms:Date.now(),event_name:t.event_name||"msg_send_success",evnet_ret_code:t.evnet_ret_code||0,event_ret_msg:"",event_cost_ms:t.event_cost_ms||0,event_log_info:"",extend_info:e,gseq:t.check_id||i,channel_type:4,report_source:"webim",msg_time_ms:Math.floor(t.msg_time_ms)||Date.now(),msg_dir:t.msg_dir||"c2b"}}));return console.log("msgTracingEvent",i),E["a"].post(N["t"],{size:i.length,data:i})}var W={before:z,after:U},J=n("d938"),Y=n("27a3"),V=n("126a"),X=n("2ccf"),K=n("bc3a"),Z=n.n(K),$=n("5a0c"),tt=n.n($),et=n("6dc2"),nt=l["b"].create();console.log("[imsdk][info]",nt._sid,nt._buildTime);var it={MSG_TIP:"MSG_TIP",MSG_DATETIME:"MSG_DATETIME",MSG_TYPING:"MSG_TYPING",MSG_LEAVE_FORM:"leave_form_msg",MSG_INVITE_QQ:"invite_qq_msg",MSG_ADD_QQ_CARD:"add_qq_card_msg",MSG_ROBOT_GOODS_NAV:"robot_goods_nav_msg"},at={Sync:0,Roaming:1},ot={Success:0,Sending:1,Resend:2,Invalid:3},st={TimeOut:0,UploadFailed:1},ct=0,rt=Date.now(),lt={};e["c"]={provide:function(){return{MsgType:it,MsgStatus:ot,IMSDKType:l["b"].TYPES,OBJTYPES:l["b"].OBJTYPES,messageList:this.messageList,globalData:this.globalData,to:this.to,inIframe:this.inIframe,wpaDetail:this.innerWpaDetail,switchMsgDisplay:this.switchMsgDisplay,transferRobotMsg:this.transferRobotMsg.bind(this),voiceRecodeStatus:this.voiceRecodeStatus.bind(this)}},props:{companyInfo:{type:Object,default:function(){return{}}},inIframe:{default:!1},aioBgImg:{default:""},adaptThemeColor:{default:!1},isShowWatermark:{default:!1},toolButtons:{default:function(){return[]}},serviceInfoShowType:{default:1},wpaDetail:{default:function(){return{kfuin:0}}},authConf:{default:function(){return{}}},inputContent:{default:""},guidanceInfo:{default:null},showInfo:{},styleConfig:{default:function(){return{}}},readStatusSwitch:{default:!1},customExtuinInfo:{type:Object,default:function(){return{}}},askRobotOneByOneSwitch:{default:!1},iframeIMStatus:{type:String,default:"show"}},data:function(){return{sourceMsg:null,sendContent:"",globalData:{playingVoice:null,reception:{},robotDelay:{switch:!1,time:0,current:null,promptOpen:!0},guidanceInfo:this.guidanceInfo,serverClientTimeDiff:0},isIMReady:!1,isLoading:!1,isMoreMessage:!1,isMoreMessageNew:!1,isMoreMessageOld:!1,roamingMsgSeq:-1,roamingOldMsgTime:-1,toSyncMsgMap:{},toNotifyMsgMap:{},seqMessageMap:new Map,messageList:[],notReadNumber:0,to:{id:0,user_id:0},authTempUserInfo:"",receptionInfo:{},employeeInfoMap:{},innerWpaDetail:{},lastFetchRoamingTime:0,isKickAlertShowing:!1,loginConfig:{},revoseMsgSeqList:[],isShowConsultForm:!1,pageVisibile:!0,isReceivingLarmodelMsg:!1,showWaitPool:!1,isJustSending:!1,focused:!0,fileCollectList:{},isShowSearchNetwork:!1}},computed:{commonPayload:function(){return{user_id:this.to.user_id}},currExtuin:function(){var t=this.globalData.reception.extuin;return t||0},listBgStyle:function(){if(!this.$platform.pc||this.inIframe){var t={};if(console.log("watermark:",this.authTempUserInfo),this.isShowWatermark){var e;try{e=JSON.parse(u["a"].decode(this.authTempUserInfo))}catch(i){}if(e&&e.nickname){var n="data:image/svg+xml,%3Csvg width='135' height='135' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='50%25' y='50%25' font-size='14' fill-opacity='0.2' text-anchor='middle' dominant-baseline='middle' transform='rotate(-45, 100 100)'%3E".concat(e.nickname,"%3C/text%3E%3C/svg%3E");t.background='url("'.concat(n,'")')}}else this.aioBgImg&&(t.backgroundImage="url(".concat(this.aioBgImg,")"));return t}},disableToolbar:function(){return console.log("disableToolbar",!!this.askRobotOneByOneSwitch,this.globalData.reception.isLargeModelRobot,this.isReceivingLarmodelMsg,this.isJustSending),!!this.askRobotOneByOneSwitch&&this.globalData.reception.isLargeModelRobot&&this.globalData.reception.largeModelRobotId&&(this.isReceivingLarmodelMsg||this.isJustSending)},pageFocused:function(){return this.pageVisibile&&this.focused},isMinify:function(){return this.inIframe&&"close"===this.iframeIMStatus}},watch:{toSyncMsgMap:{deep:!0,handler:function(t){var e=t[this.to.id];if(e||console.warn("☹️☹️☹️☹️☹️☹️===>msg_kfuin_error",Object.keys(t),this.to.id),e&&e.length>0){var n,i=Object(c["a"])(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.to===this.to.id?(Object.assign(a,{c2bSyncFromOtherClient:!0}),this.addMessageList(a,at.Sync,!0)):a.from===this.to.id?this.addMessageList(a,at.Sync,!1):console.warn("☹️☹️☹️☹️☹️☹️===>msg_kfuin_error",Object.keys(t),this.to.id),console.log("getScrollBottom",Object(d["a"])()),Object(d["a"])()<d["b"]&&this.scrollToBottom(!0,50)}}catch(r){i.e(r)}finally{i.f()}var o=Object(s["a"])({},t);o[this.to.id]=[],this.toSyncMsgMap=o}}},toNotifyMsgMap:{deep:!0,handler:function(t){var e=t[this.to.id];if(e&&e.length>0){var n,i=Object(c["a"])(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.showTipMessage({message:a.content})}}catch(r){i.e(r)}finally{i.f()}var o=Object(s["a"])({},t);o[this.to.id]=[],this.toNotifyMsgMap=o}}},inputContent:{immediate:!0,handler:function(t){this.sendContent=t}},sendContent:function(t){this.$emit("update:inputContent",t)},messageList:{deep:!0,handler:function(t){this.$emit("update:messageList",t),this.removeIncomingTip()}},"globalData.reception":{deep:!0,handler:function(t,e){this.$emit("update:reception",t);var n=e&&e.robotId,i=t.robotId,a=t.isRobot;null!==t&&void 0!==t&&t.inWaitPool?this.showWaitPool=!0:null!==t&&void 0!==t&&t.extuin?this.showWaitPool=!1:this.hasGetReception?null!==e&&void 0!==e&&e.inWaitPool&&t&&0===Object.keys(t).length&&this.showWaitPool&&(this.showWaitPool=!1):this.showWaitPool=!0,this.hasGetReception=!0,a?i&&i!==n&&this.fetchDelayConfig(i):this.globalData.robotDelay={switch:!1,time:0,current:null,promptOpen:!0},e.isLargeModelRobot&&e.largeModelRobotId&&!t.isLargeModelRobot&&(this.isJustSending=!1,this.isReceivingLarmodelMsg=!1,A["a"].removeLoadingMsgFun&&A["a"].removeLoadingMsgFun(),this.isJustSendingTimeout&&(clearTimeout(this.isJustSendingTimeout),this.isJustSendingTimeout=null)),A["a"].file_collection=null,this.fileCollectList={},t.isLargeModelRobot&&t.largeModelRobotId&&this.fetchSearchNetworkConfig(t.largeModelRobotId)}},notReadNumber:function(t){this.$emit("update:notReadNumber",t)},wpaDetail:{immediate:!0,handler:function(t){Object.assign(this.innerWpaDetail,t),this.innerWpaDetail=t}},pageVisibile:{immediate:!0,handler:function(t){var e=this;console.log("[pageVisibile]",t),t&&setTimeout((function(){var t;e.isIMReady&&((null===(t=e.$refs.chatTools)||void 0===t?void 0:t.focus)&&e.$refs.chatTools.focus(),e.setMsgAllRead(),nt.setMessageRead({to:e.to.id}))}),1500)}},disableToolbar:function(t){A["a"].disableToolbar=t,this.$emit("updateDisableToolbar",t)},pageFocused:{immediate:!0,handler:function(t){if(t){if(this.isKickAlertShowing||!1===this.getSocketConnected())return;this.isIMReady&&this.pageVisibileReport()}else this.pageVisibileReport()}},iframeIMStatus:{immediate:!0,handler:function(t){var e=this;this.inIframe&&"show"===t&&setTimeout((function(){e.isIMReady&&e.setMsgAllRead()}),1500)}}},created:function(){var t=this;A["a"].scrollToBottom=this.scrollToBottom.bind(this),A["a"].sendTextMessage=this.sendTextMessage.bind(this),A["a"].sendQDMenuMessage=this.sendQDMenuMessage.bind(this),A["a"].sendIframeRobotMessage=this.sendIframeRobotMessage.bind(this),A["a"].sendOnlyInvisibleMessage=this.sendOnlyInvisibleMessage.bind(this),A["a"].createLeaveMessage=this.createLeaveMessage.bind(this),A["a"].showTipMessage=this.showTipMessage.bind(this),A["a"].$PictureViewer=this.$PictureViewer,A["a"].isSendingWaitMarkdownMsg=this.isSendingWaitMarkdownMsg.bind(this),window.qdIframeOpenPictureViewer=this.$PictureViewer,A["a"].sendQDXMLMessage=this.sendQDXMLMessage.bind(this),A["a"].addMessageList=this.addMessageList.bind(this),A["a"].checkIfNeedScrollToBottom=this.checkIfNeedScrollToBottom.bind(this),A["a"].sendLangTip=this.sendLangTip.bind(this),A["a"].addSendContent=this.addSendContent.bind(this),A["a"].setLangRequest=this.setLangRequest.bind(this),A["a"].switchConsultForm=this.switchConsultForm.bind(this),A["a"].splitGrayMsgContent=this.splitGrayMsgContent.bind(this),A["a"].exitQueue=this.exitQueue.bind(this),A["a"].isLoadingMarkdownMsg=this.isLoadingMarkdownMsg.bind(this),A["a"].activeBussiness=this.activeBussiness.bind(this),A["a"].to=this.to,this.storageMessageForTest(),document.addEventListener("visibilitychange",(function(){t.pageVisibile="visible"===document.visibilityState})),window.addEventListener("blur",(function(){window.document.activeElement&&"IFRAME"!==window.document.activeElement.tagName&&(t.focused=!1)})),window.addEventListener("focus",(function(){t.focused=!0}))},mounted:function(){this.customReport({method:"AIO_MOUNTED",message:this.wpaDetail,referrer:document.referrer,pageType:"AIO_MOUNTED-page---".concat(this.$platform.pc?"pc":"h5","-").concat(this.inIframe?"mini":"big"),buildTime:window.__buildTime},"webim"),this.checkReportReadyAndReport(),this.setQdMonitor(),this.checkIfNeedReconnect()},beforeDestroy:function(){this.removeListener()},methods:{checkReportReadyAndReport:function(){var t=this;window.QdMonitor?X["a"].report(this.customReport):setTimeout((function(){X["a"].report(t.customReport)}),500)},addSendContent:function(t){this.sendContent=this.sendContent+t},startIM:function(t){var e=this;return Object(o["a"])(Object(a["a"])().m((function n(){var i;return Object(a["a"])().w((function(n){while(1)switch(n.n){case 0:i=JSON.parse(JSON.stringify(e.wpaDetail)),delete i.token,e.customReport({method:"AIO_STARTIM",message:i,pageType:"AIO_MOUNTED-page---".concat(e.$platform.pc?"pc":"h5","-").concat(e.inIframe?"mini":"")},"webim"),e.authConf.authType?e.isMoreMessageOld=!0:e.isMoreMessageOld=!1,e.createIncomingTip(),e.login(t),e.removeListener(),nt.on(l["b"].EVENT.MESSAGE_RECEIVED,e.onNewMessage),nt.on(l["b"].EVENT.NOTIFY_PUSH,e.onPushNotify),nt.on(l["b"].EVENT.SDK_READY,e.onImsdkReady),nt.on(l["b"].EVENT.SESSION_START,e.onSessionStart),nt.on(l["b"].EVENT.KICKED_OUT,e.onKickedOut),nt.on(l["b"].EVENT.LOCAL_NOTIFY,e.onLocalNotify),nt.on(l["b"].EVENT.TYPING,e.onTyping),nt.on(l["b"].EVENT.RECEPTION_CHANGE,e.onReceptionChange),nt.on(l["b"].EVENT.INVITE_QQ,e.onInviteQQ),nt.on(l["b"].EVENT.ADD_QQ_CARD,e.onReceiveQQCard),nt.on(l["b"].EVENT.NOTIFY_RTC,e.onNotifyRtc),nt.on(l["b"].EVENT.ERROR,e.onError),nt.on(l["b"].EVENT.READ_RECEIPT,e.onMsgReadReceipt);case 1:return n.a(2)}}),n)})))()},login:function(t){var e=Object(s["a"])({},this.wpaDetail);if(this.to.id=Number(e.kfuin),t.aid)try{this.to.user_id=t.aid,this.authTempUserInfo=t.userInfo,l["c"].loginQDIM({aid:t.aid,d2:t.d2,kfuin:Number(e.kfuin),appid:t.appid,wpaId:e.wpaId},{imsdk:nt,Instant:window.Instant,channelType:4,cosBucket:0})}catch(n){this.showTipMessage({message:n.message})}else this.showTipMessage({message:t.message||"".concat(this.$t("登录失败，错误码为")+t.code)})},setQdMonitor:function(){var t=this;window.Instant.setLogReport((function(t){}));var e=function(e){t.customReport(e,"imsdk上报")};nt.setLogReport(e),l["c"].setLogReport(e)},customReport:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"webim";console.log("[customReport]",t);var n=new Date,i="";try{i="".concat(n.toLocaleString(),".").concat(n.getMilliseconds())}catch(a){i="".concat(n.getTime())}window.QdMonitor&&window.QdMonitor.log({name:e,time:i,ext1:t,ext2:{aid:this.to.user_id,reception:this.globalData.reception}})},getSDKIntance:function(){return{imsdk:nt,SDKUtils:l["c"],IMSDK:l["b"],MsgType:it}},onCallFunc:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[0],o=e.slice(1);"function"===typeof this[a]?(this[a].apply(this,Object(i["a"])(o)),this.customReport({method:"[onCallFunc][success]",message:{args:e[0]}},"webim")):(console.warn("[onCallFunc-miss]",e),this.customReport({method:"[onCallFunc][fail]",message:{args:e[0]}},"webim"))},imageUploadWithCopy:function(t){var e;null===(e=this.$refs)||void 0===e||null===(e=e.imageUploader)||void 0===e||e.onHandleFiles(t)},imageUpload:function(){var t;null===(t=this.$refs)||void 0===t||null===(t=t.imageUploader)||void 0===t||t.click()},fileUpload:function(){var t;null===(t=this.$refs)||void 0===t||null===(t=t.fileUploader)||void 0===t||t.click()},robotTransfer:function(){var t={kfuin:this.wpaDetail.kfuin,robotid:this.globalData.reception.robotId||this.globalData.reception.largeModelRobotId,channel:3,visitid:this.to.user_id,transferType:1,transferReason:5,action:5},e=1000003,n="mqqwpa://im/qdmenu?svrId=".concat(e,"&ext=").concat(JSON.stringify(t),"&robotId=").concat(t.robotid);Object(F["b"])(n)},closeSession:function(){var t=this;return new Promise((function(e){t.$Confirm({title:t.$t("chat_close_session_confirm")}).then((function(){var t={};nt.closeSession(t),e()})).catch((function(){}))}))},exitQueue:function(){var t=this;return new Promise((function(e,n){t.$Confirm({title:t.$t("exit_queue_confirm")}).then((function(){var i={kfuin:t.wpaDetail.kfuin,reception:t.globalData.reception,cid:t.to.user_id,type:2};l["c"].exitQueue(i).then((function(i){i.code?(t.showTipMessage({message:t.$t("exit_queue_fail")}),n()):(t.showTipMessage({message:t.$t("exit_queue_success")}),t.showWaitPool=!1,t.globalData.reception.inWaitPool&&(nt.updateReception({}),t.$parent.hideBubble()),e())})).catch((function(){t.showTipMessage({message:t.$t("exit_queue_fail")}),n()}))})).catch((function(){}))}))},activeFeedback:function(){var t=this,e={cid:this.to.user_id};nt.activeFeedback(e).then((function(){})).catch((function(e){t.showTipMessage({message:e.message})}))},previewMsgCommongData:function(){var t=Date.now();return{status:ot.Sending,time:t,to:this.to.id}},removeListener:function(){nt.off(l["b"].EVENT.MESSAGE_RECEIVED,this.onNewMessage),nt.off(l["b"].EVENT.NOTIFY_PUSH,this.onPushNotify),nt.off(l["b"].EVENT.SDK_READY,this.onImsdkReady),nt.off(l["b"].EVENT.SESSION_START,this.onSessionStart),nt.off(l["b"].EVENT.KICKED_OUT,this.onKickedOut),nt.off(l["b"].EVENT.LOCAL_NOTIFY,this.onLocalNotify),nt.off(l["b"].EVENT.TYPING,this.onTyping),nt.off(l["b"].EVENT.RECEPTION_CHANGE,this.onReceptionChange),nt.off(l["b"].EVENT.INVITE_QQ,this.onInviteQQ),nt.off(l["b"].EVENT.ADD_QQ_CARD,this.onReceiveQQCard),nt.off(l["b"].EVENT.NOTIFY_RTC,this.onNotifyRtc),nt.off(l["b"].EVENT.ERROR,this.onError),nt.off(l["b"].EVENT.READ_RECEIPT,this.onMsgReadReceipt)},onNewMessage:function(t){var e=this;console.log("[onNewMessage]",t);for(var n=0,i=Object.keys(t);n<i.length;n++){var a=i[n],o=t[a];this.toSyncMsgMap[a]&&(o=this.toSyncMsgMap[a].concat(o)),this.$set(this.toSyncMsgMap,a,o);var s=o.filter((function(t){var e,n=null===t||void 0===t||null===(e=t.msgHead)||void 0===e||null===(e=e.msg_third_app_info)||void 0===e||null===(e=e.bytes_third_app_buf)||void 0===e||null===(e=e.bytes_crm_buf)||void 0===e?void 0:e.str_current_qidian_msg_unique_id;return n}));s.length>0&&H(s.map((function(t){var n,i;return{check_id:null===t||void 0===t||null===(n=t.msgHead)||void 0===n||null===(n=n.msg_third_app_info)||void 0===n||null===(n=n.bytes_third_app_buf)||void 0===n||null===(n=n.bytes_crm_buf)||void 0===n?void 0:n.str_current_qidian_msg_unique_id,kfuin:e.wpaDetail.kfuin,kfext:null===(i=e.globalData)||void 0===i||null===(i=i.reception)||void 0===i?void 0:i.extuin,event_name:"msg_receive_success",event_cost_ms:0,msg_time_ms:t.time,msg_dir:"b2c"}})))}},onPushNotify:function(t){console.log("[onPushNotify]",t);for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e],a=t[i];this.toNotifyMsgMap[i]&&(a=this.toNotifyMsgMap[i].concat(a)),this.$set(this.toNotifyMsgMap,i,a)}},onLocalNotify:function(t){this.showTipMessage({message:t.content||this.$t(t.type)})},onTyping:function(t){var e,n=this,i=t||{},a=i.typing;if(console.log("onTyping",a),this.currExtuin&&this.cShowTypingSwitch){var o=6e4,s=function(){n.typingTimer=setTimeout((function(){n.isLastIsTypingMsg()&&n.messageList.pop()}),o)};if(clearTimeout(this.untypingTimer),a){if(this.isLastIsTypingMsg())return this.typingTimer&&clearTimeout(this.typingTimer),void s();var c=r["a"].generateUUID(),l={seq:c,type:it.MSG_TYPING,time:Date.now(),crm:{msg_webim_extra_data:{uint64_extuin:null===(e=this.globalData)||void 0===e||null===(e=e.reception)||void 0===e?void 0:e.extuin}}};this.addMessageList(l,at.Sync,!1),s(),Object(d["a"])()<d["b"]&&this.scrollToBottom()}else this.untypingTimer=setTimeout((function(){n.isLastIsTypingMsg()&&(n.messageList.pop(),n.typingTimer&&clearTimeout(n.typingTimer))}),1e3)}},getEmployeeInfo:function(t){var e=this;return Object(o["a"])(Object(a["a"])().m((function n(){var i,o,s,c;return Object(a["a"])().w((function(n){while(1)switch(n.n){case 0:if(!e.employeeInfoMap[t]){n.n=1;break}return n.a(2,e.employeeInfoMap[t]);case 1:return i=e.wpaDetail,o=i.kfuin,s=i.wpaId,c={kfext:t,kfuin:o,fields:["employeeInfo"],wpaId:s},n.n=2,Object(L["a"])(c,(function(n){var i=n.employeeInfo,a=void 0===i?{}:i,o=a.code,s=a.data;0===o&&(e.employeeInfoMap[t]=s)}));case 2:return n.a(2,e.employeeInfoMap[t])}}),n)})))()},onInviteQQ:function(t){var e=this;return Object(o["a"])(Object(a["a"])().m((function i(){var o;return Object(a["a"])().w((function(i){while(1)switch(i.n){case 0:if(1!==e.guidanceInfo.guidanceQQType){i.n=1;break}e.createQQInviteCard({avatar:e.companyInfo.companyLogo||n("7ea6"),name:e.companyInfo.companyName||"",qq:t.data.uint64_kfuin||""},{dir:"b2c"}),i.n=3;break;case 1:return i.n=2,e.getEmployeeInfo(t.data.uint64_ext_uin);case 2:o=i.v,e.createQQInviteCard({avatar:t.data.string_qq_pic_url||n("7ea6"),name:t.data.string_show_name||"",corpName:o&&o.company||"",position:o&&o.position||"",qq:t.data.uint64_ext_uin||""},{dir:"b2c"});case 3:return i.a(2)}}),i)})))()},onReceiveQQCard:function(t){console.log("[sc",t),this.createAddQQFriendCard({avatar:t.data.string_pic_url||n("7ea6"),name:t.data.string_show_name||"",qq:t.data.uint64_add_friend_uin||"",showQQ:t.data.string_aad_friend_text||t.data.uint64_add_friend_uin||""},{dir:"b2c"})},onReceptionChange:function(t){console.log("[onReceptionChange]",t),this.customReport({method:"[onReceptionChange]",message:{reception:t}}),this.globalData.reception=t},fetchDelayConfig:function(t){var e=this;this.$ajax.post("".concat(N["A"],"?corpUin=").concat(this.wpaDetail.kfuin),{corpUin:this.wpaDetail.kfuin,robotId:t}).then((function(t){var n=t.data,i=n.code,a=n.data,o=void 0===a?{}:a;if(0===+i){var s=o.maximum,c=o.promptOpen;e.globalData.robotDelay.time=s,e.globalData.robotDelay.switch=o.switch,e.globalData.robotDelay.promptOpen=c}})).catch((function(t){console.log("fetchDelayConfig_catch",t)}))},isLastIsTypingMsg:function(){var t=this.messageList[this.messageList.length-1];return t&&t.type===it.MSG_TYPING},onImsdkReady:function(){this.initQidianDA();var t={customParams:h.a.stringify(Object(s["a"])({vId:Y["a"].getItem("tencentSig")},this.wpaDetail))};this.authConf.authType&&(t.userInfo=this.authTempUserInfo),console.log("customParams",t),nt.clientIncoming(t),this.$emit("ready"),this.postDisplayedCount()},postDisplayedCount:function(){var t=this.wpaDetail,e=t.wpaId,n=t.kfuin,i=this.loginConfig,a=i.aid,o=i.appid,s=i.d2;window.parent.postMessage({act:"ON_IMSDK_READY",data:{aid:a,d2:s,appid:o,kfuin:n,wpaId:e}},"*")},onSessionStart:function(){var t,e,n,i=this;(Object(J["a"])(this.wpaDetail.kfuin,"NOT_LOAD_HISTORY_MSG")||this.onHistoryMessageClick(!0,!0),this.isIMReady=!0,(null===(t=this.$refs.chatTools)||void 0===t?void 0:t.focus)&&this.$refs.chatTools.focus(),setTimeout((function(){nt.setMessageRead({to:i.to.id}),i.isKickAlertShowing||!0!==i.getSocketConnected()||i.pageVisibileReport()}),1e3),this.$emit("sessionStart"),this.updataIncomingTip(this.$t("chat_incoming_success")),setTimeout((function(){i.removeIncomingTip(!0)}),500),A["a"].translate)&&(A["a"].translate.isTranslate=null===this||void 0===this||null===(e=this.showInfo)||void 0===e?void 0:e.isTranslate);A["a"].translate&&A["a"].translate.translateSwitch&&(this.sendLangTip(),this.setLangRequest(null===this||void 0===this||null===(n=this.$i18n)||void 0===n?void 0:n.locale))},onKickedOut:function(){var t=this;this.isKickAlertShowing=!0,this.$emit("kickedOut"),this.showWaitPool=!1,this.$Alert({text:this.$t("您打开了多个会话页面，可激活当前页面继续咨询"),alertText:this.$t("继续咨询")}).then((function(){t.showWaitPool=!0,nt.reConnect(),t.pageVisibileReport(),t.isKickAlertShowing=!1})).catch((function(){}))},closeWaitPool:function(){this.showWaitPool=!1,this.globalData.reception.inWaitPool&&(nt.updateReception({}),this.$parent.hideBubble())},onNotifyRtc:function(t){console.log("[onNotifyRtc]",t),this.$emit("notifyRtc",t)},onError:function(t){console.log("[onError]",t);var e=t.code,n={timeout:[-324012],d2Error:[-10002,-10007,-10008,-1000002],d2Expire:[-10001,-1000001]};Object.assign(t,{type:""}),Object.keys(n).forEach((function(i){n[i].indexOf(e)>-1&&Object.assign(t,{type:i})})),"timeout"===t.type&&this.showIncomingTimeout(),this.$emit("error",t)},onMsgReadReceipt:function(){this.getMessageReadReceiptResult()},addMessageList:function(t,e,n){var i=this;return Object(o["a"])(Object(a["a"])().m((function o(){var s,c,u,m,f,h,g,v,b,_,w,y,x,C;return Object(a["a"])().w((function(a){while(1)switch(a.n){case 0:if(!i.isRobotReversoMsg(t)){a.n=2;break}if(e===at.Sync){a.n=1;break}return a.a(2);case 1:i.revoseMsgSeqList.push(t.seq);case 2:if(e===at.Sync&&i.isConsultFromGrayMsg(t)&&(m=i.getFormUrl(t),m&&Object(F["b"])(m)),t.type!==l["b"].TYPES.MSG_REVOKE){a.n=3;break}return f=t.seq,i.seqMessageMap.has(f)&&(h=i.seqMessageMap.get(f),h.type=l["b"].TYPES.MSG_REVOKE),a.a(2);case 3:if(!i.seqMessageMap.has(t.seq)||t.isDynamicUpdate||null!==(s=i.seqMessageMap.get(t.seq))&&void 0!==s&&s.isDynamicUpdate){a.n=4;break}return a.a(2);case 4:if(!i.isRobotDrawerMsg(t)||e!==at.Sync){a.n=5;break}return i.showRobotDrawer(t),a.a(2);case 5:if(t.type!==l["b"].TYPES.MSG_ROBOT_FORM){a.n=6;break}return i.showRobotForm(t),a.a(2);case 6:i.isLastIsTypingMsg()&&(i.messageList.pop(),i.typingTimer&&clearTimeout(i.typingTimer)),g={seq:t.seq,type:t.type,time:t.time,status:"undefined"!==typeof t.status?t.status:ot.Success,mine:n,crm:t.crm,fromHisotry:e===at.Roaming,msgHead:t.msgHead,msgBody:t.msgBody,compressed:(null===t||void 0===t?void 0:t.compressed)||(null===t||void 0===t||null===(c=t.content)||void 0===c?void 0:c.compressed)||0,isOldRoamingMsg:t.isOldRoamingMsg,c2bSyncFromOtherClient:t.c2bSyncFromOtherClient||!1,isDynamicUpdate:t.isDynamicUpdate,onlyInvisibleMsg:!!t.onlyInvisibleMsg},e===at.Sync&&Object(d["a"])()>d["b"]&&![it.MSG_DATETIME,it.MSG_TYPING].find((function(e){return e===t.type}))&&!t.isDynamicUpdate&&(i.notReadNumber+=1),g=i.checkAndSetMsgReadReceipt(g,e,n),!i.pageVisibile||e!==at.Sync||n||i.isMinify||setTimeout((function(){i.setMsgAllRead(g)}),0),C=t.type,a.n=C===l["b"].TYPES.MSG_TEXT?7:C===l["b"].TYPES.MSG_FACE?8:C===l["b"].TYPES.MSG_MEDIA?9:C===l["b"].TYPES.MSG_IMAGE?10:C===l["b"].TYPES.MSG_LONG_MSG?11:C===l["b"].TYPES.MSG_IMAGE_TEXT?12:C===l["b"].TYPES.MSG_QDXML?13:C===l["b"].TYPES.MSG_ROBOT_NAV?14:C===l["b"].TYPES.MSG_FILE?15:C===l["b"].TYPES.MSG_VOICE?16:C===l["b"].TYPES.MSG_MIX?17:C===l["b"].TYPES.MSG_GRAY?18:C===l["b"].TYPES.MSG_FEED_BACK?19:C===l["b"].TYPES.MSG_THIRD_MSG?20:C===it.MSG_LEAVE_FORM||C===l["b"].TYPES.MSG_ROBOT?21:C===it.MSG_LEAVE_FORM?22:C===it.MSG_INVITE_QQ?23:24;break;case 7:return Object.assign(g,{content:t.content}),a.a(3,25);case 8:return Object.assign(g,{content:[{index:t.index,content:t.content,type:l["b"].TYPES.MSG_FACE}],type:l["b"].TYPES.MSG_MIX}),a.a(3,25);case 9:return Object.assign(g,{mediaType:t.media_type,mediaUrl:t.media_url}),a.a(3,25);case 10:return Object.assign(g,{path:t.content,uuid:t.uuid,imageName:t.name,imageSize:t.size,imageWidth:t.width,imageHeight:t.height}),a.a(3,25);case 11:return Object.assign(g,{path:t.content,uuid:t.uuid,previewContent:t.previewContent}),a.a(3,25);case 12:return Object.assign(g,{path:t.path,uuid:t.uuid,content:t.content}),a.a(3,25);case 13:return Object.assign(g,{path:t.content.path,brief:t.content.brief,content:t.content.content}),a.a(3,25);case 14:return Object.assign(g,{path:t.content.path,content:t.content.content}),a.a(3,25);case 15:return Object.assign(g,{path:t.content,uuid:t.uuid,fileName:t.name,fileSize:t.size,fileFormat:t.format,uniqueFileId:t.uniqueFileId}),a.a(3,25);case 16:return Object.assign(g,{path:t.content,uuid:t.uuid,length:t.length,fileSize:t.size,fileName:t.name}),a.a(3,25);case 17:return Object.assign(g,{content:t.content}),a.a(3,25);case 18:return Object.assign(g,{content:t.content}),a.a(3,25);case 19:return Object.assign(g,{content:t.content}),a.a(3,25);case 20:return Object.assign(g,{content:t.content,hideBInfo:[60].indexOf(t.content.crmFlag)>-1}),a.a(3,25);case 21:return Object.assign(g,{content:t.content,path:t.path,isNeedHide:e===at.Sync&&i.isBubbleDelayShow()}),g.content&&18===g.content.type&&Object.assign(g,{type:it.MSG_ROBOT_GOODS_NAV,content:t.content,isNeedHide:!1,hideBInfo:!0}),a.a(3,25);case 22:return Object.assign(g,{hideBInfo:!0}),a.a(3,25);case 23:return Object.assign(g,{hideBInfo:!0}),a.a(3,25);case 24:Object.assign(g,{content:t.content});case 25:if(g.type!==l["b"].TYPES.MSG_ROBOT||!g.path){a.n=28;break}if(!g.isDynamicUpdate){a.n=27;break}return a.n=26,i.fetchCOSData({path:g.path});case 26:g.content=a.v,a.n=28;break;case 27:g.content={content:i.$t("common_typing"),type:5},i.fetchCOSData({path:g.path}).then((function(t){g.content=t,g.fromHisotry&&A["a"].isMsgFirstGet&&i.$nextTick((function(){i.scrollToBottom()}))}));case 28:1!==t.revoke&&1!==(null===t||void 0===t||null===(u=t.msgHead)||void 0===u?void 0:u.uint32_status)||(g.type=l["b"].TYPES.MSG_REVOKE),n||(i.$set(g,"extuinInfo",Object(p["b"])()),i.getExtuinInfo(g,(function(t){i.$set(g,"extuinInfoReal",t),i.serviceInfoShowType-0===2&&i.$set(g,"extuinInfo",t)})),i.serviceInfoShowType-0===3&&i.$set(g,"extuinInfo",i.customExtuinInfo),t.type!==l["b"].TYPES.MSG_TEXT&&t.type!==l["b"].TYPES.MSG_ROBOT||!i.isJustSending||i.$nextTick((function(){i.removeJustSending()}))),t.seq&&(null!==(v=i.seqMessageMap.get(t.seq))&&void 0!==v&&v.fromHisotry&&(g.fromHisotry=!0),i.seqMessageMap.set(t.seq,g),b=12e4,e===at.Sync?(t.time-ct>b&&t.type!==it.MSG_TYPING&&!t.isDynamicUpdate&&(i.messageList.length>0&&(i.messageList[i.messageList.length-1].isLatestMsgForMarkdown=!1),i.messageList.push({seq:r["a"].generateUUID(),type:it.MSG_DATETIME,time:t.time}),ct=t.time),g.isDynamicUpdate?(_=i.messageList.findIndex((function(t){return t.seq===g.seq})),_>-1&&(_===i.messageList.length-1?g.isLatestMsgForMarkdown=!0:g.isLatestMsgForMarkdown=!1,(null===(w=i.messageList[_])||void 0===w||null===(w=w.content)||void 0===w||!w.ai_record_no||(null===(y=i.messageList[_])||void 0===y||null===(y=y.content)||void 0===y?void 0:y.ai_record_no)<(null===(x=g)||void 0===x||null===(x=x.content)||void 0===x?void 0:x.ai_record_no))&&i.$set(i.messageList,_,g))):(i.messageList.length>0&&(i.messageList[i.messageList.length-1].isLatestMsgForMarkdown=!1),g.isLatestMsgForMarkdown=!0,i.messageList.push(g)),n?i.$emit("sendC2BMessage",g):i.$emit("receiveNewMessage",g)):e===at.Roaming&&(g.isLatestMsgForMarkdown=!1,i.messageList.unshift(g),console.log("MinRoamingMsgTime",tt()(rt).format("YYYY-MM-DD HH:mm:ss"),tt()(t.time).format("YYYY-MM-DD HH:mm:ss")),(rt-t.time>b||lt.seq&&t.seq===lt.seq)&&(i.messageList.unshift({seq:r["a"].generateUUID(),type:it.MSG_DATETIME,time:t.time}),rt=t.time,0===ct&&lt.seq&&t.seq===lt.seq&&(ct=t.time))));case 29:return a.a(2)}}),o)})))()},isRobotReversoMsg:function(t){return t.type===l["b"].TYPES.MSG_ROBOT&&t.content&&7===t.content.type&&t.content.content&&14===t.content.content.type},checkAndSetMsgReadReceipt:function(t,e,n){var i=[l["b"].TYPES.MSG_RTC],a=Object(s["a"])({},t);return i.indexOf(a.type)>-1||(n?(a.readStatusSwitch=this.readStatusSwitch,e===at.Sync&&(this.globalData.reception.extuin||this.globalData.reception.inWaitPool)?(a.hasReadReceiptTag=!0,a.hasBeenRead=!1):(e!==at.Sync||a.c2bSyncFromOtherClient)&&Object.assign(a,this.getMessageReadReceiptFromCrm(a.crm))):Object.assign(a,this.getMessageReadReceiptFromCrm(a.crm))),a},getMessageReadReceiptFromCrm:function(t){var e=(null===t||void 0===t?void 0:t.msg_control_info)||{},n=e.int32_read_status;return{hasReadReceiptTag:!!n}},setMessageReadReceiptToCrm:function(t,e){return t.hasReadReceiptTag&&(e=nt.setMessageCrmData(e,{msg_control_info:{int32_read_status:1}})),e},setMsgAllRead:function(t){var e,n=this;if(console.log("[setMsgAllRead]","check"),t||this.messageList){var i;if(t)i=t;else{var a=this.messageList.filter((function(t){return!t.mine&&t.type!==it.MSG_TYPING}));i=a[a.length-1]}if(i&&i.type!==it.MSG_TYPING){var o=(null===(e=i)||void 0===e?void 0:e.content)||{},s=o.ai_reply,c=o.is_final;if(!s||c){console.log("[setMsgAllRead]",i.seq);var r={clientTermType:"c",cid:this.to.user_id,seq:i.seq,time:Math.floor(i.time/1e3)};this.customReport({method:"[setMsgAllRead][request]",message:r}),l["c"].reportMessageReadReceipt(r).then((function(t){var e=t.data;n.customReport({method:"[setMsgAllRead][response]",message:e})})).catch((function(t){var e,i=Object.assign({},t);null!==i&&void 0!==i&&null!==(e=i.config)&&void 0!==e&&null!==(e=e.headers)&&void 0!==e&&e["X-D2"]&&delete i.config.headers["X-D2"],n.customReport({method:"[setMsgAllRead][error]",message:i})}))}}else console.log("[setMsgAllRead]","0000000000")}},getMessageReadReceiptResult:function(){var t=this;this.customReport({method:"[getMessageReadReceipt][request]"}),l["c"].getMessageReadReceipt({cid:this.to.user_id}).then((function(e){var n=e.data;if(t.customReport({method:"[getMessageReadReceipt][request]",message:n}),n&&!n.code){var i,a=null===n||void 0===n||null===(i=n.data)||void 0===i||null===(i=i.get_msg_read_report_rsp)||void 0===i||null===(i=i.b_read_info)||void 0===i?void 0:i.uint64_time;a-=0,a+=1,a*=1e3,t.messageList.forEach((function(e){a&&e.time<=a?t.$set(e,"hasBeenRead",!0):t.$set(e,"hasBeenRead",!1)}))}})).catch((function(e){var n,i=Object.assign({},e);null!==i&&void 0!==i&&null!==(n=i.config)&&void 0!==n&&null!==(n=n.headers)&&void 0!==n&&n["X-D2"]&&delete i.config.headers["X-D2"],t.customReport({method:"[getMessageReadReceipt][error]",message:i})}))},showTipMessage:function(t){if(!t.info||!t.info.id){var e={seq:r["a"].generateUUID(),type:it.MSG_TIP,content:t.message,time:Date.now()};return this.messageList.length>0&&(this.messageList[this.messageList.length-1].isLatestMsgForMarkdown=!1),this.messageList.push(e),this.scrollToBottom(),e}var n=t.info.id,i=this.seqMessageMap.get(n);this.$set(i,"status",ot.Resend),this.$set(i,"resendType",st.UploadFailed),this.$set(i,"resendInfo",t.info),this.$set(i,"resendData",t.file)},createQQInviteCard:function(t,e){var n=this,i=Object(s["a"])(Object(s["a"])({seq:l["c"].generateUUID(),type:it.MSG_INVITE_QQ},this.previewMsgCommongData()),{},{status:ot.Success,hideBInfo:!0,msgBody:Object(s["a"])({},t)});this.addMessageList(i,at.Sync,"c2b"===e.dir),setTimeout((function(){n.scrollToBottom()}))},createAddQQFriendCard:function(t,e){var n,i=this,a=Object(s["a"])(Object(s["a"])({seq:l["c"].generateUUID(),type:it.MSG_ADD_QQ_CARD},this.previewMsgCommongData()),{},{status:ot.Success,crm:{msg_webim_extra_data:{uint64_extuin:null===(n=this.globalData)||void 0===n||null===(n=n.reception)||void 0===n?void 0:n.extuin}},msgBody:Object(s["a"])({},t)});this.addMessageList(a,at.Sync,"c2b"===e.dir),setTimeout((function(){i.scrollToBottom()}))},createLeaveMessage:function(t,e){var n=this,i=Object(s["a"])(Object(s["a"])({seq:l["c"].generateUUID(),type:it.MSG_LEAVE_FORM},this.previewMsgCommongData()),{},{status:ot.Success,hideBInfo:!0,msgBody:Object(s["a"])({},t)});this.addMessageList(i,at.Sync,"c2b"===e.dir),setTimeout((function(){n.scrollToBottom()}))},sendTextMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isSendingWaitMarkdownMsg())if("*#*#180805#*#*"!==t)if("*#*#180808#*#*"!==t){if("*#*#365612#*#*"===t)return localStorage.clear(),void window.location.reload(!0);var n=500;if("string"===typeof t){if(t.length>n)return void this.sendLongTextMessage(t,null,e);t=r["a"].coverEmojiIndex2ImgMessage(t)}var i=r["a"].generateUUID(),a=Object(s["a"])({seq:i},this.previewMsgCommongData());if(1===t.length){var o=t[0];"text"===o.type?(a.type=l["b"].TYPES.MSG_TEXT,a.content=o.content):"media_resources"===o.type?(a.type=l["b"].TYPES.MSG_MEDIA,a.media_type=o.mediaType,a.media_url=o.mediaUrl):"face"===o.type&&(a.type=l["b"].TYPES.MSG_MIX,a.content=t)}else a.type=l["b"].TYPES.MSG_MIX,a.content=t;this.addMessageList(a,at.Sync,!0),this.deleteRevoseMsg(),this.scrollToBottom(),a=this.seqMessageMap.get(i);var c={qd_source_msg:this.sourceMsg,str_lang:this.$i18n.locale};Object.keys(e).length&&Object.assign(c,e),c=this.addSearchNetworkToRobotCtrl(c);var d=nt.createTextMessage({to:this.to.id,payload:Object(s["a"])(Object(s["a"])({},this.commonPayload),{},{text:t,crmData:c})});this.sourceMsg&&this.$set(a,"$_sourceMsg",this.sourceMsg),this.sourceMsg=null,this.innerSendMessage(a,d)}else window.location.reload(!0);else this.$Alert(JSON.stringify({wpaDetail:this.wpaDetail,to:this.to,reception:this.globalData.reception}))},onPreviewImage:function(t){if(!this.isSendingWaitMarkdownMsg()){var e=Object(s["a"])(Object(s["a"])({type:l["b"].TYPES.MSG_IMAGE},this.previewMsgCommongData()),{},{seq:t.id,content:t.path,uuid:t.uuid,name:t.name,size:t.size,width:t.width,height:t.height});this.addMessageList(e,at.Sync,!0),this.scrollToBottom()}},onSendImageMessage:function(t){var e;if(0!==t.code)return this.isJustSending=!1,t.info&&null!==t&&void 0!==t&&null!==(e=t.info)&&void 0!==e&&e.id||!t.message||"string"!==typeof t.message||(t.message=t.message.replace(/不支持的图片格式：/g,this.$t("不支持的图片格式：")),t.message=t.message.replace(/发送图片大小超出限制/g,this.$t("发送图片大小超出限制")),t.message=t.message.replace(/一次最多支持选择5张图片/g,this.$t("一次最多支持选择5张图片"))),void this.showTipMessage(t);var n=t.info,i=n.id,a=this.seqMessageMap.get(i);Object.assign(a,{tempPath:n.path});var o=this.addSearchNetworkToRobotCtrl(),c=nt.createImageMessage({to:this.to.id,payload:Object(s["a"])(Object(s["a"])({},this.commonPayload),{},{image:{uuid:n.uuid,path:n.path,name:n.name,size:n.size,width:n.width,height:n.height},crmData:o})});this.innerSendMessage(a,c)},onPreviewFile:function(t){var e=Object(s["a"])(Object(s["a"])({type:l["b"].TYPES.MSG_FILE},this.previewMsgCommongData()),{},{seq:t.id,content:t.path,uuid:t.uuid,name:t.name,size:t.size,format:t.format,uniqueFileId:t.uniqueFileId||""});this.addMessageList(e,at.Sync,!0),this.scrollToBottom()},onFileProgress:function(t,e,n){var i=t.id,a=this.seqMessageMap.get(i);this.$set(a,"uploadProgress",e),this.$set(a,"progressController",n)},onSendFileMessage:function(t){var e;if(0!==t.code)return t.info&&null!==t&&void 0!==t&&null!==(e=t.info)&&void 0!==e&&e.id||!t.message||"string"!==typeof t.message||(t.message=t.message.replace(/不支持的文件格式：/g,this.$t("不支持文件格式：")),t.message=t.message.replace(/发送文件大小超出限制/g,this.$t("发送文件大小超出限制"))),void this.showTipMessage(t);var n=t.info,i=n.id,a=this.seqMessageMap.get(i);Object.assign(a,{uuid:n.uuid,path:n.path,uniqueFileId:n.uniqueFileId||""});var o={};o=this.addNeedReplyToRobotCtrl(o,n),o=this.addSearchNetworkToRobotCtrl(o);var c=nt.createFileMessage({to:this.to.id,payload:Object(s["a"])(Object(s["a"])({},this.commonPayload),{},{file:{uuid:n.uuid,path:n.path,name:n.name,size:n.size,format:n.format},crmData:o})});this.innerSendMessage(a,c)},onPreviewVoice:function(t){if(!this.isSendingWaitMarkdownMsg()){var e=Object(s["a"])(Object(s["a"])({type:l["b"].TYPES.MSG_VOICE},this.previewMsgCommongData()),{},{seq:t.id,content:t.path,uuid:t.uuid,name:t.name,size:t.size,format:t.format,length:t.length});this.addMessageList(e,at.Sync,!0),this.scrollToBottom()}},onSendVoiceMessage:function(t){if(0!==t.code)return this.isJustSending=!1,void this.showTipMessage(t);var e=t.info,n=e.id,i=this.seqMessageMap.get(n);Object.assign(i,{uuid:e.uuid,path:e.path});var a=this.addSearchNetworkToRobotCtrl(),o=nt.createVoiceMessage({to:this.to.id,payload:Object(s["a"])(Object(s["a"])({},this.commonPayload),{},{ptt:{uuid:e.uuid,path:e.path,name:e.name,size:e.size,format:0,length:e.length},crmData:a})});this.innerSendMessage(i,o)},uploadLongT:function(t){return Object(o["a"])(Object(a["a"])().m((function e(){var n;return Object(a["a"])().w((function(e){while(1)switch(e.n){case 0:return e.n=1,l["c"].uploadLongText(t).catch((function(){return Promise.reject(null)}));case 1:if(n=e.v,n.code||!n.info||!n.info.uuid){e.n=2;break}return e.a(2,n.info.uuid);case 2:return e.a(2,Promise.reject(null))}}),e)})))()},sendQDXMLMessage:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isSendingWaitMarkdownMsg()&&t.qdxml&&t.qdxml.content){var a=[],o=t.qdxml;o&&(o.resid?a.push(Promise.resolve(o.resid)):o.content&&a.push(this.uploadLongT(o.content)));var c=t.text;c&&(c.resid?a.push(Promise.resolve(c.resid)):c.content&&a.push(this.uploadLongT(c.content)));var r,d=null,u={};n?r=n:(d=l["c"].generateUUID(),u=Object(s["a"])(Object(s["a"])({type:l["b"].TYPES.MSG_QDXML},this.previewMsgCommongData()),{},{seq:d,content:{path:"",brief:o.brief,content:o.content}}),this.addMessageList(u,at.Sync,!0),r=this.seqMessageMap.get(d),setTimeout((function(){e.scrollToBottom()}),200)),Promise.all(a).then((function(t){var n="";t[0]&&(n={str_control_msg_resid:t[0],str_msg_brief:o.brief||"",bytes_structure_content:o.content||""});var a="";t[1]&&(a={string_res_id:t[1],string_msg_brief:c.brief||"",string_msg_content:c.content||""});var l={};Object.keys(i).length&&Object.assign(l,i),l=e.addSearchNetworkToRobotCtrl(l);var d=nt.createQDXMLMessage({to:e.to.id,payload:Object(s["a"])(Object(s["a"])({},e.commonPayload),{},{qdXml:{msg_common_control_msg_info:n,msg_third_party_msg_info:a},crmData:l})});e.innerSendMessage(r,d)})).catch((function(){e.$set(r,"status",ot.Invalid),e.$set(r,"resendType",st.UploadFailed),e.$set(r,"resendData",t)}))}},sendQDMenuMessage:function(t){var e=this;return nt.sendInnerClickEvent(t).then((function(t){var n,i;3111629===(null===t||void 0===t||null===(n=t.msg_ret_info)||void 0===n?void 0:n.uint32_ret_code)&&(e.customReport({method:"[sendQDMenuMessage-error]",code:null===t||void 0===t||null===(i=t.msg_ret_info)||void 0===i?void 0:i.uint32_ret_code}),e.showTipMessage({message:"机器人会话已结束，暂不支持机器人导航点击"}));return t}))},sendIframeRobotMessage:function(t){var e=this;return nt.sendInnerClickEvent(t).then((function(t){var n,i;3111629===(null===t||void 0===t||null===(n=t.msg_ret_info)||void 0===n?void 0:n.uint32_ret_code)&&(e.customReport({method:"[sendIframeRobotMessage-error]",code:null===t||void 0===t||null===(i=t.msg_ret_info)||void 0===i?void 0:i.uint32_ret_code}),e.showTipMessage({message:"机器人会话已结束，暂不支持点击"}));return t}))},sendLongTextMessage:function(t){var e=arguments,n=this;return Object(o["a"])(Object(a["a"])().m((function i(){var o,c,r,d,u,m,f;return Object(a["a"])().w((function(i){while(1)switch(i.n){case 0:if(o=e.length>1&&void 0!==e[1]?e[1]:null,c=e.length>2&&void 0!==e[2]?e[2]:{},!o||!n.isSendingWaitMarkdownMsg()){i.n=1;break}return i.a(2);case 1:return r=l["c"].generateUUID(),o?d=o:(d=Object(s["a"])(Object(s["a"])({type:l["b"].TYPES.MSG_LONG_MSG},n.previewMsgCommongData()),{},{seq:r,previewContent:t}),n.addMessageList(d,at.Sync,!0),n.scrollToBottom(),d=n.seqMessageMap.get(r)),i.n=2,n.uploadLongT(t).catch((function(){n.$set(d,"status",ot.Invalid),n.$set(d,"resendType",st.UploadFailed),n.$set(d,"resendData",t),console.log("长文本出错了",r),n.isJustSending=!1}));case 2:u=i.v,console.log("我还是发送了",r),m={qd_source_msg:n.sourceMsg,str_lang:n.$i18n.locale},Object.keys(c).length&&Object.assign(m,c),m=n.addSearchNetworkToRobotCtrl(m),f=nt.createLongTextMessage({to:n.to.id,payload:Object(s["a"])(Object(s["a"])({},n.commonPayload),{},{long_msg:{uuid:u,path:u,length:t.length,brief:t.substr(0,20)},crmData:m})}),n.sourceMsg&&n.$set(d,"$_sourceMsg",n.sourceMsg),n.sourceMsg=null,n.innerSendMessage(d,f);case 3:return i.a(2)}}),i)})))()},sendOnlyInvisibleMessage:function(t){if(this.isSendingWaitMarkdownMsg())return!1;var e=r["a"].generateUUID(),n=Object(s["a"])(Object(s["a"])({seq:e},this.previewMsgCommongData()),{},{onlyInvisibleMsg:!0});return n.status=ot.Success,"text"===t.type&&(n.type=l["b"].TYPES.MSG_TEXT),n.content=t.content,this.addMessageList(n,at.Sync,!0),this.scrollToBottom(),!0},handleReplayMsgClick:function(t){var e=document.querySelector(".msg_".concat(t));console.log(e),e?(Object(R["a"])(e,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}),e.classList.add("flicker"),e.addEventListener("animationend",(function(){e.classList.remove("flicker")}),{once:!0})):this.$Toast({text:this.$t("无法定位原消息"),type:"error"})},handleCopyMsg:function(t){var e=this;this.$copyText(t).then((function(){e.$Toast(e.$t("chat_add_friend_copy_success_msg"))}),(function(){e.$Toast({text:e.$t("复制失败，请重试"),type:"error"})}))},replayTextFormat:function(t){return t&&t.length>30&&(t="".concat(t.substr(0,27),"...")),t},formaySummary:function(t){var e=this;if(!t)return"转换错误";switch(t.type){case l["b"].TYPES.MSG_TEXT:var n=t.content;return this.replayTextFormat(n);case l["b"].TYPES.MSG_FILE:return"[".concat(this.$t("文件"),"]");case l["b"].TYPES.MSG_IMAGE:return"[".concat(this.$t("图片"),"]");case l["b"].TYPES.MSG_VOICE:return"[".concat(this.$t("语音"),"]");case l["b"].TYPES.MSG_QDXML:return"[".concat(this.$t("结构化消息"),"]");case l["b"].TYPES.MSG_IMAGE_TEXT:return"[".concat(this.$t("图文消息"),"]");case l["b"].TYPES.MSG_LONG_MSG:var i=t._processedText;return this.replayTextFormat(i);case l["b"].TYPES.MSG_MIX:var a="";return t.content.forEach((function(t){t.type===l["b"].TYPES.MSG_FACE?a+="[".concat(e.$t("表情"),"]"):t.type===l["b"].TYPES.MSG_TEXT&&(a+=t.content)})),a;default:return"[".concat(this.$t("未知消息类型"),"]")}},handleReplayMsg:function(t){var e,n,i=(null===t||void 0===t||null===(e=t.extuinInfoReal)||void 0===e?void 0:e.innerName)||"",a=12,o={uint32_msg_direction:t.mine?1:2,uint64_time:parseInt(t.time,10),bytes_summary:this.formaySummary(t),str_reference_qidian_msg_unique_id:null===t||void 0===t||null===(n=t.msgHead)||void 0===n||null===(n=n.msg_third_app_info)||void 0===n||null===(n=n.bytes_third_app_buf)||void 0===n||null===(n=n.bytes_crm_buf)||void 0===n?void 0:n.str_current_qidian_msg_unique_id,str_sender_name:i.length>a?"".concat(i.substr(0,a-3),"..."):i,roaming_seq:null===t||void 0===t?void 0:t.seq};this.sourceMsg=o,this.scrollToBottom(!1,0)},resendMessage:function(t){var e=this,n=t.seq;if(this.$set(t,"status",ot.Sending),t.resendType===st.TimeOut){var i=null===t||void 0===t?void 0:t.check_id,a=Date.now(),o=t.resendData,s=nt.resendMessage(o);s.then((function(o){var s;e.afterSendSucc(t,o),e.seqMessageMap.delete(n),H([{check_id:i,kfuin:e.wpaDetail.kfuin,kfext:null===(s=e.globalData)||void 0===s||null===(s=s.reception)||void 0===s?void 0:s.extuin,event_cost_ms:Date.now()-a,msg_time_ms:o.time}])})).catch((function(){var n;H([{check_id:i,kfuin:e.wpaDetail.kfuin,event_name:"msg_send_error",kfext:null===(n=e.globalData)||void 0===n||null===(n=n.reception)||void 0===n?void 0:n.extuin,evnet_ret_code:-1,event_cost_ms:Date.now()-a}]),e.$set(t,"status",ot.Resend)}))}else t.resendType===st.UploadFailed?(console.log("[UploadFailed]",t),t.type===l["b"].TYPES.MSG_IMAGE?this.$refs.imageUploader.uploadFile(t.resendData,t.resendInfo):t.type===l["b"].TYPES.MSG_FILE?this.$refs.fileUploader.uploadFile(t.resendData,t.resendInfo):t.type===l["b"].TYPES.MSG_VOICE?this.$refs.voiceUploader.uploadFile(t.resendData,t.resendInfo):t.type===l["b"].TYPES.MSG_QDXML?this.sendQDXMLMessage(t.resendData,t):t.type===l["b"].TYPES.MSG_LONG_MSG&&this.sendLongTextMessage(t.resendData,t)):(console.log("[resendMessage] 特殊错误，不进行重发"),this.$set(t,"status",ot.Resend))},innerSendMessage:function(t,e){var n,i=this,a=t.seq;e=this.setMessageReadReceiptToCrm(t,e);var o=nt.sendMessage(e);W.before.call(this,e);var s=null===(n=e)||void 0===n||null===(n=n.msg_send_req)||void 0===n||null===(n=n.msg_send_msg)||void 0===n||null===(n=n.msg_msg_head)||void 0===n||null===(n=n.msg_third_app_info)||void 0===n||null===(n=n.bytes_third_app_buf)||void 0===n||null===(n=n.bytes_crm_buf)||void 0===n?void 0:n.str_current_qidian_msg_unique_id,c=Date.now();o.then((function(n){var o,r,l;if(W.after.call(i,n),i.$set(t,"msgHead",null===(o=e)||void 0===o||null===(o=o.msg_send_req)||void 0===o||null===(o=o.msg_send_msg)||void 0===o?void 0:o.msg_msg_head),i.$set(t,"msgBody",null===(r=e)||void 0===r||null===(r=r.msg_send_req)||void 0===r||null===(r=r.msg_send_msg)||void 0===r?void 0:r.msg_msg_body),n.code){var d=n.error;i.afterSendFail(t,n,d)}else H([{check_id:s,kfuin:i.wpaDetail.kfuin,kfext:null===(l=i.globalData)||void 0===l||null===(l=l.reception)||void 0===l?void 0:l.extuin,event_cost_ms:Date.now()-c,msg_time_ms:n.time}]),i.afterSendSucc(t,n),i.seqMessageMap.delete(a)})).catch((function(e){var n;H([{check_id:s,kfuin:i.wpaDetail.kfuin,event_name:"msg_send_error",kfext:null===(n=i.globalData)||void 0===n||null===(n=n.reception)||void 0===n?void 0:n.extuin,evnet_ret_code:-1,event_cost_ms:Date.now()-c}]),i.$set(t,"check_id",s),i.setDataAfterError(t,e),i.isJustSending=!1}))},afterSendSucc:function(t,e){if(this.$set(t,"syncseq",e.syncseq),this.$set(t,"sidesyncseq",e.sidesyncseq),this.$set(t,"seq",e.seq),this.$set(t,"time",e.time),this.$set(t,"status",ot.Success),this.seqMessageMap.set(e.seq,t),this.$emit("sendC2BMessageSuccess",t),t.type===l["b"].TYPES.MSG_FILE&&t.uniqueFileId){var n=t.uniqueFileId.split("_")[0],i=t.uniqueFileId.split("_")[1];if(this.fileCollectList[n]&&this.fileCollectList[n].length>0){var a=this.fileCollectList[n][this.fileCollectList[n].length-1];a.cos_id===t.uuid&&this.fileCollectList[n].length===+i&&(A["a"].file_collection=null,this.fileCollectList={})}}},afterSendFail:function(t,e){var n=e.error;this.$set(t,"status",ot.Invalid),this.showTipMessage({message:n})},isLoadingMarkdownMsg:function(t){this.isJustSending=!1,this.isJustSendingTimeout&&(clearTimeout(this.isJustSendingTimeout),this.isJustSendingTimeout=null),this.isReceivingLarmodelMsg=t},removeJustSending:function(){this.isJustSending=!1,this.isJustSendingTimeout&&(clearTimeout(this.isJustSendingTimeout),this.isJustSendingTimeout=null)},isSendingWaitMarkdownMsg:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return this.disableToolbar?(this.$Toast({text:this.$t("您的问题将会逐一应答，请耐心等待"),maxWidth:260}),!0):(this.isJustSending=!0,this.isJustSendingTimeout&&clearTimeout(this.isJustSendingTimeout),this.isJustSendingTimeout=setTimeout((function(){t.isJustSending=!1,t.isJustSendingTimeout=null}),e),!1)},setDataAfterError:function(t,e){this.$set(t,"status",ot.Resend),this.$set(t,"resendType",st.TimeOut),this.$set(t,"resendData",e.seq)},onHistoryMessageClick:function(t,e){var n=this;this.isLoading=!0,this.getRoamingMessage(e).then((function(t){n.messageList.length>0&&n.recoverScrollbarAfterPullHistoryMsg(),n.lastFetchRoamingTime=Date.now(),A["a"].isMsgFirstGet=e,console.log("[roamingMsg]",t);var i=t.nextReqMessageSeq,a=t.nextReqMessageTime,o=t.isCompleted,s=t.messageList,l=t.isOldRoamingMsg;"undefined"!==typeof i&&(n.roamingMsgSeq=i,n.isMoreMessageNew=!o,s.length>0&&(n.roamingOldMsgTime=1e3*s[s.length-1].time+1)),"undefined"!==typeof a&&(n.roamingOldMsgTime=a,n.isMoreMessageOld=!o),n.isMoreMessage=n.isMoreMessageNew||n.isMoreMessageOld,e&&s.forEach((function(t){rt<t.time&&(0===Object.keys(lt).length||t.time<lt.time)&&(lt=t)}));var d,u=Object(c["a"])(s);try{for(u.s();!(d=u.n()).done;){var m=d.value;(m.content||m.path)&&(l&&(m.isOldRoamingMsg=!0,0===m.seq&&(m.seq=1e3*m.time)),m.to===n.to.id?n.addMessageList(m,at.Roaming,!0):m.from===n.to.id?n.addMessageList(m,at.Roaming,!1):console.warn("☹️☹️☹️☹️☹️☹️===>msg_kfuin_error",m.to,n.to.id))}}catch(p){u.e(p)}finally{u.f()}var f=n.messageList[0];if(!n.isMoreMessage&&f&&f.time&&f.type!==it.MSG_DATETIME&&!n.isIncomingTip(f)){var h=n.messageList.findIndex((function(t){return t.type===it.MSG_DATETIME}));h>0&&n.messageList.splice(h,1),n.messageList.unshift({seq:r["a"].generateUUID(),type:it.MSG_DATETIME,time:f.time}),rt=f.time}n.getMessageReadReceiptResult(),n.setMsgAllRead()})).finally((function(){n.isLoading=!1,t&&n.scrollToBottom(!1,10),e&&setTimeout((function(){!n.isMoreMessageNew&&n.isMoreMessageOld&&n.onHistoryMessageClick(t)}),100)}))},getRoamingMessage:function(t){var e=!t&&!this.isMoreMessageNew;return e?nt.getOldMessageList({to:this.to.id,end:this.roamingOldMsgTime,payload:Object(s["a"])({},this.commonPayload)}):nt.getMessageList({to:this.to.id,seq:this.roamingMsgSeq,payload:Object(s["a"])({},this.commonPayload)})},fetchExtuinInfo:function(t,e){var n=this;return Object(o["a"])(Object(a["a"])().m((function i(){return Object(a["a"])().w((function(i){while(1)switch(i.n){case 0:return console.log("[fetchExtuinInfo]",t,e),i.a(2,nt.fetchExtuinInfo({extuin:t,kfuin:+n.wpaDetail.kfuin},e))}}),i)})))()},getExtuinInfo:function(t,e){var n=this;return Object(o["a"])(Object(a["a"])().m((function i(){var o,s,c,r,l;return Object(a["a"])().w((function(i){while(1)switch(i.p=i.n){case 0:if(c=null===t||void 0===t||null===(o=t.crm)||void 0===o?void 0:o.msg_webim_extra_data,r=!(null===c||void 0===c||!c.uint64_robotid),l=r?null===c||void 0===c?void 0:c.uint64_robotid:null===c||void 0===c?void 0:c.uint64_extuin,String(l)!==String(n.wpaDetail.kfuin)){i.n=1;break}return i.a(2);case 1:if(n.getExtuinInfoCBList||(n.getExtuinInfoCBList={}),n.getExtuinInfoCBList[l]||(n.getExtuinInfoCBList[l]={loading:!1,callbacks:[]}),n.getExtuinInfoCBList[l].callbacks.push(e),!n.getExtuinInfoCBList[l].loading){i.n=2;break}return i.a(2);case 2:return n.getExtuinInfoCBList[l].loading=!0,i.p=3,i.n=4,Object(p["d"])(l,(function(t){return n.fetchExtuinInfo(t,r)}));case 4:s=i.v,i.n=6;break;case 5:i.p=5,i.v,s=Object(p["b"])();case 6:n.getExtuinInfoCBList[l].loading=!1,n.getExtuinInfoCBList&&n.getExtuinInfoCBList[l]&&n.getExtuinInfoCBList[l].callbacks.forEach((function(t){t(s)}));case 7:return i.a(2)}}),i,null,[[3,5]])})))()},sendCmdMessage:function(){return nt.sendCmdMessage.apply(nt,arguments)},getSocketConnected:function(){var t;return null===nt||void 0===nt||null===(t=nt.getSocket())||void 0===t||null===(t=t.connectManage)||void 0===t||null===(t=t.socketIO)||void 0===t||null===(t=t.socket)||void 0===t?void 0:t.connected},checkIfNeedReconnect:function(){var t=this;document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&t.isIMReady&&!1===t.getSocketConnected()&&!t.isKickAlertShowing&&(t.customReport({method:"checkIfNeedReconnect",message:"[reConnet][visibilitychange]"}),nt.reConnect(),t.pageVisibileReport())}))},showRobotForm:function(t){console.log(t);var e=g["a"].extend(v["default"]);new e({propsData:{data:t,vm:this}}).$mount()},showRobotDrawer:function(t){var e=g["a"].extend(P);new e({propsData:{message:t,to:this.to,wpaDetail:this.wpaDetail,globalData:this.globalData}}).$mount()},isRobotDrawerMsg:function(t){return t.type===l["b"].TYPES.MSG_ROBOT&&t.content&&7===t.content.type&&t.content.content&&14===t.content.content.type&&(5===t.content.content.templateId||2===t.content.content.templateId)},initQidianDA:function(){var t="";t="https://v.qidian.qq.com",window.qidianDA("setDomain",t),window.qidianDA("setCommonData",{},{da_rpt_type:"wpa",wpa_id:this.wpaDetail.wpaId}),window.qidianDA("create",this.wpaDetail.kfuin,"",{preventAutoTrack:!0}),window.qidianDA("setValsByHand",{appkey:"",da_rpt_type:"wpa"}),this.sendDAInitReport()},sendDAInitReport:function(){if(!A["a"].robotTestMode){var t=h.a.parse(window.location.search,{ignoreQueryPrefix:!0}),e="0"===t.linkType?2:3,n=this.wpaDetail.clickid,i={mid:"",id:this.wpaDetail.wpaId,kfuin:this.wpaDetail.kfuin,kfext:t.kfext||"",cate:t.cate||"",type:t.type||"",eventtp:e,tpForm:e,refurl:"undefined"!==typeof document.referrer?document.referrer:"",ua:navigator.userAgent,eptype:this.$platform.pc?1:2,pid:t._pid||n,clickid:n,clickType:6,visitorid:this.to.user_id,tptype:9},a={0:"未知",1:"企业WPA",2:"员工WPA",3:"免费电话",4:"加QQ群",5:"加QQ好友",6:"公众号人工客服",7:"会话",8:"关注公众号",9:"webim"},o={1:"QQ接待",3:"公众号推广",4:"群推广",5:"员工推广",7:"网页接待",8:"企点接待",101:"电话接待"};window.qidianDA("track","webim_aio_open",{wpa_visitorid:s(i.visitorid)?Number(i.visitorid):"",wpaid:s(i.id)?Number(i.id):"",wpa_category_id:s(i.cate)?Number(i.cate):"",wpa_category:s(i.cate)?String(o[i.cate]||""):"",wpa_type:s(i.type)?Number(i.type):"",kfext:s(i.kfext)?Number(i.kfext):"",wpa_eventtp:s(i.eventtp)?Number(i.eventtp):"",wpa_tptype:s(i.tptype)?Number(i.tptype):"",wpa_tptype_name:s(i.tptype)?String(a[i.tptype]||""):"",wpa_clickid:s(i.clickid)?String(i.clickid):"",wpa_sm:s(i.sm)?String(i.sm):"",wpa_cckey:String(t.cckey||"")})}function s(t){return Boolean(t||0===t)}},recoverScrollbarAfterPullHistoryMsg:function(){if(this.messageList.length>0){var t=this.messageList[0].seq,e=document.querySelector(".page-scroll-container"),n=e.querySelector('.msg-item[seq="'.concat(t,'"]')),i=n.offsetTop-e.scrollTop;setTimeout((function(){n.scrollIntoView(!0);var t=n.offsetTop-e.scrollTop;e.scrollTop-=i-t}),10)}},scrollToBottom:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;if(A["a"].robotTestMode)setTimeout((function(){var t=document.querySelector(".page-scroll-container");t&&(t.scrollTop=t.scrollHeight)}),100);else{var n=this.$refs.scrollToBottom;n||console.error('页面中不存在节点 <div ref="scrollToBottom"></div>');var i=Object(d["a"])();(i>600||Date.now()-this.lastFetchRoamingTime<3e3)&&(t=!1,console.warn("[scrollToBottom]","scroll without animation!")),this.notReadNumber=0,setTimeout((function(){t?window.requestAnimationFrame((function(){n.scrollIntoView({behavior:"smooth",block:"start"})})):n.scrollIntoView(!0)}),e)}},scrollChange:Object(m["a"])((function(){Object(d["a"])()<d["b"]&&(this.notReadNumber=0),console.log("this.notReadNumber",this.notReadNumber)}),100),checkIfNeedScrollToBottom:function(t){Object(d["a"])()<d["b"]&&(t?A["a"].scrollToBottom(!1,10):A["a"].scrollToBottom(!0,500))},createIncomingTip:function(t){if(this.incomingTipMsg)t&&this.updataIncomingTip(t);else{var e=this.showTipMessage({message:t||this.$t("chat_incoming")});this.incomingTipMsg=e}},removeIncomingTip:function(t){if(this.incomingTipMsg){var e=this.incomingTipMsg.seq,n=this.messageList.findIndex((function(t){return t.seq===e}));n>-1&&(this.messageList.length>1||t)&&(this.messageList.splice(n,1),this.incomingTipMsg=null)}},updataIncomingTip:function(t){if(this.incomingTipMsg){var e=this.incomingTipMsg.seq,n=this.messageList.findIndex((function(t){return t.seq===e}));n>-1&&(this.messageList[n].content=t)}},isIncomingTip:function(t){return!(!this.incomingTipMsg||this.incomingTipMsg.seq!==t.seq)},showIncomingTimeout:function(){var t=this.inIframe?"chat_incoming_timeout_inframe":"chat_incoming_timeout";this.updataIncomingTip(this.$t(t))},getServerClientTimeDiff:function(){var t=this;if(Q["a"])return Promise.resolve(0);var e=this.wpaDetail.kfuin,n=+new Date;return new Promise((function(i,a){t.$ajax.head("/webim/commonRequest/checkTime",{timeout:1e3,data:{kfuin:e}}).then((function(t){var e=+new Date,a=+new Date(t.header.Date||e),o=parseInt((e-n)/2,10),s=a+o-e;console.log("[getServerClientTimeDiff]",s),i(s)})).catch((function(t){return a(t)}))}))},storageMessageForTest:function(){var t=this,e=function(e,n){var i=JSON.parse(JSON.stringify(n));i&&(delete i.msgHead,delete i.msgBody,delete i.content,delete i.path,i.crm&&(delete i.crm.template_message,delete i.crm.msg_gray_msg)),t.customReport({method:e,vistorid:t.to.user_id,kfuin:t.wpaDetail.kfuin,message:i},"webim"),window.testMsgRecords&&(window.testMsgRecords[e]||(window.testMsgRecords[e]=[]),window.testMsgRecords[e].push(n))};this.$on("receiveNewMessage",(function(t){e("receiveNewMessage",t)})),this.$on("sendC2BMessage",(function(t){e("sendC2BMessage",t)})),this.$on("sendC2BMessageSuccess",(function(t){e("sendC2BMessageSuccess",t)})),location.href.indexOf("debug=1")>-1&&(window.imsdkDebuger=nt,window.aioDebuger=this)},switchMsgDisplay:function(t,e){if(t&&e){var n=this.messageList.findIndex((function(e){return e.seq===t}));n<0||("show"===e&&(this.messageList[n].isNeedHide=!1),"delete"===e&&this.messageList.splice(n,1))}},isBubbleDelayShow:function(){return this.globalData.robotDelay.switch&&!this.globalData.robotDelay.promptOpen},deleteRevoseMsg:function(){var t=this;this.revoseMsgSeqList.forEach((function(e){t.switchMsgDisplay(e,"delete")}))},sendLangTip:function(t){var e=t?this.$t("sysmsg_msg_change_service_lang"):this.$t("sysmsg_msg_current_service_lang"),n={content:{gray:"".concat(e,'：<a href="javascript:;" data-type="changeLang" class="btn-lang">').concat(this.$t("lang"),"</a>")},type:"gray_msg",seq:r["a"].generateUUID(),time:Date.now(),status:0};this.addMessageList(n,0,!1)},transferRobotMsg:function(t){console.log("transferRobotMsg",t),this.$emit("transferRobotMsg",t)},voiceRecodeStatus:function(t){console.log("voiceRecodeStatus",t),this.$emit("voiceRecodeStatus",t)},revokeMsg:function(t){var e=this,n=nt.revokeMessage({to:this.to.id,payload:{user_id:this.to.user_id,user_type:this.to.user_type,pubacc_id:this.to.pubacc_id,message:t}});n.then((function(n){n.code?e.showTipMessage({message:n.error}):(e.$set(t,"origin_type",t.type),e.$set(t,"type",l["b"].TYPES.MSG_REVOKE),e.$set(t,"revoke_mine",!0),t.seq===e.messageList[e.messageList.length-1].seq&&e.$emit("sendMessage",{type:l["b"].TYPES.MSG_REVOKE,to:e.to,content:e.$t("你撤回了一条消息"),time:t.time}))})).catch((function(t){console.error("error",t),e.showTipMessage({message:e.$t("撤回消息超时,请稍后重试")})}))},setLangRequest:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(n,i){var a={kfuin:A["a"].kfuin,visitId:t.to.user_id,translateLang:"zh-TW"===e?"zh-tw":e};t.$ajax.post(N["F"],a).then((function(a){var o=a.data.code;0===+o?(t.$setLocale(e),n()):i()})).catch((function(){i()}))}))},switchConsultForm:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null===this||void 0===this||null===(e=this.$refs)||void 0===e?void 0:e.consultForm;t?null===i||void 0===i||i.show(n):i.hide()},splitGrayMsgContent:function(t){var e=this.seqMessageMap.get(+t);if(e){var n,i=null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.gray;i&&(e.content.gray=i.replace(/<a\b[^>]*>(.*?)<\/a>/gi,""),nt.setMessageTags(e,[{tag:"delete_gray_link",value:"1"}]))}},isConsultFromGrayMsg:function(t){return t.type===l["b"].TYPES.MSG_GRAY&&t.content.gray.includes("consultForm")},getFormUrl:function(t){var e,n=(null===t||void 0===t||null===(e=t.content)||void 0===e?void 0:e.gray)||"",i=n.match(/href\s*=\s*["']([^"']*)["']/);if(i&&i[1]){var a=i[1],o=a.indexOf("?")>-1?"&":"?";return"".concat(a).concat(o,"grayMsgSeq=").concat(null===t||void 0===t?void 0:t.seq)}return""},fetchCOSData:function(t){return Object(o["a"])(Object(a["a"])().m((function e(){var n,i,o,s;return Object(a["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:return n="",e.n=1,l["c"].getDownloadUrl(t,l["b"].OBJTYPES.OBJ_LONGTEXT);case 1:if(i=e.v,!i){e.n=5;break}return e.p=2,e.n=3,Z.a.get(i,{responseType:"text",transformResponse:[function(t){return t}]});case 3:o=e.v,o&&(n=JSON.parse(o.data)),e.n=5;break;case 4:e.p=4,s=e.v,console.error("[fetchCOSData]",s);case 5:return e.a(2,n)}}),e,null,[[2,4]])})))()},pageVisibileReport:function(){if("wx_qy"===this.wpaDetail.auth||"wx_qy_qrcode"===this.wpaDetail.auth||"commonAuth"===this.wpaDetail.auth){var t="v1/push/third/register",e=Object(s["a"])({ctype:4,status:this.pageFocused?2:1,auth_type:"commonAuth"===this.wpaDetail.auth?"commonAuthCredential":this.wpaDetail.auth,wpaid:this.wpaDetail.wpaId||""},"commonAuth"===this.wpaDetail.auth?{cid:this.to.user_id||""}:{sscinfo:{userid:this.wpaDetail.openid||"",suiteid:this.wpaDetail.suite_id||""}});V["a"].post(t,e).then((function(t){0!==t.data.code&&console.log("[pageFocused]状态上报失败")})).catch((function(t){console.log("[pageFocused]状态上报失败",t)}))}},activeBussiness:function(t){var e,n=this.toolButtons.find((function(e){return e.type===t})),i=n||{},a=i.isShow,o=i.enable;a&&o?(this.$emit("clickToolBtn",n),this.$refs.msgSender&&this.$refs.msgSender.hideAllTool&&this.$refs.msgSender.hideAllTool(),this.$refs.chatTools&&null!==(e=this.$refs.chatTools)&&void 0!==e&&null!==(e=e.$refs)&&void 0!==e&&e.btnTools&&this.$refs.chatTools.$refs.btnTools.watchDocumentClick&&this.$refs.chatTools.$refs.btnTools.watchDocumentClick()):("goodsListBtn"===t||"orderListBtn"===t)&&this.$Toast({text:this.$t("第三方电商接口暂无数据"),type:"error"})},fetchSearchNetworkConfig:function(t){var e=this,n="/v1/search_network/config",i={kfuin:this.wpaDetail.kfuin,robot_id:t,cid:this.to.user_id};this.$ajax.get(n,{params:i}).then((function(t){var n,i=t.data;0===i.code&&(e.isShowSearchNetwork=null===(n=i.data)||void 0===n?void 0:n.feature_enabled)})).catch((function(){}))},addNeedReplyToRobotCtrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(A["a"].file_collection&&e.uniqueFileId){var n={file_name:e.name,file_size:String(e.size),file_type:Object(et["b"])(e.name),cos_id:e.uuid},a=e.uniqueFileId.split("_")[0],o=e.uniqueFileId.split("_")[1];this.fileCollectList[a]||this.$set(this.fileCollectList,a,[]);var s=this.fileCollectList[a];this.$set(this.fileCollectList,a,[].concat(Object(i["a"])(s),[n]));var c={};return c=this.fileCollectList[a].length===+o?{notNeedReply:0,file_infos:this.fileCollectList[a]}:{notNeedReply:1},this.mergeToRobotCtrl(t,c)}return t},addSearchNetworkToRobotCtrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isShowSearchNetwork)return t;var e={searchNetwork:localStorage.getItem("search_network_".concat(this.to.user_id))};return this.mergeToRobotCtrl(t,e)},mergeToRobotCtrl:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==e&&void 0!==e&&null!==(t=e.robot_ctrl)&&void 0!==t&&t.str_ext2robot)try{var i=JSON.parse(e.robot_ctrl.str_ext2robot);Object.assign(i,n),e.robot_ctrl.str_ext2robot=JSON.stringify(i)}catch(a){Object.assign(e,{robot_ctrl:{str_ext2robot:JSON.stringify(n)}})}else Object.assign(e,{robot_ctrl:{str_ext2robot:JSON.stringify(n)}});return e}}}},"81a3":function(t,e,n){},"81e7":function(t,e,n){"use strict";n.r(e);n("99af"),n("e9c4");var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"batch-wrap"},[t.answerContent?e("div",{staticClass:"answer-content",domProps:{innerHTML:t._s(t.answerContent)}}):t._e(),e("div",{staticClass:"batch-head"},[e("div",{staticClass:"batch-head-tip",domProps:{innerHTML:t._s(t.answerText)}}),t.qlist.length>t.pagecount?e("div",{staticClass:"batch-head-btn",on:{click:function(e){return e.stopPropagation(),t.changePage.apply(null,arguments)}}},[e("img",{staticClass:"batch-head-icon icon-primay",attrs:{src:n("2b42")}}),e("div",{staticClass:"batch-head-msg"},[t._v("换一批")])]):t._e()]),e("div",{staticClass:"batch-body"},t._l(t.showLit,(function(n,i){return e("div",{key:i,staticClass:"batch-body-list"},[e("a",{staticClass:"msg-link",attrs:{href:"qdweb://webim/message/ext2robotsendc2b?content=".concat(t.textToUnicode(n.text),"&ext=").concat(t.textToUnicode(JSON.stringify(n)))}},[t._v(t._s(n.text))])])})),0)])])},a=[],o=(n("fb6a"),n("f439")),s=n("d90f"),c=n("9ec0"),r={props:{message:{type:Object,default:function(){return{}}}},data:function(){var t=this.message.content,e=t.content,n=void 0===e?"":e,i=t.answer_type,a=s["a"].coverEmojIndex2EmojiImg(n)||(1===i?"你可能还想问":"猜你想问");return{index:0,pagecount:this.message.content.pagecount,qlist:this.message.content.list||[],answer:this.message.content.answer,answerType:i,answerText:a}},computed:{answerContent:function(){return s["a"].coverEmojIndex2EmojiImg(Object(o["a"])(this.answer.content))},showLit:function(){var t=this.pagecount,e=this.index,n=this.qlist,i=t*e,a=t*(e+1)>n.length?n.length:t*(e+1);return n.slice(i,a)}},methods:{changePage:function(){var t=this.pagecount,e=this.index,n=this.qlist;this.index=(e+1)*t>=n.length?0:e+1},textToUnicode:function(t){return Object(c["d"])(t)}}},l=r,d=(n("a9b0"),n("2877")),u=Object(d["a"])(l,i,a,!1,null,"383ba477",null);e["default"]=u.exports},8385:function(t,e,n){"use strict";n("fc0b")},8539:function(t,e,n){"use strict";n("7dce")},"85dd":function(t,e){t.exports="data:image/png;base64,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"},"86e7":function(t,e){t.exports="data:image/gif;base64,R0lGODlhYABgAPfJAJOWnl1ibicuPpOXn0JJV0JHVV1jbzc9TEJIVvr7+/39/SsyQfX39zU7SiwyQvn5+VdcaVJYZVhdapKVnnyAirm7wH2AivHx893e4GVqdS00RC82RUdNWpyfpqSnrk1TYO/w8VNYZSsxQdna3SoxQfr6+igvP+Tl5zlATr/BxrS2vK+xt/z8/MHDyIiMlYqOlquutKWor+np67y+wykwQPv7+9DR1dHS1ri6wHF2gWJnc8bIzScuPVBWY8/R1HZ6hJyfqDQ7SmNodFpfa1FXZDtBUDxCUd/g4/Ly8+Pk5ri6v8HEyG1yfP7+/ikvQISHkcDCxlheanN4gpaZoUNJV6aqsbu9wtjZ3GhteIWJkrq8wSsyQomOl/Dx8k5UYePj5nt/iTM6SaWpsOfo6YmNlufn6VJYZDA3Rzc+TWBlceXm6Nra3XyBio+Tm1pgbI2QmTk/Tebm6MnLz83P06WnrlVbZzY8TDY9TDI4R8PFye7v8EFHVZ6iqczO0sLEyTg/TYeLk1ddao2Rmj9FVNrb3m1yfTA2RYyQmJeaoo6SmiwzQ93f4U9VYtjY3qOmrWZrdszN0eTk6KmtsiowQTI4SFRaZygvPoaKk46Rml5jbzE4R1leas3P0tLU1zY8S2FmcuDi5Orr7ISIkZCUnGdsd6yttFZcaC41RPPz9PT09X2Bi1JXZLG0us7Q036CjH+EjsvL0F1kcJ6hqGBlcMvM0FxhbbCzuWVqdl9kcGBmckNKWDA4R0RJV5qdpTQ6SWRpdX2CjDE3R3Z7hVthbZueppSYoG90f8fJzSYtPf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzAyODBCNzk0MERDMTFFQkFCNDI5MTYzREVERkZDRDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzAyODBCN0E0MERDMTFFQkFCNDI5MTYzREVERkZDRDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDMDI4MEI3NzQwREMxMUVCQUI0MjkxNjNERURGRkNEMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDMDI4MEI3ODQwREMxMUVCQUI0MjkxNjNERURGRkNEMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2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"},"87de":function(t,e){t.exports="data:image/png;base64,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"},"888d":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-datetime"},[e("span",[t._v(t._s(t.format))])])},a=[],o=(n("a15b"),n("ac1f"),n("5319"),{props:{data:Object},computed:{format:function(){var t=new Date(this.data.time),e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=t.getHours(),o=t.getMinutes(),s=new Date,c=e===s.getFullYear();return[c?"":"".concat(e,"-"),"".concat(n+1,"-"),"".concat(i)," ","".concat(a,":"),"".concat(o)].join("").replace(/\b(\d)\b/g,"0$1")}}}),s=o,c=(n("a3a7"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,"0e7b131f",null);e["default"]=r.exports},"88a6":function(t,e,n){t.exports=n.p+"img/search-network.0faa7347.svg"},"88ab":function(t,e,n){"use strict";n("9911");var i=function(){var t=this,e=t._self._c;return e("span",{staticClass:"msg-link",class:t.disabled?"disabled":"",on:{click:t.onClick}},[t._v(t._s(t.link.text))])},a=[],o=n("f5db"),s={name:"message-link",props:{link:{type:Object,default:function(){return{}}}},data:function(){return{disabled:!1}},methods:{onClick:function(){if(!this.disabled){console.log("[im-message-link]",this.link);var t=this.link.url;Object(o["b"])(t),this.$emit("click",t)}}}},c=s,r=(n("8385"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"5ec49c22",null);e["a"]=l.exports},8986:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-gray"},[t.hasExtuinInfo?e("gray-card",{attrs:{processedText:t.processedText,text:t.text,"uin-info":t.uinInfo}}):e("span",{ref:"grayText",class:t.device,domProps:{innerHTML:t._s(t.processedText)}})],1)},a=[],o=(n("99af"),n("7db0"),n("e9f5"),n("f665"),n("7d54"),n("d3b7"),n("ac1f"),n("00b4"),n("5319"),n("159b"),n("d90f")),s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-card"},[e("div",{staticClass:"sys-img"},[e("img",{attrs:{src:t.uinInfo.str_avatar}})]),e("div",{staticClass:"text"},[t._v(t._s(t.text))])])},c=[],r={props:{uinInfo:Object,text:String}},l=r,d=(n("4d85"),n("2877")),u=Object(d["a"])(l,s,c,!1,null,"e1b84940",null),m=u.exports,f=n("5ac5"),h=n("f5db"),p=n("9de0"),g=p["b"].create(),v={components:{GrayCard:m},props:{device:{type:String,default:"pc"},data:Object},computed:{text:function(){var t;return null===(t=this.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.gray},uinInfo:function(){var t;return null===(t=this.data)||void 0===t||null===(t=t.crm)||void 0===t?void 0:t.msg_webim_extra_data},hasExtuinInfo:function(){var t,e;return(null===(t=this.uinInfo)||void 0===t?void 0:t.str_avatar)&&(null===(e=this.uinInfo)||void 0===e?void 0:e.str_external_name)},processedText:function(){var t,e=(null===(t=this.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.gray)||"";return e=o["a"].filterHTML(e),e=e.replace("\r\n","<br>"),e}},methods:{handleGrayLinkClick:function(){var t=this,e=this.$refs.grayText;if(e){var n=e.querySelectorAll("a");n.forEach((function(e){e.addEventListener("click",(function(n){var i=e.getAttribute("data-type"),a=e.getAttribute("href")||"";i&&"changeLang"===i?f["a"].switchSetLangPanel(!0):(n.preventDefault(),a=t.preHandleUrl(a),Object(h["b"])(a))}))}))}},preHandleUrl:function(t){var e=/qdweb/;if(!t)return t;if(e.test(t)&&t.indexOf("pageaction")>-1){var n,i=t.indexOf("?")>-1?"&":"?";return"".concat(t).concat(i,"grayMsgSeq=").concat(null===this||void 0===this||null===(n=this.data)||void 0===n?void 0:n.seq)}return t}},beforeMount:function(){var t=g.getMessageTags(this.data),e=t.find((function(t){return"delete_gray_link"===t.tag}));if(e&&"1"===e.value){var n,i=this.data,a=null===i||void 0===i||null===(n=i.content)||void 0===n?void 0:n.gray;a&&(this.data.content.gray=a.replace(/<a\b[^>]*>(.*?)<\/a>/gi,""))}},mounted:function(){this.handleGrayLinkClick()}},b=v,_=(n("26b0"),Object(d["a"])(b,i,a,!1,null,"8e93f18c",null));e["default"]=_.exports},"8a2f":function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return p})),n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return v})),n.d(e,"c",(function(){return _})),n.d(e,"f",(function(){return T}));var i=n("3835"),a=(n("99af"),n("a630"),n("a15b"),n("d81d"),n("14d9"),n("13d5"),n("fb6a"),n("b0c0"),n("e9f5"),n("ab43"),n("9485"),n("a9e3"),n("d3b7"),n("ac1f"),n("00b4"),n("3ca3"),n("5319"),n("498a"),{win:window,receptionist:{},wpaDetail:{},getSignTData:{},kfChangeTip:0,isGetSignT:0,isRegOK:0,isMobile:0,isChangeKF:0,inRegProcess:0,isRealSendMsg:1,isInIframe:!1,defaultAvatar:"",imageLoadFail:"",reSendC2bMsg:null,ioLinkStatus:null,regSuccessCallBack:null,imStatus:"open",pageStatus:"show",clickName:"click",chatSocket:{},c2bDBsaveData:[],c2bSeqGroup:[],authConfig:{auth:0},menuDetail:{active:0,currentVersion:"",eLogo:"",eName:"",defaultConfig:{active:0}},seqs:{key:"",data:[]},getSigTData:{},originRoleValue:null,clientPingTimer:null,serverClientTimeDiff:0,htReportOpts:{flag1:21873,flag2:1},registerType:"default",routePermit:{isCorpUin:0,isNeedQQ:1},lang:"zh-cn",translateLang:"zh",wxConfig:{enableVoice:!1,appid:"",openid:""},externalType:1,isShowQidianSign:1,thirdAppConfig:{enable:!1,type:"",appType:0,appId:"",openId:"",userInfo:{}}}),o=a.win.navigator.userAgent.toLocaleLowerCase();function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new c,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.tag=t,this.props=e,this.children=n}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.name=t,this.platform=e,this.style=n,this.action=i,this.attrs=a}a.userAgent=o,s.prototype.addChild=function(){this.children||(this.children=[]),this.children.push(this.children)};var r={all:"",pc:"pc",mobile:"mobile",ios:"ios",android:"android",web:"web",mac:"mac",WEBB:"webb"},l=["width","height","gravity","weight","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","margin","marginLeft","marginRight","marginTop","marginBottom","aspectRatio","background","backgroundIcon","alpha","cornerRadius","borderWidth","borderColor","borderStyle","hidden","textAlign"],d=["click","change","blur","focus","action","actionData"],u={H:{left:"flex-start",right:"flex-end",centerHorizontal:"center"},V:{top:"flex-start",bottom:"flex-end",centerVertical:"center"}},m={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},f=(a.isMobile,/<script>([\s\S]*?)<\/script>/i);function h(t){var e="",n="";if(f.test(t)){var i=f.exec(t);i.length&&(n=i[1]),e=t.replace(f,"").trim()}else e=t.trim();return[e,n]}function p(t){if(!window.DOMParser)return null;try{var e=new DOMParser,n=e.parseFromString(f.test(t)?t.replace(f,"").trim():t.trim(),"text/xml");return n}catch(i){return null}}function g(t){var e=+t;return isNaN(e)||0===e?"0px":"".concat(1===e?e:e/2,"px")}function v(t){function e(t){var e=Array.from(t);return Array.from(e).reduce((function(t,n,i){return t+m[n]*Math.pow(16,e.length-i-1)}),0)}var n=e(t.slice(1,3))/255,i=e(t.slice(3,5)),a=e(t.slice(5,7)),o=e(t.slice(7,9));return"rgba(".concat(i,", ").concat(a,", ").concat(o,", ").concat(n,")")}function b(t){return t=t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())})),"_"===t.slice(0,1)&&(t=t.slice(1)),t}function _(t){var e=[];for(var n in t)e.push("".concat(b(n),": ").concat(t[n]));return e.join(";")}function w(t,e){var n,a={};function o(t,e){return u[t][e]}switch(t){case"width":"-1"===e?(a.display="block",a.width="100%"):"-2"===e?(a.display="inline-block",a.width="auto"):(a.display="block",a.width=g(e));break;case"height":a.height="-1"===e?"100%":"-2"===e?"auto":g(e);break;case"paddingLeft":case"paddingRight":case"paddingTop":case"paddingBottom":case"marginLeft":case"marginRight":case"marginTop":case"marginBottom":a[t]=g(e);break;case"padding":case"margin":n=e.split(",");var s=n.shift();n.push(s),a[t]=n.map((function(t){return g(t)})).join(" ");break;case"gravity":a.display="flex",n=e.split("|");var c=["left","right","centerHorizontal"],r=["top","bottom","centerVertical"];if(n.length>1){var l=n,d=Object(i["a"])(l,2),m=d[0],f=d[1];a.justifyContent=o("H",m),a.alignItems=o("V",f)}else{var h=n,p=Object(i["a"])(h,1),b=p[0];~c.indexOf(b)&&(a.justifyContent=o("H",b)),~r.indexOf(b)&&(a.alignItems=o("V",b)),"center"===b&&(a.justifyContent=o("H","centerHorizontal"),a.alignItems=o("V","centerVertical"))}break;case"weight":a.flexGrow=Number(e);break;case"background":a.backgroundColor=v(e);break;case"alpha":a.opacity=Number(e);break;case"cornerRadius":a.borderRadius=g(e);break;case"borderWidth":a.borderWidth=g(e);break;case"borderColor":a.borderColor=v(e);break;case"borderStyle":a.borderStyle=e;break;case"hidden":var _=x(e);a.display=_?"none":"block";break;case"textAlign":a.textAlign="0"===e?"center":"1"===e?"right":"left";break}return a}function y(t,e,n){return"action"===t?n.actionCmd=e:"actionData"===t?n.actionData=e:"click"===t&&(n.type=t,n.fun=e),n}function x(t){return"true"===t||"false"!==t&&t}function C(t,e){for(var n=t.attributes,i=t.children,a=e.props,o=0,c=n.length;o<c;o++){var u=n[o],m=u.name;if(m.indexOf(".")){var f=m.split(".");if(2===f.length){if(f[1]!==r.web)continue;m=f[0]}}"name"!==m&&"platform"!==m?-1===l.indexOf(m)?-1===d.indexOf(m)?"appPath"!==m?a.attrs[m]=x(u.value):a.action.appPath=u.value:a.action=Object.assign(a.action,y(m,u.value,a.action)):a.style=Object.assign(a.style,w(m,u.value)):a[m]=u.value}if(i&&i.length)for(var h=0,p=i.length;h<p;h++){var g=i[h],v=new s(g.tagName);C(g,v),v.props.platform&&v.props.platform!==r.web||e.children.push(v)}}function T(t){var e=t.querySelector("msg"),n=new s("msg");return C(e,n),n}},"8ac5":function(t,e,n){"use strict";var i=n("c14f"),a=n("5530"),o=n("1da1"),s=(n("99af"),n("7db0"),n("caad"),n("a15b"),n("d81d"),n("b0c0"),n("e9f5"),n("f665"),n("7d54"),n("ab43"),n("e9c4"),n("b64b"),n("d3b7"),n("5087"),n("159b"),n("b08d")),c=n("bc3a"),r=n.n(c),l=n("97e5");e["a"]={props:{formParams:{type:Object,default:function(){return{}}},source:"",requestDomain:""},data:function(){return{openPop:!1,data:{content:[],isAgree:!1}}},computed:{isMobile:function(){return!this.$platform.pc}},mounted:function(){this.getInformationData()},methods:{show:function(t){var e=this;setTimeout((function(){e.openPop=!0}),400);var n=t.formId,i=void 0===n?"":n,a=t.grayMsgSeq,o=void 0===a?"":a,s=t.uk,c=void 0===s?"":s,r=t.isPre,l=void 0!==r&&r;this.formId=i,this.connectionGrayMsgSeq=o,this.uk=c,this.isPre=l,this.getInformationData()},getInformationData:function(){var t=this,e=this.formParams,n=e.channelID,i=e.custID,a=e.formId,o=e.isPre,s=e.kfext,c=e.uk,d=e.wpaId,u={channelID:n,custID:i,isPre:!!o,kfext:s,wpaId:d};c?u.uk=c:u.formId=a,r.a.post("".concat(this.requestDomain).concat(l["j"]),this.formParams,{headers:{"X-Tenant-Id":null===this||void 0===this?void 0:this.formParams.kfuin}}).then((function(e){var n=e.data,i=n.code,a=n.data;0===+i?(t.$emit("updateFormTitle",a.title),a.show&&t.$emit("repeatForm"),t.data=t.preHandleFormData(a),t.$nextTick((function(){t.setFormMargin()}))):(t.$Toast("获取表单信息失败"),setTimeout((function(){t.hide()}),500))})).catch((function(e){t.$Toast("获取表单信息失败"),console.error("获取表单_catch",e),setTimeout((function(){t.hide()}),500)}))},handleSubmit:Object(s["a"])(Object(o["a"])(Object(i["a"])().m((function t(){var e,n,o,s,c=this;return Object(i["a"])().w((function(t){while(1)switch(t.n){case 0:if(this.checkSubmitContent()){t.n=1;break}return t.a(2);case 1:if(!this.data.hasAgreement||null!==this&&void 0!==this&&null!==(e=this.data)&&void 0!==e&&e.isAgree){t.n=2;break}return this.$Toast("请阅读并同意相关协议条款"),t.a(2);case 2:o=this.preHandleSubmitData(),console.log("submitData",o),s=Object(a["a"])({content:o||this.data.content},this.formParams),r.a.post("".concat(this.requestDomain).concat(l["E"]),s,{headers:{"X-Tenant-Id":null===this||void 0===this||null===(n=this.formParams)||void 0===n?void 0:n.kfuin}}).then((function(t){var e=t.data,n=e.code,i=e.msg;0===+n?c.$emit("onFormSubmit",{submitData:o}):c.$Toast(i||"表单信息提交失败")})).catch((function(t){c.$Toast("表单信息提交失败"),console.error("表单信息提交_catch",t)}));case 3:return t.a(2)}}),t,this)}))),500),preHandleSubmitData:function(){var t=this.data.content.map((function(t){try{var e=JSON.parse(JSON.stringify(t));return 8===t.type?(e.value=JSON.stringify(e.value||[]),e):t}catch(n){return t}}));return t},handleSkip:function(){var t,e;r.a.post("".concat(this.requestDomain).concat(l["b"]),{isPre:!0,uk:null===this||void 0===this||null===(t=this.formParams)||void 0===t?void 0:t.uk},{headers:{"X-Tenant-Id":null===this||void 0===this||null===(e=this.formParams)||void 0===e?void 0:e.kfuin}}),this.$emit("skipForm")},hide:function(){this.openPop=!1},checkFormItem:function(t,e){return t.required&&!t.value?(this.$set(this.data.content[e],"error","".concat(t.name,"不能为空")),!1):(this.$set(this.data.content[e],"error",""),!0)},checkSubmitContent:function(){for(var t,e=(null===this||void 0===this||null===(t=this.data)||void 0===t?void 0:t.content)||[],n=e.length,i=0;i<n;i++)if(!this.checkFormItem(e[i],i))return!1;return!0},focus:function(t,e){this.$set(this.data.content[e],"isFocus",!0)},blur:function(t,e){var n=this;setTimeout((function(){n.$set(n.data.content[e],"isFocus",!1)}),500),this.checkFormItem(t,e)},clearText:function(t,e){this.data.content[e].value=""},preHandleFormData:function(t){var e=this;return t.content.forEach((function(t){try{if(8===t.type){var n=t.value?JSON.parse(t.value):[];t.value=n,t.text=n.join(",")}var i=[6,7,8];i.includes(t.type)&&(t.options=e.transferFormOptions(t.options)),t.text=e.handleOptionsReplay(t)}catch(a){console.log("preHandleFormData_catch",a)}})),this.$set(t,"isAgree",!1),t},switchAgreement:function(){this.$set(this.data,"isAgree",!this.data.isAgree)},transferFormOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return{text:t.value,value:t.key}}))},setFormMargin:function(){try{var t=document.querySelector(".form-container"),e=document.querySelector(".form-footer"),n=e.offsetHeight;t.style.marginBottom="".concat(n-15,"px")}catch(i){console.error("setFormMargin_catch",i)}},handleOptionsReplay:function(t){var e=t.type;switch(+e){case 4:return t.value;case 6:case 7:var n=t.options.find((function(e){return e.value===t.value}));return n?n.text:"";default:return t.text||""}}}}},"8aeb":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o}));var i=[14,1,2,3,4,5,6,7,8,9,10,11,12,13,0,15,16,96,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,89,113,114,115,60,61,46,63,64,116,66,67,53,54,55,56,57,117,59,75,74,69,49,76,77,78,79,118,119,120,121,122,123,124,42,85,43,41,86,125,126,127,128,129,130,131,132,133,134,136,137,138,139,140,141,142,143,144,170,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,145,135,17,40,44,45,58,47,48,50,51,52,68,70,71,72,73,80,81,82,83,84,87,88,90,91,92,93,94,95,62,65,172,182,179,173,174,212,175,178,177,180,181,176,183,171,188,192,184,185,190,187,193,194,197,198,199,200,201,202,203,204,205,206,207,208,210,211],a=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘...","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极","双喜","鞭炮","灯笼","发财","K歌","购物","邮件","帅","喝彩","青蛙","爆筋","棒棒糖","喝奶","下面","香蕉","飞机","开车","高铁左车头","车厢","高铁右车头","多云","下雨","钞票","熊猫","灯泡","风车","闹钟","大伞","彩球","钻戒","沙发","纸巾","药","手枪"],o=["qqface_Smile","qqface_Grimac","qqface_Drool","qqface_Scowl","qqface_Chill","qqface_Sob","qqface_Shy","qqface_Silent","qqface_Sleep","qqface_Cry","qqface_Awkward","qqface_Angry","qqface_Tongue","qqface_Grin","qqface_Surprise","qqface_Frown","qqface_CoolGuy","qqface_Helpless","qqface_Scream","qqface_Puke","qqface_Chuckle","qqface_Joyful","qqface_Slight","qqface_Smug","qqface_Hungry","qqface_Drowsy","qqface_Panic","qqface_Sweat","qqface_Laugh","qqface_Commando","qqface_Determined","qqface_Scold","qqface_Confused","qqface_Shhh","qqface_Dizzy","qqface_Torturing","qqface_Toasted","qqface_Skull","qqface_Hammer","qqface_Bye","qqface_Speechless","qqface_NosePick","qqface_Clap","qqface_Embarrased","qqface_Trick","qqface_Hum!L","qqface_Hum!R","qqface_Yawn","qqface_Pooh-pooh","qqface_Shrunken","qqface_TearingUp","qqface_Sly","qqface_Kiss","qqface_What!","qqface_Whimper","qqface_Cleaver","qqface_Watermelon","qqface_Beer","qqface_Basketball","qqface_Pingpong","qqface_Coffee","qqface_Rice","qqface_Pig","qqface_Rose","qqface_Wilt","qqface_Lips","qqface_Heart","qqface_BrokenHeart","qqface_Cake","qqface_Lightning","qqface_Bomb","qqface_Knife","qqface_Football","qqface_Beetle","qqface_Poop","qqface_Moon","qqface_Sun","qqface_Gift","qqface_Hug","qqface_Thumbsup","qqface_Thumbsdown","qqface_Shake","qqface_Victory","qqface_Salute","qqface_Beckon","qqface_Fist","qqface_Bad","qqface_LoveYou","qqface_NO","qqface_OK","qqface_Love","qqface_Blow_a_kiss","qqface_Waddle","qqface_Tremble","qqface_Aaagh!","qqface_Twirl","qqface_Kowtow","qqface_Turn_round","qqface_Rope_Skipping","qqface_Wave_hand","qqface_Excited","qqface_Street_Dance","qqface_Give_a_kiss","qqface_Tai_Chi_L","qqface_Tai_Chi_R","qqface_Bliss","qqface_Firecracker","qqface_Lantern","qqface_Fortune","qqface_Karaoke","qqface_Shopping","qqface_Email","qqface_Handsome","qqface_Hurray","qqface_Frog","qqface_Furious","qqface_Lollipop","qqface_Drink_milk","qqface_Noodles","qqface_Banana","qqface_Plane","qqface_Driving","qqface_Highspeed_Rail_L","qqface_Carriage","qqface_Highspeed_Rail_R","qqface_Cloudy","qqface_Rainy","qqface_Cash","qqface_Panda","qqface_Light_bulb","qqface_Windmill","qqface_Alarm_Clock","qqface_Umbrella","qqface_Balloon","qqface_Ring","qqface_Sofa","qqface_Toilet_Paper","qqface_Medicine","qqface_Pistol"];e["a"]={faceIndex:i,faceHumen:a,faceLocale:o}},"8b54":function(t,e,n){},"8c5f":function(t,e,n){"use strict";n("9ea3")},"8d4a":function(t,e,n){"use strict";n("0b25")},"8e2d":function(t,e,n){"use strict";n("b0c0");var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.show?e("div",{staticClass:"bottom-tips",class:{"bottom-tips--fixed":!t.isMobile}},[e("div",{staticClass:"block-sign"},[e("span",{staticClass:"sign__link"},[t.logo?e("img",{staticClass:"sign__logo",attrs:{src:t.logo,alt:""}}):t._e(),e("span",{staticClass:"sign__name"},[t._v(t._s(t.name))])])]),t.inIframe||t.isMobile?e("div",{staticClass:"ai-tips"},[t._v(t._s(t.aiContentAlert))]):t._e()]):t._e()},a=[],o=n("d4ec"),s=n("bee2"),c=n("8f33"),r=n("262e"),l=n("ade3"),d=(n("99af"),n("a9e3"),n("b64b"),n("ac1f"),n("466d"),n("841c"),n("5087"),n("9ab4")),u=n("1b40"),m=n("4328"),f=n.n(m),h=n("ea5f"),p={zh:"","zh-TW":"Tw",en:"En"},g=function(t){function e(){var t;Object(o["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(c["a"])(this,e,[].concat(i)),Object(l["a"])(t,"type",void 0),Object(l["a"])(t,"wpaDetail",void 0),Object(l["a"])(t,"reception",void 0),Object(l["a"])(t,"inIframe",void 0),Object(l["a"])(t,"show",0),Object(l["a"])(t,"supportInfo",void 0),Object(l["a"])(t,"name",""),Object(l["a"])(t,"logo",""),Object(l["a"])(t,"website",""),Object(l["a"])(t,"currentHash",location.hash),Object(l["a"])(t,"aiContentAlert",""),t}return Object(r["a"])(e,t),Object(s["a"])(e,[{key:"largeModelRobotId",get:function(){var t;return"pc"===this.type?Number(this.$store.state.common.largeModelRobotId)||0:(null===(t=this.reception)||void 0===t?void 0:t.largeModelRobotId)||0}},{key:"isMobile",get:function(){return"pc"!==this.type}},{key:"onLangChanged",value:function(){this.handleSupport()}},{key:"onWpaDetailChange",value:function(){this.fetchConfig()}},{key:"onlargeModelRobotIdChange",value:function(t,e){t!==e&&this.fetchSupportInfo()}},{key:"created",value:function(){this.fetchConfig()}},{key:"fetchConfig",value:function(){var t=this,e=this.getRequestParams(["tools","supportInfo"]);Object(h["a"])(e,(function(e){var n=e.supportInfo,i=void 0===n?{}:n,a=e.tools,o=void 0===a?{}:a,s=i.code,c=i.data,r=o.code,l=o.data;0===s&&0===r&&(t.supportInfo=c,t.show=null===l||void 0===l?void 0:l.isShowQidianSign,t.logo=null===c||void 0===c?void 0:c.suportLogo,t.handleSupport())}))}},{key:"getRequestParams",value:function(t){var e=JSON.parse(this.wpaDetail),n=f.a.parse(location.search,{ignoreQueryPrefix:!0}),i=n.kfuin,a=n.wpaId,o=n.key,s=n.fid,c={kfuin:i||e.kfuin,wpaId:(this.isMobile?s:a)||e.wpaId,key:o||e.key,fields:t,robotId:this.largeModelRobotId||0};return c}},{key:"handleSupport",value:function(){if(this.supportInfo){var t=this.$i18n.locale,e=p[t];this.name=this.supportInfo["suportName".concat(e)],this.website=this.supportInfo["suportWebsite".concat(e)]||this.supportInfo.suportWebsite,this.aiContentAlert=this.supportInfo["aiContentAlert".concat(e)]}}},{key:"fetchSupportInfo",value:function(){var t=this,e=this.getRequestParams(["supportInfo"]);Object(h["a"])(e,(function(e){var n=e.supportInfo,i=void 0===n?{}:n,a=i.code,o=i.data;0===a&&(t.supportInfo=o,t.handleSupport())}))}},{key:"reportUrlLink",value:function(){var t=navigator.userAgent.toLowerCase(),e=t.match(/miniprogram/i)&&t.match(/alipay/i),n="miniprogram"===window.__wxjs_environment;if(!n&&!e){var i;if(window&&window.QdMonitor)null===(i=window.QdMonitor)||void 0===i||i.log({name:this.largeModelRobotId?"sign_dp_link_click":"sign_link_click",ext1:window.location.href});else window&&window.parent&&window.parent.QdMonitor&&window.parent.QdMonitor.log({name:this.largeModelRobotId?"sign_dp_link_click":"sign_link_click",ext1:window.location.href});this.website&&window.open(this.website,"_blank")}}}])}(u["d"]);Object(d["a"])([Object(u["c"])()],g.prototype,"type",void 0),Object(d["a"])([Object(u["c"])({type:String,default:"{}"})],g.prototype,"wpaDetail",void 0),Object(d["a"])([Object(u["c"])({type:Object,default:function(){return{}}})],g.prototype,"reception",void 0),Object(d["a"])([Object(u["c"])({type:Boolean,default:!1})],g.prototype,"inIframe",void 0),Object(d["a"])([Object(u["e"])("$i18n.locale")],g.prototype,"onLangChanged",null),Object(d["a"])([Object(u["e"])("wpaDetail")],g.prototype,"onWpaDetailChange",null),Object(d["a"])([Object(u["e"])("largeModelRobotId")],g.prototype,"onlargeModelRobotIdChange",null),g=Object(d["a"])([Object(u["a"])({name:"QdSign"})],g);var v=g,b=v,_=(n("3a90"),n("2877")),w=Object(_["a"])(b,i,a,!1,null,"db23ef1c",null);e["a"]=w.exports},9014:function(t,e,n){"use strict";n.r(e);n("b0c0"),n("4c53");var i=function(){var t=this,e=t._self._c;return e("div",{class:["multi-basis",t.isMobile?"":"multi-basis-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-desc"},[t._v(t._s(t.robotNav.desc))]),e("div",{staticClass:"list-content"},t._l(t.robotNav.list,(function(i,a){return e("div",{key:a,staticClass:"list-item"},[i.sub&&i.sub.length>0?e("div",{staticClass:"list-item-title",on:{click:function(e){return t.onClickGroup(i)}}},[e("div",{staticClass:"list-item-title-name"},[t._v(t._s(i.name))]),e("img",{class:["icon-arrow-right",i.isOpen?"arrow-down":""],attrs:{src:n("c3d8")}})]):e("div",{staticClass:"list-item-title nav-link",on:{click:function(e){return t.onClick(i)}}},[e("div",{staticClass:"list-item-title-name"},[t._v(t._s(i.name))])]),i.isOpen?e("div",{staticClass:"list-child-wrapper"},t._l(i.sub,(function(n,a){return e("div",{key:a,staticClass:"nav-link",on:{click:function(e){return t.onClick(n,{robot_nav_event_type:3,robot_nav_first_menu_id:i.id,robot_nav_first_menu_name:i.name,robot_nav_second_menu_id:n.id,robot_nav_second_menu_name:n.name})}}},[t._v(" "+t._s(n.name)+" ")])})),0):t._e()])})),0),e("div",{staticClass:"btn-content"},t._l(t.robotNav.buttons,(function(n,i){return e("div",{key:i,staticClass:"list-btn-cell"},[e("div",{staticClass:"nav-link",on:{click:function(e){return t.onClick(n)}}},[t._v(t._s(n.name))])])})),0)])])},a=[],o=n("b371"),s={mixins:[o["a"]],data:function(){return{arrItemIsOpen:[]}},methods:{onClickGroup:function(t){var e=t.isOpen||!1;e=!e,this.$set(t,"isOpen",e),this.onClick(t)}}},c=s,r=(n("d684"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"54ac2f06",null);e["default"]=l.exports},"90ea":function(t,e,n){},"90fa":function(t,e,n){"use strict";n("5714")},9102:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{class:["btn-style",t.isMobile?"":"btn-style-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-list",class:"nav-list-cnt-".concat(t.robotNav.list.length,"}")},t._l(t.robotNav.list,(function(n,i){return e("div",{key:i,staticClass:"nav-item"},[e("div",{staticClass:"nav-link",on:{click:function(e){return t.onClick(n)}}},[t._v(t._s(n.name))])])})),0)])])},a=[],o=n("b371"),s={mixins:[o["a"]]},c=s,r=(n("b80f"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"595f54cd",null);e["default"]=l.exports},9158:function(t,e,n){t.exports=n.p+"img/feed-back.a4d19c36.svg"},"931a":function(t,e,n){},"933b":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{ref:"msgRobot",staticClass:"msg-robot",class:{"special-markdown-msg-content":88===t.data.content.type}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.isTyping,expression:"isTyping"}],staticClass:"typing-placehold"},[t._v(t._s(t.$t("common_typing")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTyping,expression:"!isTyping"}]},[e("div",{staticClass:"msg-robot-bd"},[e("div",{ref:"msgContent",staticClass:"msg-content",class:t.contentFold?"content-fold":""},[2==t.data.content.type?e("qlist-msg",{attrs:{message:t.data}}):4===t.data.content.type?e("free-msg",{attrs:{message:t.data}}):5===t.data.content.type?e("html-msg",{attrs:{message:t.data}}):6===t.data.content.type?e("batch-msg",{attrs:{message:t.data}}):17===t.data.content.type?e("table-msg",{attrs:{message:t.data,contentFold:t.contentFold}}):7===t.data.content.type?e("model-msg",{attrs:{message:t.data}}):88===t.data.content.type?e("markdown-msg",{attrs:{message:t.data},on:{contentUpdate:t.contentUpdate}}):e("msg-unknown")],1),t.contentFold?e("div",{staticClass:"unfold-cnt-btn",on:{click:t.unfold}},[e("span",[t._v(t._s(t.$t("chat_graphic_msg_viewdmore_text")))]),t._m(0)]):t._e()]),t.showTailBtns?e("div",{staticClass:"vote-box"},[t.showVote?[2===t.voteData.type?[t.voteData.active?t._l(t.voteData.button,(function(n){return e("span",{key:n.key,staticClass:"vote-text active",class:n.key===t.voteData.active?"vote-active-"+n.key:"vote-inactive-"+n.key},[e("span",{staticClass:"vote-text-content",class:n.key===t.voteData.active?"vote-text-active":"vote-text-inactive"},[t._v(t._s(n.text))])])})):t._l(t.voteData.button,(function(n){return e("span",{key:n.key,staticClass:"vote-text",class:"vote-"+n.key,on:{click:function(e){return t.doVote(n)}}},[e("span",{staticClass:"vote-text-content"},[t._v(t._s(n.text))])])}))]:[t.voteData.active?t._l(t.voteData.button,(function(n){return e("span",{key:n.key,staticClass:"vote-icon active",class:n.key===t.voteData.active?"vote-active-"+n.key:"vote-inactive-"+n.key})})):t._l(t.voteData.button,(function(n){return e("span",{key:n.key,staticClass:"vote-icon",class:"vote-"+n.key,on:{click:function(e){return t.doVote(n)}}})}))]]:t._e(),t.showVote&&t.isAiCreatedMsg?e("span",{staticClass:"split-line"}):t._e(),t.isAiCreatedMsg?[e("v-webim-tip",{ref:"aiTip",attrs:{placement:"top-start"}},[t._v(t._s(t.$t("ai_msg_tip")))]),t.$platform.pc?e("span",{directives:[{name:"webim-tip",rawName:"v-webim-tip:aiTip.hover",arg:"aiTip",modifiers:{hover:!0}}],staticClass:"ai-tip"}):e("span",{directives:[{name:"webim-tip",rawName:"v-webim-tip:aiTip.click",arg:"aiTip",modifiers:{click:!0}}],staticClass:"ai-tip"})]:t._e()],2):t._e(),t.suggestionOptionShow?e("SuggestionOption",{attrs:{optionList:t.optionList,optionSubmitData:t.optionSubmitData,show:t.suggestionOptionShow},on:{close:function(e){t.suggestionOptionShow=!1},"update:show":function(e){t.suggestionOptionShow=e}}}):t._e(),t.showQuickQuestions?e("div",{ref:"quickQuestions",staticClass:"quick-questions-box",style:t.showQuickQuestionsStyle},t._l(t.quickQuestions,(function(n,i){return e("div",{key:i},[e("div",{staticClass:"quick-question",on:{click:function(e){return t.onClickMsg(n.question)}}},[t._m(1,!0),e("div",[t._v(t._s(n.question))])])])})),0):t._e()],1)])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"arrow-down-box"},[e("img",{staticClass:"arrow-down icon-primay",attrs:{src:n("f45a")}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"quick-question-icon"},[e("i")])}],o=n("5530"),s=(n("7db0"),n("e9f5"),n("f665"),n("7d54"),n("e9c4"),n("a9e3"),n("b680"),n("b64b"),n("d3b7"),n("ac1f"),n("5319"),n("5087"),n("159b"),n("5ac5")),c=n("9ec0"),r=n("f5db"),l=n("8c50"),d=n.n(l);function u(t,e){d()(t,e,"click",(function(t){var e=t.delegateTarget,n=e.getAttribute("src");s["a"].$PictureViewer.show({showPhotoPreView:!0,photoUrls:[n],photoPreviewIndex:[n].length-1,closeOnClickMask:!1})}))}var m=n("7b05"),f=(n("13d5"),n("9485"),n("ddb0"),n("20ff")),h=f.keys().reduce((function(t,e){var n=Object(o["a"])({},t),i=f(e).default,a=e.replace("./","").replace(".vue","");return n[a]=i,n}),{}),p=h,g=n("6d51"),v=(n("b0c0"),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"suggestion-option",class:{mobile:t.isMobile,pc:!t.isMobile,"single-page":t.isSinglePage,"disable-option":t.isSubmited}},[e("div",{staticClass:"suggestion-option-mask"}),e("div",{staticClass:"suggestion-option-container animate__animated animate-quick",class:t.h5SlideClass},[e("div",{staticClass:"suggestion-option-header"},[e("div",[t._v("您的反馈会帮助我们优化服务")]),t.isSinglePage?t._e():e("div",{staticClass:"suggestion-option-tool",on:{click:t.closeOption}},[e("span",{staticClass:"suggestion-option-close"})])]),e("div",{staticClass:"suggestion-option-body"},t._l(t.optionList,(function(n,i){return e("div",{key:i},[e("div",{staticClass:"suggestion-option-sub-header"},[t._v(" "+t._s(n.name)+" ")]),e("div",{staticClass:"suggestion-option-sub-container"},t._l(n.subList,(function(n,a){return e("div",{key:i+"-"+a,staticClass:"suggestion-option-sub-item",class:{"selected-item":t.selectedOptions.indexOf(n)>-1},on:{click:function(e){return t.selectOption(n)}}},[t._v(" "+t._s(n)+" ")])})),0)])})),0),e("div",{staticClass:"suggestion-option-footer"},[e("button",{staticClass:"suggestion-option-button submit-btn",on:{click:t.submitOption}},[t._v(" "+t._s(t.isSubmited?"已反馈":"提交"))]),t.isMobile||t.isSinglePage?t._e():e("button",{staticClass:"suggestion-option-button cancel-btn",on:{click:t.closeOption}},[t._v("取消")])])])])])}),b=[],_=(n("99af"),n("14d9"),n("a434"),n("bc3a")),w=n.n(_),y={name:"suggestionOption",props:{show:{type:Boolean,default:!1},isSinglePage:{type:Boolean,default:!1},optionList:{type:Array,default:[]},optionSubmitData:{type:Object,default:{}}},data:function(){return{selectedOptions:[],isOpening:!1,isSubmiting:!1,isSubmited:!1}},watch:{show:{handler:function(t){this.isOpening=t},immediate:!0}},computed:{isMobile:function(){var t;return!(null!==(t=this.$platform)&&void 0!==t&&t.pc)},h5SlideClass:function(){var t="";return this.isMobile&&(this.isOpening?t+="animate__slideInUp":t+="animate__slideOutDown"),t}},mounted:function(){},methods:{closeOption:function(){var t=this;this.isOpening=!1;var e=this.isMobile?300:0;setTimeout((function(){t.$emit("close")}),e)},selectOption:function(t){if(!this.isSubmiting&&!this.isSubmited){var e=this.selectedOptions.indexOf(t);e>-1?this.selectedOptions.splice(e,1):this.selectedOptions.push(t)}},submitOption:function(){var t=this;if(0!==this.selectedOptions.length){if(!this.isSubmiting&&!this.isSubmited){this.isSubmiting=!0;var e="".concat(this.optionSubmitData.domain,"/robot/satisfaction/reason?kfuin=").concat(this.optionSubmitData.kfuin);w.a.post(e,{reason:this.selectedOptions,kfuin:this.optionSubmitData.kfuin,robotId:this.optionSubmitData.robotId,recordId:this.optionSubmitData.recordId}).then((function(e){var n;if(0===(null===(n=e.data)||void 0===n?void 0:n.code))if(t.isSinglePage)t.isSubmited=!0,t.$Toast("提交成功",1500,document.body);else{var i=t.isMobile?350:10;setTimeout((function(){t.$Toast("提交成功",1500,document.body)}),i),t.closeOption()}else t.$Toast("提交失败, ".concat(e.data.msg||"请稍后再试"),1500,document.body),console.log("提交错误")})).catch((function(){t.$Toast("提交失败, 请稍后再试",1500,document.body)})).finally((function(){t.isSubmiting=!1}))}}else this.$Toast("请至少选择一项",1500,document.body)}}},x=y,C=(n("aaa1"),n("2877")),T=Object(C["a"])(x,v,b,!1,null,"9faaac1a",null),k=T.exports,I=n("9de0"),M=n("4886"),A=I["b"].create(),S=M["a"].getSDKDomain(),q={inject:["globalData","wpaDetail","switchMsgDisplay","to","transferRobotMsg"],components:Object(o["a"])(Object(o["a"])({},p),{},{MsgUnknown:g["default"],SuggestionOption:k}),props:{data:Object},data:function(){return{contentFold:!1,typingFinished:!1,typingTimer:null,resizeFun:null,quickQuestionsMinWidth:0,suggestionOptionShow:!1,optionList:[],optionSubmitData:{},doVoteLoading:!1}},computed:{isTyping:function(){var t=this.globalData.robotDelay;return!this.data.fromHisotry&&t.switch&&t.current===this.data.seq&&!this.typingFinished},showVote:function(){if(this.globalData.robotMsgSetting&&this.globalData.robotMsgSetting.disabledVote)return!1;var t=this.data,e=t.time,n=t.content;if(console.log("[vote]",n.vote),!n.vote)return!1;var i=n.vote.expiredIntervalTime;return Date.now()-e<i},msgRobotid:function(){try{var t=this.data.crm.msg_webim_extra_data,e=t.uint64_robotid;return e}catch(n){return 0}},templateId:function(){var t;return null===(t=this.data)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.templateId},voteData:function(){var t=this.data.content.vote,e=A.getMessageTags(this.data),n=e.find((function(t){return"satisfaction"===t.tag}));if(n)try{Object.assign(t,JSON.parse(n.value))}catch(i){}return t},isAiCreatedMsg:function(){var t;return null===this||void 0===this||null===(t=this.data)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.ai_reply)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.is_llm_generated},isMsgComplete:function(){var t,e;return 88!==(null===this||void 0===this||null===(t=this.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.type)||(null===(e=this.data)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.is_final)},showTailBtns:function(){var t=this.isMsgComplete&&(this.showVote||this.isAiCreatedMsg);return t},quickQuestions:function(){var t,e=[];if(88===(null===this||void 0===this||null===(t=this.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.type)){var n,i,a=null===this||void 0===this||null===(n=this.data)||void 0===n||null===(n=n.content)||void 0===n||null===(n=n.ai_events)||void 0===n?void 0:n.find((function(t){return"recommended"===t.type}));e=(null===a||void 0===a||null===(i=a.payload)||void 0===i?void 0:i.recommendeds)||[]}return e},showQuickQuestions:function(){var t,e,n=88===(null===this||void 0===this||null===(t=this.data)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.type)&&!this.data.fromHisotry&&this.isMsgComplete&&(null===(e=this.data)||void 0===e?void 0:e.isLatestMsgForMarkdown)&&this.quickQuestions.length>0;return n},showQuickQuestionsStyle:function(){var t="";return this.showTailBtns?t+="margin-top: 60px;":t+="margin-top: 20px;",t+="width:".concat(this.quickQuestionsMinWidth,"px;"),t}},watch:{"globalData.robotDelay.current":{handler:function(t){t!==this.data.seq&&(clearTimeout(this.typingTimer),this.typingFinished=!0,this.switchMsgDisplay(this.data.seq,"show"))},deep:!0},isTyping:function(){var t=this;this.$nextTick((function(){t.isTyping||(t.checkIfNeedFold(),s["a"].scrollToBottom())}))}},created:function(){},mounted:function(){var t=this;this.globalData.robotDelay.current=this.data.seq;var e=this.getDelayTime();if(this.typingTimer=setTimeout((function(){t.typingFinished=!0,t.switchMsgDisplay(t.data.seq,"show"),t.transferRobotMsg({status:"show",seq:t.data.seq,data:t.data})}),1e3*e),this.transferRobotMsg({status:"receive",seq:this.data.seq,data:this.data}),this.$nextTick((function(){t.isTyping||t.checkIfNeedFold(),t.handleContentClick()})),this.$watch((function(){return this.showTailBtns}),(function(t){var e=this;t&&this.$nextTick((function(){e.setContainerHeight(),e.setCardVoteHeight(),e.onLoad()}))}),{immediate:!0}),this.changeQuickQuestionsMinWidth(),this.$watch((function(){return this.showQuickQuestions}),(function(t){var e=this;t?this.$nextTick((function(){var t=e.$refs.quickQuestions.offsetHeight;e.$emit("changeCustomStyle","padding-bottom:".concat(t,"px")),e.onLoad()})):this.$emit("changeCustomStyle","")}),{immediate:!0}),this.resizeFun=function(){t.changeQuickQuestionsMinWidth(),t.$nextTick((function(){if(t.showQuickQuestions){var e=t.$refs.quickQuestions.offsetHeight;t.$emit("changeCustomStyle","padding-bottom:".concat(e,"px"))}}))},window.addEventListener("resize",this.resizeFun),88===this.data.content.type){if(!this.$el)return;var n=this.$el.parentNode.closest(".msg-side");n&&n.classList&&n.classList.add("robot-item-markdown")}},methods:{setContainerHeight:function(){if(this.$el){var t=this.$el.parentNode.closest(".msg-side");t&&t.classList&&t.classList.add("robot-item-container")}},setCardVoteHeight:function(){if(this.$el&&3===this.templateId){var t=this.$el.querySelector(".vote-box");t&&t.classList&&t.classList.add("robot-card-vote");var e=this.$el.parentNode.closest('[seq="'.concat(this.data.seq,'"]'));e&&e.classList&&e.classList.add("robot-card-vote-container")}},checkIfNeedFold:function(){var t=this;if((!this.globalData.robotMsgSetting||!this.globalData.robotMsgSetting.disabledFold)&&!this.isNoSupportFold()){var e=this.$refs.msgContent,n=e.offsetHeight,i=e.querySelectorAll("img");i.forEach((function(i){i.onload=function(){n=e.offsetHeight,t.refreshFoldState(n),t.onLoad()}})),this.refreshFoldState(n),this.onLoad()}},isNoSupportFold:function(){return 7===this.data.content.type||88===this.data.content.type},refreshFoldState:function(t){var e=320;this.contentFold=t>=e},unfold:function(){this.contentFold=!1},doVote:function(t){var e=this;if(!this.doVoteLoading){this.doVoteLoading=!0;var n=t.key,i="down"===n?1:2,a=this.wpaDetail.kfuin,o=this.voteData.channelType?this.voteData.channelType:0,s="/robot/satisfaction/report",c={kfuin:Number(a),cid:this.to.user_id,robotid:Number(this.msgRobotid),seq:this.voteData.id,type:i,channelType:o};this.$ajax.get(s,{params:c}).then((function(t){e.doVoteLoading=!1;var o=t.data;0===o.code?(e.$set(e.data.content.vote,"active",n),e.storeDateToMsg({active:n}),1===i&&o.data&&o.data.can_popup&&o.data.record_id&&(e.optionSubmitData={recordId:o.data.record_id,robotId:o.data.robot_id||Number(e.msgRobotid),domain:S.api,kfuin:Number(a)},e.getSuggestionOptionList())):console.log("[robot-msg-vote-fail]",o)})).catch((function(t){e.doVoteLoading=!1,console.log("[robot-msg-vote-error]",t)}))}},getSuggestionOptionList:function(){var t=this,e="/robot/satisfaction/reasonList",n=this.wpaDetail.kfuin;this.$ajax.get(e,{params:{kfuin:Number(n)}}).then((function(e){var n;null!==(n=e.data)&&void 0!==n&&n.list&&(t.optionList=e.data.list,t.suggestionOptionShow=!0)}))},storeDateToMsg:function(t){console.log("[storeDateToMsg]",t),A.setMessageTags(this.data,[{tag:"satisfaction",value:JSON.stringify(t)}])},getDelayTime:function(){var t=this.globalData.robotDelay.time,e=this.getDelayWord();return e<=30?(t/4).toFixed(1):e<=100?(t/2).toFixed(1):e<=300?(t/4*3).toFixed(1):t},getDelayWord:function(){var t=this.data.content,e=t.content||"";4===t.type||5===t.type?e=t.content||"":6===t.type&&(e=t.answer.content||""),e=Object(c["b"])(e);var n=e.replace(/<[^>]+>/g,"").replace(/\[f_(.*?)\]/g,"").length;return n},handleContentClick:function(){Object(r["a"])(this.$refs.msgRobot,".msg-content a",{callback:function(t){console.log("[link-click]",t)},options:{robotId:this.msgRobotid}}),this.isNoSupportViewImag()||u(this.$refs.msgRobot,".msg-content img")},isNoSupportViewImag:function(){return 7===this.data.content.type},onLoad:function(){this.$nextTick((function(){Object(m["a"])()<m["b"]&&s["a"].scrollToBottom(!0,500)}))},contentUpdate:function(){this.onLoad()},onClickMsg:function(t){t&&s["a"].sendTextMessage(t)},changeQuickQuestionsMinWidth:function(){var t=this.$el.parentNode.closest(".msg-contianer");t&&(this.quickQuestionsMinWidth=t.offsetWidth)}},beforeDestroy:function(){this.resizeFun&&window.removeEventListener("resize",this.resizeFun)}},O=q,D=(n("f8b2"),n("abe6"),Object(C["a"])(O,i,a,!1,null,"02bc0692",null));e["default"]=D.exports},"947c":function(t,e,n){},"94a86":function(t,e,n){"use strict";n("6eed")},"94ea":function(t,e,n){"use strict";n.d(e,"b",(function(){return M})),n.d(e,"a",(function(){return A}));n("d9e2"),n("99af"),n("a15b"),n("14d9"),n("ac1f"),n("00b4");var i=n("8a2f"),a={render:function(t,e){var n=t.props,a=n.attrs,o=n.style,s=n.action,c=Object.assign({},o),r=a.orientation,l=void 0===r?"horizontal":r;if(c.display="flex","horizontal"===l?c.flexDirection="row":"vertical"===l&&(c.flexDirection="column"),"none"===o.display&&(c.display="none"),"vertical"===l&&(o.justifyContent&&("center"===o.justifyContent?(c.alignItems="center",c.textAlign="center"):"flex-start"===o.justifyContent?(c.alignItems="flex-start",c.textAlign="left"):"flex-end"===o.justifyContent&&(c.alignItems="flex-end",c.textAlign="right"),o.alignItems||delete c.justifyContent),o.alignItems&&("center"===o.alignItems?c.justifyContent="center":"flex-start"===o.alignItems?c.justifyContent="flex-start":"flex-end"===o.alignItems&&(c.justifyContent="flex-end"),o.justifyContent||delete c.alignItems)),"browser"===s.actionCmd||"web"===s.actionCmd){var d="javascript:;",u=/^http(s)?/.test(s.actionData)?s.actionData:d;return u===d&&s.appPath&&(u="qdweb://webim/launch/navigatorToMiniprogram?appPath=".concat(s.appPath)),'<div class="msg-xml-container"><a '.concat(u===d?"":'target="_blank"',' href="').concat(u,'" style="').concat(Object(i["c"])(c),'">').concat(e,"</a></div>")}return'<div class="msg-xml-container"><div style="'.concat(Object(i["c"])(c),'">').concat(e,"</div></div>")}},o=a;n("5319");function s(t){return"".concat(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/=/g,"&#61;").replace(/`/g,"&#96;")}var c=n("6cd4"),r=n("2ca8"),l=n("2b0e");function d(t){var e={},n=t.split("|");return~n.indexOf("bold")&&(e.fontWeight="bold"),~n.indexOf("italic")&&(e.fontStyle="italic"),~n.indexOf("underline")&&(e.textDecoration="underline"),~n.indexOf("delete")&&(e.textDecoration="line-through"),e}var u={render:function(t){var e,n=t.props,a=n.attrs,o=n.style,u=n.action,m=a.color,f=a.size,h=a.style,p=a.overflow,g=void 0===p?"dot":p,v=a.maxLine,b=void 0===v?0:v,_=a.lineSpace,w=Object.assign({},o);if(m&&(w.color=Object(i["a"])(m)),f&&(w.fontSize=Object(i["b"])(f)),h&&(w=Object.assign({},w,d(h))),_){var y=w.fontSize||"14px",x="".concat(parseInt(y,10)+parseInt(Object(i["b"])(_),10),"px");w.lineHeight=x}if(w.wordBreak="break-all",(g||b)&&(w.overflow="hidden",b)){var C=parseInt(w.fontSize||"14px",10),T=parseInt(w.lineHeight||"".concat(1.5*C,"px"),10),k="".concat(T*b,"px");w.maxHeight=k,w.display="-webkit-box",w.WebkitBoxOrient="vertical",w.WebkitLineClamp=b}return"browser"!==u.actionCmd&&"web"!==u.actionCmd&&"plugin"!==u.actionCmd||!u.actionData||"javascript:;"===u.actionData?u.type?'<div title="'.concat(s(String(a.text)),'" style="').concat(Object(i["c"])(w),'" ').concat(c["b"],'="').concat(u.type,'" ').concat(c["a"],'="').concat(u.fun,'">').concat(s(String(a.text)),"</div>"):'<div title="'.concat(s(String(a.text)),'" style="').concat(Object(i["c"])(w),'">').concat(s(String(a.text)),"</div>"):"web"===u.actionCmd&&u.actionData&&"javascript:;"!==u.actionData&&0!==u.actionData.indexOf("http")&&a&&a.url&&0===a.url.indexOf("http")?null!==(e=l["a"].prototype.$platform)&&void 0!==e&&e.PcWechatMiniProgram?'<a target="_blank" href="'.concat(u.actionData,'" style="').concat(Object(i["c"])(w),'" title="').concat(s(String(a.text)),'" onclick="window.open(\'').concat(Object(r["a"])(a.url),"', '_self')\">").concat(s(String(a.text)),"</a>"):'<a target="_blank" href="'.concat(u.actionData,'" style="').concat(Object(i["c"])(w),'" title="').concat(s(String(a.text)),'" onclick="window.open(\'').concat(Object(r["a"])(a.url),"')\">").concat(s(String(a.text)),"</a>"):'<a target="_blank" href="'.concat(u.actionData,'" style="').concat(Object(i["c"])(w),'" title="').concat(s(String(a.text)),'">').concat(s(String(a.text)),"</a>")}},m=u,f={width:404,height:404},h=function(t){var e="";for(var n in t){var i=void 0!==t[n]?t[n]:"";e+="&".concat(n,"=").concat(encodeURIComponent(i))}return""!==e?e.substring(1):""},p=function(t,e){if(t.indexOf("data:image")>-1)return t;var n=t.indexOf("?")>-1,i=h(e);return t+=(n?"&":"?")+i,t},g={render:function(t){var e=t.props,n=e.attrs,a=e.style,o=e.action,s=a.width,r=a.height,l=p(n.src,f);return o.type?'<div style="'.concat(Object(i["c"])(a),'" ').concat(c["a"],'="').concat(o.type,'" ').concat(c["b"],'="').concat(o.eventType,'"><img style="width: ').concat(s,"; height: ").concat(r,';" src="').concat(l,'" title="').concat(n.toolTip||"",'" /></div>'):'<div style="'.concat(Object(i["c"])(a),'"><img style="width: ').concat(s,"; height: ").concat(r,';" src="').concat(l,'" title="').concat(n.toolTip||"",'" /></div>')}},v=g,b={render:function(t,e){var n,a=t.props,o=a.attrs,s=a.style,c=a.action,d=Object.assign({},s),u=o.orientation,m=void 0===u?"horizontal":u;if(d.display="flex","horizontal"===m?d.flexDirection="row":"vertical"===m&&(d.flexDirection="column"),"none"===s.display&&(d.display="none"),"vertical"===m&&(s.justifyContent&&("center"===s.justifyContent?(d.alignItems="center",d.textAlign="center"):"flex-start"===s.justifyContent?(d.alignItems="flex-start",d.textAlign="left"):"flex-end"===s.justifyContent&&(d.alignItems="flex-end",d.textAlign="right"),s.alignItems||delete d.justifyContent),s.alignItems&&("center"===s.alignItems?d.justifyContent="center":"flex-start"===s.alignItems?d.justifyContent="flex-start":"flex-end"===s.alignItems&&(d.justifyContent="flex-end"),s.justifyContent||delete d.alignItems)),("browser"===c.actionCmd||"web"===c.actionCmd||"plugin"===c.actionCmd)&&c.actionData&&"javascript:;"!==c.actionData)return"web"===c.actionCmd&&c.actionData&&"javascript:;"!==c.actionData&&0!==c.actionData.indexOf("http")&&o&&o.url&&0===o.url.indexOf("http")?null!==(n=l["a"].prototype.$platform)&&void 0!==n&&n.PcWechatMiniProgram?'<a target="_blank" href="'.concat(c.actionData,'" style="').concat(Object(i["c"])(d),'" onclick="window.open(\'').concat(Object(r["a"])(o.url),"', '_self')\">").concat(e,"</a>"):'<a target="_blank" href="'.concat(c.actionData,'" style="').concat(Object(i["c"])(d),'" onclick="window.open(\'').concat(Object(r["a"])(o.url),"')\">").concat(e,"</a>"):'<a target="_blank" href="'.concat(c.actionData,'" style="').concat(Object(i["c"])(d),'">').concat(e,"</a>");if(("browser"===c.actionCmd||"web"===c.actionCmd)&&c.appPath&&("javascript:;"===c.actionData||""===c.actionData)){var f="qdweb://webim/launch/navigatorToMiniprogram?appPath=".concat(c.appPath);return'<a target="_blank" href="'.concat(f,'" style="').concat(Object(i["c"])(d),'">').concat(e,"</a>")}return'<div style="'.concat(Object(i["c"])(d),'">').concat(e,"</div>")}},_=b,w={render:function(t,e){var n=t.props,a=n.style,o=Object.assign({},a);return'<div class="msg-xml-divider" style="'.concat(Object(i["c"])(o),'">').concat(e,"</div>")}},y=w,x={render:function(t,e){var n=t.props,a=n.attrs,o=n.style,s=Object.assign({},o),c="",r=a.expand,l=void 0===r?"0":r;return"1"===l&&(c="expand"),"none"===o.display&&(s.display="none"),'<div class="msg-xml-fold '.concat(c,'" style="').concat(Object(i["c"])(s),'">').concat(e,"</div>")}},C=x,T={render:function(t,e){var n,a=t.props,o=a.style,s=a.action,c=a.attrs,d=Object.assign({},o);return"browser"!==s.actionCmd&&"web"!==s.actionCmd&&"plugin"!==s.actionCmd||!s.actionData||"javascript:;"===s.actionData?'<div style="'.concat(Object(i["c"])(d),'">').concat(e,"</div>"):"web"===s.actionCmd&&s.actionData&&"javascript:;"!==s.actionData&&0!==s.actionData.indexOf("http")&&c&&c.url&&0===c.url.indexOf("http")?null!==(n=l["a"].prototype.$platform)&&void 0!==n&&n.PcWechatMiniProgram?'<a target="_blank" href="'.concat(s.actionData,'" style="').concat(Object(i["c"])(d),'" onclick="window.open(\'').concat(Object(r["a"])(c.url),"', '_self')\">").concat(e,"</a>"):'<a target="_blank" href="'.concat(s.actionData,'" style="').concat(Object(i["c"])(d),'" onclick="window.open(\'').concat(Object(r["a"])(c.url),"')\">").concat(e,"</a>"):'<a target="_blank" href="'.concat(s.actionData,'" style="').concat(Object(i["c"])(d),'">').concat(e,"</a>")}},k=T,I={msg:o,text:m,image:v,linear:_,divider:y,fold:C,container:k};function M(t){for(var e=t.tag,n=t.children,i=[],a=0,o=n.length;a<o;a++)i.push(M(n[a]));var s=I[e];if(s)return s.render(t,i.join(""));throw new Error("unknown tag: ".concat(e))}function A(t,e){var n=e.dir||"c2b";return'<div class="msg-'.concat(n,' msg-xml" data-guid="').concat(e.seq,'">').concat(M(t),"</div>")}},9617:function(t,e,n){t.exports=n.p+"img/markdown-url.3ec81274.svg"},"96c5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAAXNSR0IArs4c6QAABHFJREFUeAHtnTlsE0EUhv+x4+CYMwQJ6JBAFKkAQYGgAESDBKJKDxIUIFHRcAiBKCip6JCgo4moOBJAHAVQIISoQsTdIJBIOAM5vPHwxos1RnHWxpk3E2/eSNHOtf/M+/blebxrexT+Jq11Fr+/7Ad0D1V107ELUHlorSp95FiDgFKaWI0Rq2FqHaBjLwpLLyulJk3vMjw9MrICarQXGltrSEjV/xJQeAjd0aMWLPikYs8deiBw/5dinf4GcmHZNqV/DR+ALl2s012amyGgMgczf2NuM6fLOXUJ6B4CbF7QJDER6DYeTKsFSTwEdBcBpqWYJCYCKp+RdS4TWyNL7yFMDJbESEAAM8I10gJYADMTYJYXDxbAzASY5cWDBTAzAWZ58WABzEyAWV48WAAzE2CWFw9mBtzGrB/Lv70DPLsETIywD1eM6CHvxoPIde9lH6uRAfx4sCe4xmAdjeH7rbOIBq41Yj97Hz+APXhuNalSqYRv/WcQvbheXR0k7wdwANNKmiD3nUY0eDPA6HbI1AI2JsaQTyF62Wct9pxLNeAyZBMubhjItzyjjYdLPeAY8iRBPkmQaTXjOc0JwBbycUSvb3tF7GcdPJ1JuQ5g0yHb+qof+EwfUGRKpRJ58rUTWLIng7Y1O5lG+Vc2rAe3zQNWbbd/85f/OzuGUgz5GKI39xnUp0qG9eCp85lxTVuuHYsWd9bVKT06D6ymi8ucwgKmf1l8fW9NzNGHjDpXxeXJIvDjg21rMJfJZpEvzG+wN3+3sIDHfwJ9R6yVm49STD4clw346jbbq6VyYWNwS6FqbrICuDluDZ8VNkS0U6zccsxO9uNT4P3duFyk75WkIIUFnM0BK9dZjO/uAR+f23IKchIimC9iWA82S7Fqj80vsh5tQsTQILP5/PJhAU/8Au6fslaaZdqGA3FZlmmWi+SmJyAxeHo2TlrChoh5C4Ed56whr+nxzuDVuBxN2PoWzoUFnMnaew8Gonlhq7430cJgK1OXEFEhwXQM68HROL1zq7ov27E0vjdsjC3SCuPDEyaz/cmGBVwcBR7TfdlKMsu09fvikgkVKQAsIaJycZmOApgJbEU2bIjILwZ2XajMBWgv2HxKcmEBK/pFm44lKUFZ2wwJEbW5OKsVwM5Q1hYSwLW5OKsVwM5Q1hYSwLW5OKsNu4oY/QZc2ePMmNkoJB7MfFUEsABmJsAsLx6cCsBZ+hzwbEue5uTHg9funm14AU9zUnrkM3331EP6PQSM83+VtiFLzMPWQldDXWfayR/gmc60Rc/3EyJaFI6LaQtgFxQTNARwAhwXTQLYBcUEDQGcAMdFkwB2QTFBQwAnwHHRJIBdUEzQEMAJcFw0CWAXFBM0BHACHBdNAtgFxQQNAZwAx0VTBuX90FxIicYUAsSWPNhsNieJh4AeI8Dlnfx49Oe8qho2MZjvV4jmPGAMGA/uFQ5cBFSvbDnJxjbecjJT3j2VNvik7VMfco0153Qrm6bSzrTlXWkNANn2t0k3qLPt7x/RTQhxmvVRtwAAAABJRU5ErkJggg=="},"97c7":function(t,e,n){},"97e5":function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"I",(function(){return o})),n.d(e,"J",(function(){return s})),n.d(e,"D",(function(){return c})),n.d(e,"k",(function(){return r})),n.d(e,"g",(function(){return l})),n.d(e,"x",(function(){return d})),n.d(e,"i",(function(){return u})),n.d(e,"B",(function(){return m})),n.d(e,"r",(function(){return f})),n.d(e,"v",(function(){return h})),n.d(e,"H",(function(){return p})),n.d(e,"G",(function(){return g})),n.d(e,"o",(function(){return v})),n.d(e,"c",(function(){return b})),n.d(e,"A",(function(){return _})),n.d(e,"z",(function(){return w})),n.d(e,"p",(function(){return y})),n.d(e,"m",(function(){return x})),n.d(e,"t",(function(){return C})),n.d(e,"C",(function(){return T})),n.d(e,"n",(function(){return k})),n.d(e,"F",(function(){return I})),n.d(e,"s",(function(){return M})),n.d(e,"h",(function(){return A})),n.d(e,"d",(function(){return S})),n.d(e,"u",(function(){return q})),n.d(e,"l",(function(){return O})),n.d(e,"y",(function(){return D})),n.d(e,"j",(function(){return j})),n.d(e,"E",(function(){return P})),n.d(e,"w",(function(){return F})),n.d(e,"b",(function(){return R})),n.d(e,"q",(function(){return L})),n.d(e,"a",(function(){return E}));var i="/v1/receptionConf/webim/getCommonInfo",a="/v1/receptionConf/webim/getCompanyInfo",o="/v1/interface/inner/txplus_214012",s="/v1/sessionLogic/CClickNoMoreWaiting",c="/v1/kf/reception/receptionConf/leaveMessage/customerSendCaptcha",r="/v1/kf/reception/receptionConf/leaveMessage/customerMessageConfig",l="/v1/receptionConf/leaveMessage/customerMessageCreate",d="/log_processing/data_report/robot_answer_report",u="/tp/wpaCall/GetAddFriendProtocol",m="/template/blue/wpa/link.html",f="/tp/wpaCall/getWebProtocol",h="/v1/rtc/action/report",p="/v1/video/wxsdk/signature",g="/v1/video/mini_program/urlscheme",v="/v1/im_wpa/get_multi_media_conf",b="/v1/interface/inner/cloudcc_303905",_="/robot/delayReply",w="/v1/customerService/robot/getRobotAPIStyleTemplateDataList",y="/v1/commerce/c/item/get",x="/v1/interface/inner/cloudcc_303206",C="/im_msg_tracing_report",T="/v1/cantonFair/SendC2BCard",k="/v1/cantonFair/GetXmlMsgData",I="/v1/cantonFair/SwitchLanguage",M="/settings/CcXiaoWeiTTS",A="/receptionConf/digitalHuman/create",S="/receptionConf/digitalHuman/close",q="/receptionConf/digitalHuman/interrupt",O="/receptionConf/digitalHuman/sign",D="/v1/robot/auto/complete",j="/v1/form/im/detail",P="/v1/form/im/report",F="/v1/robot/urlClickReport",R="/v1/form/im/skip",L="/v1/kf/wpa/webim/getLink",E="/v1/robot/clickShoppingCart"},"985a":function(t,e,n){"use strict";n("d3dd")},9939:function(t,e,n){"use strict";n("ea4d")},9997:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-face"},[e("span",{domProps:{innerHTML:t._s(t.processedFace)}})])},a=[],o=n("d90f"),s={props:{data:Object},data:function(){return{selectedText:""}},computed:{processedFace:function(){var t=o["a"].faceTipEscape(this.data.index);return t||this.data.content}},methods:{}},c=s,r=(n("f11e"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"42cd9edf",null);e["default"]=l.exports},"9a5b":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return 14===t.templateType?e("reverso-msg",{attrs:{message:t.message}}):16===t.templateType?e("node-msg",{attrs:{message:t.message}}):t._e()},a=[],o=function(){var t=this,e=t._self._c;return 4===t.templateId||1===t.templateId?e("bubble-msg",{attrs:{message:t.message,isShowLoading:t.isShowLoading},on:{chooseItem:t.chooseItem,loadMore:t.loadMore}}):3===t.templateId?e("card-msg",{attrs:{message:t.message,isShowLoading:t.isShowLoading},on:{chooseItem:t.chooseItem,loadMore:t.loadMore}}):t._e()},s=[],c=n("5530"),r=n("c14f"),l=n("1da1"),d=(n("99af"),n("e9c4"),n("b0c0"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"bubble-list"},[e("div",{staticClass:"bubbleList-head"},[e("div",{staticClass:"bubbleList-head-tip"},[t._v(t._s(t.content.tit))])]),t.contentList&&t.contentList.length?e("div",{staticClass:"bubbleList-body"},[t.isGroupType?[t._l(t.contentList,(function(n){return[e("li",{staticClass:"bubbleList-body-head"},[e("div",{staticClass:"left"},[e("img",{staticClass:"logo",attrs:{src:n.logo,alt:""}}),e("div",{staticClass:"tit"},[t._v(t._s(n.name))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"status"},[t._v(t._s(n.status))])])]),n.subList&&n.subList.length?e("bubble-item",{attrs:{list:n.subList},on:{chooseItem:t.chooseItem}}):t._e()]}))]:e("bubble-item",{attrs:{list:t.contentList},on:{chooseItem:t.chooseItem}})],2):t._e(),t.hasNext||t.isShowLoading?e("div",{staticClass:"bubbleList-bottom"},[t.hasNext?e("div",{staticClass:"more-btn",on:{click:t.loadMore}},[t._v("查看更多")]):t.isShowLoading?e("i",{staticClass:"loading loading-s"}):t._e()]):t._e()])}),u=[],m=function(){var t=this,e=t._self._c;return e("div",t._l(t.list,(function(n){return e("div",{staticClass:"bubbleList-body-body",on:{click:function(e){return t.chooseItem(n)}}},[e("div",{staticClass:"left"},[n.logo?e("img",{staticClass:"logo",attrs:{src:n.logo}}):t._e()]),e("div",{staticClass:"right"},[n.tit?e("div",{staticClass:"m1"},[t._v(t._s(n.tit))]):t._e(),n.des?e("div",{staticClass:"m2"},[t._v(t._s(n.des))]):t._e(),e("div",{staticClass:"bottom"},[e("div",{staticClass:"bottom-left"},[t.isNumSet(n.mon)?e("div",{staticClass:"m3"},[e("span",[t._v(t._s(n.mon))])]):t._e(),t.isNumSet(n.count)?e("div",{staticClass:"m4"},[t._v("x"),e("span",[t._v(t._s(n.count))])]):t._e()]),t.isNumSet(n.much)?e("div",{staticClass:"bottom-right m4"},[e("span",[t._v(t._s(n.much))]),t._v("件已售 ")]):t._e()])])])})),0)},f=[],h={props:{list:{type:Array,default:function(){return[]}}},methods:{chooseItem:function(t){this.$emit("chooseItem",t)},isNumSet:function(t){return t||"0"===String(t)}}},p=h,g=(n("f6d3"),n("2877")),v=Object(g["a"])(p,m,f,!1,null,"a993ded8",null),b=v.exports,_={props:{message:{type:Object,default:function(){return{}}},isShowLoading:{type:Boolean,default:!1}},components:{BubbleItem:b},data:function(){return{content:{},contentList:[],tab:[],hasNext:!1,isGroupType:!0}},watch:{message:{deep:!0,handler:function(t){this.parseMessage(t)}}},mounted:function(){this.parseMessage(this.message)},methods:{loadMore:function(){this.hasNext=!1,this.$emit("loadMore",{type:"bubble"})},chooseItem:function(t){this.$emit("chooseItem",t)},parseMessage:function(t){var e,n,i=t.content.content.contentData,a=i.contentList,o=void 0===a?[]:a,s=i.tab,c=void 0===s?[]:s;this.content=null===t||void 0===t||null===(e=t.content)||void 0===e?void 0:e.content,this.hasNext=null===(n=this.content.contentData)||void 0===n?void 0:n.hasNext,this.contentList=o,this.tab=c,this.isGroupType=4===this.content.templateId}}},w=_,y=(n("fc29"),Object(g["a"])(w,d,u,!1,null,"bbe9df86",null)),x=y.exports,C=function(){var t=this,e=t._self._c;return e("div",{class:["card-container",t.isMobile?"":"pc-card"]},[e("div",{staticClass:"ac-top"},[t._v(t._s(t.content.tit))]),t.shownContentList&&t.shownContentList.length?e("div",{ref:"list",staticClass:"ac-bottom",class:[t.robotTestModeMobile?"robot-test-mobile":"normal-mobile"],on:{scroll:t.onScroll}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showLeftArrow,expression:"showLeftArrow"}],staticClass:"left-btn icon-arrow-right",on:{click:t.leftArrowClick}}),t._l(t.shownContentList,(function(n){return e("div",{staticClass:"cardList-body",on:{click:function(e){return t.chooseItem(n)}}},[n.logo?e("div",{staticClass:"top"},[e("img",{staticClass:"logo",attrs:{src:n.logo,alt:""}})]):t._e(),e("div",{staticClass:"bottom"},[e("div",{staticClass:"bottom-top"},[t._v(t._s(n.tit))]),e("div",{staticClass:"bottom-bottom"},[t.isNumSet(n.mon)?e("div",{staticClass:"m3"},[t._v(t._s(n.currencyUnit)),e("span",[t._v(t._s(n.mon))])]):t._e(),t.isNumSet(n.much)?e("div",{staticClass:"m4"},[e("span",[t._v(t._s(n.much))]),t._v("件已售")]):t._e()])])])})),t.showRightArrow?e("div",{staticClass:"right-btn icon-arrow-right",on:{click:t.rightArrowClick}}):t._e()],2):t._e()])},T=[],k=(n("fb6a"),n("6e0c")),I=n("5ac5"),M=4,A={props:{message:{type:Object,default:function(){return{}}}},computed:{isMobile:function(){return!this.$platform.pc},robotTestModeMobile:function(){return I["a"].robotTestMode&&this.isMobile},shownContentList:function(){return this.isMobile?this.contentList:this.contentList.slice(this.leftIndex,this.rightIndex+1)},showLeftArrow:function(){return!this.isMobile&&0!==this.leftIndex},showRightArrow:function(){return!this.isMobile&&(this.hasNext||this.rightIndex<this.contentList.length-1)}},data:function(){return{openPop:!0,content:{},contentList:[],leftIndex:0,rightIndex:M-1,hasNext:!0}},mounted:function(){this.setContainerHeight(),this.parseMessage(this.message)},watch:{message:{deep:!0,handler:function(t){this.parseMessage(t)}}},methods:{setContainerHeight:function(){var t=document.querySelector('[seq="'.concat(this.message.seq,'"]'));if(t){var e=this.robotTestModeMobile?"robot-card-container-test":"robot-card-container";t.classList&&t.classList.add(e)}},chooseItem:function(t){this.$emit("chooseItem",t)},loadMore:function(){this.hasNext&&this.$emit("loadMore")},onScroll:Object(k["a"])((function(){if(this.isMobile){var t=this.$refs.list;if(t){var e=t.scrollWidth,n=t.scrollLeft,i=t.offsetWidth;e-(n+i)<10&&this.loadMore()}}}),300),parseMessage:function(t){var e,n=t.content.content.contentData,i=n.contentList,a=void 0===i?[]:i,o=n.hasNext;this.content=null===(e=this.message)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.content,this.contentList=a,this.hasNext=o,this.shownContentList.length<M&&this.rightIndex<this.contentList.length-1&&(this.rightIndex=this.rightIndex+(M-this.shownContentList.length)>this.contentList.length-1?this.contentList.length-1:this.rightIndex+(M-this.shownContentList.length))},rightArrowClick:function(){this.leftIndex=this.rightIndex+1,this.rightIndex=this.rightIndex+M>this.contentList.length-1?this.contentList.length-1:this.rightIndex+M,this.shownContentList.length<M&&this.hasNext&&this.loadMore()},leftArrowClick:function(){this.rightIndex=this.leftIndex-1,this.leftIndex=this.leftIndex-M},isNumSet:function(t){return t||"0"===String(t)}}},S=A,q=(n("8d4a"),Object(g["a"])(S,C,T,!1,null,"5346765d",null)),O=q.exports,D=n("fc61"),j=n("20b7"),P={components:{BubbleMsg:x,CardMsg:O},inject:["to","wpaDetail","switchMsgDisplay"],props:{message:{type:Object,default:function(){return{}}}},computed:{templateId:function(){var t;return null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.templateId}},data:function(){return{isShowLoading:!1}},methods:{loadMore:function(){var t=arguments,e=this;return Object(l["a"])(Object(r["a"])().m((function n(){var i,a,o,s,c,l,d,u,m,f,h,p,g,v,b,_,w,y,x,C,T,k,M,A,S,q,O,D,P;return Object(r["a"])().w((function(n){while(1)switch(n.p=n.n){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:{},a=e.message.content.content,o=a.contentData.currentPage,s=a.questionId,c=void 0===s?"":s,l=a.domain,d=void 0===l?"":l,u=a.intent,m=void 0===u?"":u,f=a.tabId,h=a.pageSize,p=e.message.crm,g=p.msg_webim_extra_data,v=g.bytes_wpaid,b=void 0===v?"":v,_=g.uint64_robotid,w=void 0===_?"":_,y=p.str_session_id,x={questionId:c,domain:d,intent:m,tabId:f,pageSize:h,currentPage:o+1,robotId:w,sessionId:y,wpaId:b,corpUin:e.wpaDetail.kfuin,visitId:e.to.user_id,channelType:3},e.isShowLoading=!0,n.n=1,Object(j["a"])(x);case 1:if(C=n.v,e.isShowLoading=!1,T=C.code,k=C.msg,M=C.data,0!==+T){n.n=6;break}if(n.p=2,M.contentData){n.n=3;break}return e.$Toast("暂无更多订单"),e.message.content.content.contentData.hasNext=!1,n.a(2);case 3:A=M.contentData,S=A.contentList,q=void 0===S?[]:S,O=A.hasNext,D=A.currentPage,P=e.message.content.content.contentData.contentList.concat(q),e.message.content.content.contentData.hasNext=O,e.message.content.content.contentData.currentPage=D,e.$set(e.message.content.content.contentData,"contentList",P),"bubble"===i.type&&e.$nextTick((function(){I["a"].scrollToBottom()})),n.n=5;break;case 4:n.p=4,n.v,e.$Toast("更多数据加载失败");case 5:n.n=7;break;case 6:e.$Toast(k||"更多数据加载失败");case 7:return n.a(2)}}),n,null,[[2,4]])})))()},chooseItem:function(t){this.openPop=!1,this.switchMsgDisplay(this.message.seq,"delete"),I["a"].sendQDXMLMessage({qdxml:{content:Object(D["a"])(t),brief:"企点结构化消息"}},null,{robot_ctrl:{str_ext2robot:JSON.stringify(Object(c["a"])(Object(c["a"])({},t),{},{extRobotType:2}))}})}}},F=P,R=Object(g["a"])(F,o,s,!1,null,null,null),L=R.exports,E=function(){var t=this,e=t._self._c;return e("div",{ref:"container",class:["node-container",t.isShowLoadMoer?"limit-height":"",t.isMobile?"":"pc-node"]},[e("div",{staticClass:"title"},[t._v(t._s(t.content.title))]),e("div",{staticClass:"subTitle",attrs:{title:"content.subTitledesc"}},[t._v(t._s(t.content.subTitledesc))]),t._l(t.content.list,(function(n,i){return e("div",{staticClass:"list"},[e("div",{staticClass:"list-icon"},[e("div",{staticClass:"icon-dot"}),i!==t.content.list.length-1?e("div",{staticClass:"icon-line"}):t._e()]),e("div",{staticClass:"list-item"},[e("div",{staticClass:"item-name"},[t._v(t._s(n.name))]),e("div",{staticClass:"item-desc"},[t._v(t._s(n.desc))])])])})),t.isShowLoadMoer?e("div",{staticClass:"xml-more"},[e("div",{class:[t.isMobile?"xml-more-h5":"xml-more-pc"]}),e("div",{staticClass:"xml-more__btn",on:{click:t.loadMore}},[t._v("查看更多")])]):t._e()],2)},N=[],B={props:{message:{type:Object,default:function(){return{}}}},computed:{content:function(){return this.message.content.content.content},isMobile:function(){return!this.$platform.pc}},data:function(){return{isShowLoadMoer:!1}},mounted:function(){this.isShowLoadMoer=this.$refs.container.offsetHeight>340},methods:{loadMore:function(){this.isShowLoadMoer=!1}}},Q=B,G=(n("0eb3"),Object(g["a"])(Q,E,N,!1,null,"771d876a",null)),z=G.exports,U={props:{message:{type:Object,default:function(){return{}}}},computed:{templateType:function(){var t;return null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.type}},components:{ReversoMsg:L,NodeMsg:z}},H=U,W=Object(g["a"])(H,i,a,!1,null,null,null);e["default"]=W.exports},"9b11":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return t.errorText?e("div",[t._v(t._s(t.errorText))]):e("div",{staticClass:"msg-image-text"},[6==t.layout?e("div",{staticClass:"image-text-layout6"},[e("span",[t._v(t._s(t.jsonData.top.title))]),e("em",[t._v(t._s(t.jsonData.top.summary_time))]),e("a",{staticClass:"cover",style:{backgroundImage:"url("+t.jsonData.top.cover+")"},attrs:{target:"_blank",href:t.jsonData.top.url}}),e("strong",[t._v(t._s(t.jsonData.top.summary_content))]),e("a",{staticClass:"more",attrs:{target:"_blank",href:t.jsonData.top.url}},[t._v(t._s(t.$t("common_read_all")))])]):t._e(),5==t.layout?e("div",{staticClass:"image-text-layout5"},[e("a",{staticClass:"cover",style:{backgroundImage:"url("+t.jsonData.top.cover+")"},attrs:{target:"_blank",href:t.jsonData.top.url}},[e("span",[t._v(t._s(t.jsonData.top.title))])]),t._l(t.jsonData.list,(function(n,i){return e("a",{key:i,staticClass:"layout4",attrs:{target:"_blank",href:n.url}},[e("span",[t._v(t._s(n.title))]),e("em",{style:{backgroundImage:"url("+n.cover+")"}})])}))],2):t._e()])},a=[],o=n("c14f"),s=n("1da1"),c=(n("a15b"),n("14d9"),n("e9f5"),n("7d54"),n("b64b"),n("d3b7"),n("ac1f"),n("5319"),n("5087"),n("159b"),n("c51a")),r=n("9de0"),l=n("bc3a"),d=n.n(l),u=n("7b05"),m=n("5ac5"),f={props:{data:Object},data:function(){return{jsonData:null,layout:0,errorText:""}},computed:{},mounted:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n,i,a,s,l,u,m;return Object(o["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:if(t.data.content||t.data.path){e.n=1;break}return e.a(2);case 1:if(t.data.content){e.n=11;break}if(e.p=2,!t.data.compressed){e.n=4;break}return e.n=3,r["c"].downloadAndParseLongText(t.data,"xml");case 3:t.data.content=e.v,e.n=8;break;case 4:return e.n=5,r["c"].getDownloadUrl(t.data,r["b"].OBJTYPES.OBJ_LONGTEXT);case 5:if(n=e.v,!n){e.n=7;break}return e.n=6,d.a.get(n);case 6:i=e.v,200===i.status&&(t.data.content=i.data);case 7:case 8:e.n=10;break;case 9:e.p=9,e.v,t.errorText="[".concat(t.$t("获取消息内容异常"),"]");case 10:case 11:if(t.data.content){e.n=12;break}return t.errorText="[".concat(t.$t("获取消息内容异常"),"]"),e.a(2);case 12:a=Object(c["xml2json"])(t.data.content,{compact:!0,ignoreDeclaration:!0}),a=JSON.parse(a),s=a&&a.msg||{},l=s.item||[],u=0,m={top:{},list:[]},l.forEach&&l.forEach((function(t){if(t._attributes){var e=t._attributes.layout-0;5===e||6===e?(u=e,m.top={url:t._attributes.url||s._attributes.url,title:t.title._text,cover:t.picture._attributes.cover,brief:s._attributes.brief,summary_time:t.summary&&t.summary[0]&&t.summary[0]._text||"",summary_content:t.summary&&t.summary[1]&&t.summary[1]._text||""}):m.list.push({url:t._attributes.url,title:t.title._text,cover:t.picture._attributes.cover})}})),u&&(t.jsonData=m,t.layout=u),t.onLoad();case 13:return e.a(2)}}),e,null,[[2,9]])})))()},methods:{format:function(t){var e=new Date(t),n=e.getHours(),i=e.getMinutes(),a=e.getSeconds();return["".concat(n,":"),"".concat(i,":"),a].join("").replace(/\b(\d)\b/g,"0$1")},onLoad:function(){Object(u["a"])()<u["b"]&&m["a"].scrollToBottom(!0,500)}}},h=f,p=(n("2991"),n("2877")),g=Object(p["a"])(h,i,a,!1,null,"66ac9d84",null);e["default"]=g.exports},"9b4f":function(t,e,n){"use strict";try{console.log=function(){},console.warn=function(){},console.error=function(){},console.info=function(){}}catch(i){}},"9c76":function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{class:["more-topics",t.isMobile?"":"more-topics-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-title"},t._l(t.robotNav.subs,(function(n,i){return e("div",{key:i,staticClass:"title-wrapper",class:t.currentTab===i?"active":"",on:{click:function(e){return t.onChangeTab(i,n)}}},[e("div",{staticClass:"title-name"},[t._v(t._s(n.tit))])])})),0),e("div",{staticClass:"nav-list-wrapper"},t._l(t.robotNav.subs,(function(i,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentTab===a,expression:"currentTab === index"}],key:a,staticClass:"nav-list"},[e("div",{staticClass:"nav-list-content"},t._l(t.getPageData(i),(function(a,o){return e("div",{key:o,staticClass:"nav-item nav-link",on:{click:function(e){return t.onClick(a,{robot_nav_event_type:3,robot_nav_first_menu_id:0,robot_nav_first_menu_name:i.tit,robot_nav_second_menu_id:a.id,robot_nav_second_menu_name:a.name||a.question||""})}}},[e("div",{staticClass:"nav-item-text"},[t._v(t._s(a.name||a.question||""))]),e("img",{staticClass:"icon-arrow-right",attrs:{src:n("c3d8")}})])})),0),i.showChange?e("div",{staticClass:"nav-change"},[e("div",{staticClass:"nav-change-box",on:{click:function(e){return t.onChange(i)}}},[e("img",{staticClass:"batch-head-icon",attrs:{src:n("9fa0")}}),t._v(" 换一批 ")])]):t._e()])})),0)])])},a=[],o=n("b371"),s={mixins:[o["a"]]},c=s,r=(n("48d4"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"fff6a89a",null);e["default"]=l.exports},"9cad":function(t,e,n){},"9cdd":function(t,e,n){t.exports=n.p+"img/arrow-down.c6ecc8c8.svg"},"9d0b":function(t,e,n){"use strict";n("3faf")},"9e4a":function(t,e,n){},"9ea3":function(t,e,n){},"9ec0":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return s}));n("ac1f"),n("5319");var i=function(t){return"".concat(t).replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/'/g,"&#39;").replace(/"/g,"&#34;").replace(/=/g,"&#61;").replace(/`/g,"&#96;")};function a(t){return"".concat(t).replace(/&#38;/g,"&").replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/&#39;/g,"'").replace(/&#34;/g,'"').replace(/&#160;/g," ").replace(/&#61;/g,"=").replace(/&#96;/g,"`")}function o(t){return t.replace(/\\u[\dA-Fa-f]{4}/g,(function(t){return String.fromCharCode(parseInt(t.replace(/\\u/g,""),16))}))}function s(t){return t.replace(/&/g,"\\u0026")}},"9f4f":function(t,e,n){"use strict";n.r(e);n("99af"),n("b0c0"),n("e9c4");var i=function(){var t=this,e=t._self._c;return e("div",{class:["simple-words",t.isMobile?"":"simple-words-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-list"},t._l(t.getPageData(t.robotNav,10),(function(n,i){return e("div",{key:i,staticClass:"nav-list-link"},[5===n.action?e("message-link",{key:i,attrs:{link:{url:"qdweb://webim/message/ext2robotsendc2b?content=".concat(t.textToUnicode(n.name),"&ext=").concat(t.textToUnicode(JSON.stringify(n))),text:n.name,canClickAgain:!0}},on:{click:function(e){return t.onClick(n,{robot_nav_msg_dir:1})}}}):e("div",{key:i,staticClass:"nav-item"},[e("div",{staticClass:"nav-link",on:{click:function(e){return t.onClick(n)}}},[t._v(t._s(n.name))])])],1)})),0),t.robotNav.showChange?e("div",{staticClass:"nav-change"},[e("div",{staticClass:"nav-change-box",on:{click:function(e){return t.onChange(t.robotNav)}}},[e("img",{staticClass:"batch-head-icon",attrs:{src:n("9fa0")}}),t._v(" 换一批 ")])]):t._e()])])},a=[],o=n("b371"),s=n("88ab"),c=n("9ec0"),r={mixins:[o["a"]],components:{MessageLink:s["a"]},methods:{textToUnicode:function(t){return Object(c["d"])(t)}}},l=r,d=(n("5bb4"),n("2877")),u=Object(d["a"])(l,i,a,!1,null,"6929f6ff",null);e["default"]=u.exports},"9fa0":function(t,e,n){t.exports=n.p+"img/changeBatch.27ef8fb7.svg"},"9fa6":function(t,e,n){t.exports=n.p+"img/video.94c67cce.svg"},a071:function(t,e,n){},a0e52:function(t,e,n){"use strict";n("50d6")},a220:function(t,e,n){},a253:function(t,e,n){"use strict";n("7d8e")},a273:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"richmsg-type-5"},[e("div",{domProps:{innerHTML:t._s(t.msgContent)}})])])},a=[],o=n("f439"),s=n("d90f"),c={props:{message:{type:Object,default:function(){return{}}}},data:function(){var t=this.message.content,e=s["a"].coverEmojIndex2EmojiImg(Object(o["a"])(t.content||""));return{msgData:t,msgContent:e}}},r=c,l=(n("6866"),n("2877")),d=Object(l["a"])(r,i,a,!1,null,"6e2c4051",null);e["default"]=d.exports},a33c:function(t,e){t.exports="data:image/png;base64,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"},a3a7:function(t,e,n){"use strict";n("3fed")},a3d9:function(t,e,n){"use strict";n.r(e);n("99af"),n("fb6a");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"goods-side-slip-box",class:t.isMobile?"h5":"pc"},[e("div",{staticClass:"side-slip"},t._l(t.message.data,(function(n,i){return e("div",{key:i,staticClass:"side-slip__item"},[e("div",{staticClass:"side-slip__content",on:{click:function(e){return t.jumpLinkUrl(n.jumpURL,n.shareAppPath)}}},[e("div",{staticClass:"side-slip__img"},[e("img",{attrs:{src:n.image}})]),e("div",{staticClass:"side-slip__info"},[e("div",{staticClass:"side-slip__title"},[t._v(" "+t._s(n.title?n.title:"")+" ")]),n.price||n.sales?e("div",{staticClass:"side-slip__sale"},[n.price?e("div",{staticClass:"side-slip__price"},[t._v(" "+t._s("".concat(n.currencyUnit?n.currencyUnit:"¥"," ").concat(n.price))+" ")]):t._e(),n.sales?e("div",{staticClass:"side-slip__desc"},[t._v(" "+t._s(n.sales)+"件已售 ")]):t._e()]):t._e()])]),n.customBtn&&n.customBtn.length?e("div",{staticClass:"side-slip__btn"},t._l(n.customBtn.slice(0,2),(function(i,a){return e("div",{key:a,class:["side-slip__btn-item",0===a&&n.customBtn.length>1?"first-btn":"second-btn"],on:{click:function(e){return t.handleClick(i,n.id)}}},[i.icon?e("img",{attrs:{src:i.icon}}):e("span",[t._v(t._s(i.text.slice(0,2)))])])})),0):t._e()])})),0),t.message.customLink&&t.message.customLink.length?e("div",{staticClass:"slide-bottom"},t._l(t.message.customLink,(function(n,i){return e("div",{key:i,staticClass:"slide-bottom__item",on:{click:function(e){return t.jumpLinkUrl(n.jumpURL,n.shareAppPath)}}},[t._v(" "+t._s(n.title.slice(0,20))+" ")])})),0):t._e()])},a=[],o=(n("b64b"),n("5087"),n("2ca8")),s=n("f5db"),c=n("7273"),r={props:{data:Object},data:function(){return{message:""}},computed:{isMobile:function(){return!this.$platform.pc}},mounted:function(){var t="string"===typeof this.data.content.content?JSON.parse(this.data.content.content):this.data.content.content;t.data||t.customLink?this.message={data:t.data.slice(0,4),customLink:t.customLink.slice(0,2)}:this.message={data:t.slice(0,4)}},methods:{jumpLinkUrl:function(t,e){var n;t?null!==(n=this.$platform)&&void 0!==n&&n.PcWechatMiniProgram?window.open(Object(o["a"])(t),"_self"):window.open(Object(o["a"])(t),"_blank"):e&&Object(c["a"])(e)},handleClick:function(t,e){var n="qdweb://webim/message/operateRobotXmlMsg?type=".concat(t.type,"&id=").concat(e,"&url=").concat(t.url,"&scene=1");Object(s["b"])(n)}}},l=r,d=(n("7096"),n("2877")),u=Object(d["a"])(l,i,a,!1,null,"00bddabc",null);e["default"]=u.exports},a4cc:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("popup",{ref:"popup",class:[t.isMobile?"h5":"pc",{"form-pre":t.formParams.isPre}],attrs:{show:t.openPop,title:t.title,showClose:!t.formParams.isPre},on:{"update:show":[function(e){t.openPop=e},t.close]}},[t.isMobile?e("consult-form-for-h5",{attrs:{formParams:t.formParams,requestDomain:t.domain,source:"popup"},on:{updateFormTitle:t.updateFormTitle,onFormSubmit:t.onFormSubmit,skipForm:t.skipForm}}):e("consult-form-for-pc",{attrs:{formParams:t.formParams,requestDomain:t.domain,source:"popup"},on:{updateFormTitle:t.updateFormTitle,onFormSubmit:t.onFormSubmit,skipForm:t.skipForm}})],1)},a=[],o=(n("99af"),n("7db0"),n("13d5"),n("b0c0"),n("e9f5"),n("f665"),n("9485"),n("a9e3"),n("b64b"),n("d3b7"),n("5087"),n("7dc1")),s=n("1cdc"),c=n("d9b1"),r=n("4886"),l=n("9de0"),d=n("5ac5"),u=l["b"].create(),m=r["a"].getSDKDomain(),f={components:{Popup:o["a"],ConsultFormForH5:s["a"],ConsultFormForPc:c["a"]},computed:{isMobile:function(){return!this.$platform.pc}},inject:["globalData","wpaDetail","to"],data:function(){var t,e,n,i,a;return{openPop:!1,title:"",formParams:{kfext:null===this||void 0===this||null===(t=this.globalData)||void 0===t||null===(t=t.reception)||void 0===t?void 0:t.extuin,wpaId:null===this||void 0===this||null===(e=this.wpaDetail)||void 0===e?void 0:e.wpaId,isPre:!1,uk:"",channelID:null===u||void 0===u||null===(n=u.config)||void 0===n?void 0:n.channelType,custID:null===this||void 0===this||null===(i=this.to)||void 0===i?void 0:i.user_id,formID:null===this||void 0===this?void 0:this.formId,kfuin:null===this||void 0===this||null===(a=this.wpaDetail)||void 0===a?void 0:a.kfuin},domain:m.api,isShowSubmited:!0}},methods:{show:function(t){var e=this;setTimeout((function(){var n,i,a,o,s;e.openPop=!0;var c=t.formId,r=void 0===c?"":c,l=t.grayMsgSeq,d=void 0===l?"":l,m=t.uk,f=void 0===m?"":m,h=t.isPre,p=void 0!==h&&h;e.connectionGrayMsgSeq=d,e.formParams={uk:f,isPre:!!Number(p),formId:r,kfext:null===e||void 0===e||null===(n=e.globalData)||void 0===n||null===(n=n.reception)||void 0===n?void 0:n.extuin,wpaId:null===e||void 0===e||null===(i=e.wpaDetail)||void 0===i?void 0:i.wpaId,channelID:null===u||void 0===u||null===(a=u.config)||void 0===a?void 0:a.channelType,custID:null===e||void 0===e||null===(o=e.to)||void 0===o?void 0:o.user_id,kfuin:null===e||void 0===e||null===(s=e.wpaDetail)||void 0===s?void 0:s.kfuin}}),400)},close:function(){this.openPop=!1},onFormSubmit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getFormTextMsgContent(t.submitData);d["a"].sendTextMessage(e),d["a"].splitGrayMsgContent(this.connectionGrayMsgSeq),this.close()},getFormTextMsgContent:function(t){try{var e=t.reduce((function(t,e){var n="";if(e.encrypted)n="****";else switch(e.type){case 6:case 7:var i=e.options.find((function(t){return t.value===e.value}));n=i?i.text:"";break;case 8:var a=JSON.parse(e.value);n=Array.isArray(a)?a.reduce((function(t,e){return"".concat(t,"\n   ● ").concat(e)}),""):"";break;default:n=e.value;break}var o="- ".concat(e.name,": ").concat(n,"\n");return t+o}),"");return"我已提交表单“".concat(this.title,"”\n").concat(e)}catch(n){return"我已提交表单".concat(this.title)}},updateFormTitle:function(t){this.title=t},skipForm:function(){this.close()}}},h=f,p=(n("d103"),n("2877")),g=Object(p["a"])(h,i,a,!1,null,"21fe524f",null);e["a"]=g.exports},a4e3:function(t,e,n){"use strict";n("ee7c")},a7b6:function(t,e,n){},a7cb:function(t,e,n){},a7d8:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return t.queueNum>=0?e("div",{staticClass:"wait-pool"},[e("div",{staticClass:"wait-pool-container"},[e("img",{staticClass:"wait-pool-container-header",attrs:{src:"https://bqq.gtimg.com/CDN/source/images/webim/customer-service-avatar.png"}}),e("div",{ref:"msgContent",staticClass:"wait-pool-container-content",domProps:{innerHTML:t._s(t.content)}})]),t.showInfo.isAllowExitQueue||t.leaveMessage?e("div",{staticClass:"exit-queue-btn"},[e("div",{staticClass:"exit-queue-btn-text",class:{"primary-color":t.leaveMessage},on:{click:t.exitQueue}},[t._v(" "+t._s(t.leaveMessage?t.$t("不等了，去留言"):t.$t("exit_queque_btn"))+" ")])]):t._e()]):t._e()},a=[],o=(n("99af"),n("e9c4"),n("a9e3"),n("ac1f"),n("5319"),n("5ac5")),s=n("d90f"),c=n("f5db"),r=n("7b05"),l=n("97e5"),d=n("126a"),u={props:{showInfo:{type:Object,default:function(){return{}}}},data:function(){return{content:"",queueNum:-1,requestId:null,visibleFunction:null,hasInitDelegations:!1,isNeedScorll:!1,errNum:0,leaveMessage:!1,isClicking:!1}},mounted:function(){var t=this;setTimeout((function(){Object(r["a"])()<r["b"]?t.isNeedScorll=!0:t.isNeedScorll=!1}),110),this.getQueueNum(),this.requestId=setInterval((function(){t.getQueueNum()}),15e3),this.visibleFunction=function(){document.hidden?(clearInterval(t.requestId),t.requestId=null):(t.getQueueNum(),!t.requestId&&(t.requestId=setInterval((function(){t.getQueueNum()}),15e3)))},document.addEventListener("visibilitychange",this.visibleFunction)},methods:{getQueueNum:function(){var t=this,e=o["a"]&&o["a"].wpaDetail;e&&e.visitorid&&this.$ajax.post("".concat(l["I"],"?kfuin=").concat(e.kfuin),{uint64_kfuin:Number(e.kfuin),uint32_c_type:4,str_c_id:e.visitorid}).then((function(n){var i;if(0===(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.code)){var a,c,l;t.errNum=0;var d=!(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(a=a.data)||void 0===a||!a.uint32_ready2leavemsg_status);if(!t.leaveMessage&&d&&Object(r["a"])()<10&&t.$nextTick((function(){o["a"]["scrollToBottom"](!0,0)})),t.leaveMessage=d,0===(null===n||void 0===n||null===(c=n.data)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.uint32_status))t.$emit("closeWaitPool"),window.QdMonitor&&window.QdMonitor.log({name:"wait_pool_request_close",ext1:JSON.stringify({uint64_kfuin:e.kfuin,uint32_c_type:4,str_c_id:e.visitorid,data:n.data,date:Date.now()}),ext2:window.location.href});else if(1===(null===n||void 0===n||null===(l=n.data)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.uint32_status)){t.queueNum=n.data.data.uint32_wait_count;var u=s["a"].filterHTML(n.data.data.str_queue_tips);-1===u.indexOf("<a ")&&(u=s["a"].urlEscape(u)),u=u.replace(/{%x}/g,'<span class="primary-color"> '.concat(t.queueNum," </span>")),u=u.replace(/{%y}/g,'<span class="primary-color"> '.concat(t.queueNum+1," </span>")),t.content=u,t.$nextTick((function(){t.hasInitDelegations||(t.initDelegations(),t.hasInitDelegations=!0)})),setTimeout((function(){t.isNeedScorll&&o["a"]["scrollToBottom"](!0,0),t.isNeedScorll=!1}),500)}}else window.QdMonitor&&window.QdMonitor.log({name:"wait_pool_request_fail",ext1:JSON.stringify({uint64_kfuin:e.kfuin,uint32_c_type:4,str_c_id:e.visitorid,data:n.data,date:Date.now()}),ext2:window.location.href}),t.handleError()})).catch((function(n){window.QdMonitor&&window.QdMonitor.log({name:"wait_pool_request_fail",ext1:JSON.stringify({uint64_kfuin:e.kfuin,uint32_c_type:4,str_c_id:e.visitorid,date:Date.now(),err:n}),ext2:window.location.href}),t.handleError()}))},exitQueue:function(){this.leaveMessage?this.clickNoMoreWaiting():this.$emit("callFunc","exitQueue")},initDelegations:function(){Object(c["a"])(this.$refs.msgContent,"a")},handleError:function(){this.errNum+=1,this.errNum>=5&&(this.$Toast({text:"拉取排队信息失败",type:"error"}),this.$emit("closeWaitPool"))},clickNoMoreWaiting:function(){var t=this;if(!this.isClicking){var e=o["a"]&&o["a"].wpaDetail;e&&e.visitorid&&(this.isClicking=!0,d["a"].post("".concat(l["J"],"?kfuin=").concat(e.kfuin),{sessionType:4,cID:e.visitorid,wpaID:e.wpaId,kfuin:Number(e.kfuin)}).then((function(n){var i,a;(t.isClicking=!1,0===(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.code))?(t.$emit("closeWaitPool"),window.QdMonitor&&window.QdMonitor.log({name:"wait_pool_no_wait",ext1:JSON.stringify({uint64_kfuin:e.kfuin,uint32_c_type:4,str_c_id:e.visitorid,data:n.data,date:Date.now()}),ext2:window.location.href})):(t.$Toast((null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"转留言失败"),window.QdMonitor&&window.QdMonitor.log({name:"wait_pool_no_wait_fail",ext1:JSON.stringify({uint64_kfuin:e.kfuin,uint32_c_type:4,str_c_id:e.visitorid,data:n.data,date:Date.now()}),ext2:window.location.href}))})).catch((function(n){t.isClicking=!1,t.$Toast("转留言失败"),window.QdMonitor&&window.QdMonitor.log({name:"wait_pool_no_wait_fail",ext1:JSON.stringify({uint64_kfuin:e.kfuin,uint32_c_type:4,str_c_id:e.visitorid,date:Date.now(),err:n}),ext2:window.location.href})})))}}},beforeDestroy:function(){clearInterval(this.requestId),this.requestId=null,this.queueNum=-1,this.content="",document.removeEventListener("visibilitychange",this.visibleFunction)}},m=u,f=(n("2363"),n("2877")),h=Object(f["a"])(m,i,a,!1,null,"751597ef",null);e["a"]=h.exports},a84e:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-manual-typing"},[e("span",{staticClass:"typing-placehold"},[t._v(t._s(t.$t("common_typing_human")))])])},a=[],o={props:{data:Object},data:function(){return{}}},s=o,c=(n("3774"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,"1d6776cc",null);e["default"]=r.exports},a87f:function(t,e,n){"use strict";n("3137")},a8c3:function(t,e,n){"use strict";n("4f96")},a909:function(t,e,n){},a9b0:function(t,e,n){"use strict";n("dd69")},aaa1:function(t,e,n){"use strict";n("215a")},aafd:function(t,e,n){t.exports=n.p+"img/order.0f25e942.svg"},ab9f:function(t,e,n){},abe6:function(t,e,n){"use strict";n("5bb8")},ac26:function(t,e,n){"use strict";n.r(e),e["default"]={lang:"繁體中文",qqface_Smile:"微笑",qqface_Grimac:"憋嘴",qqface_Drool:"色",qqface_Scowl:"發呆",qqface_Chill:"得意",qqface_Sob:"流淚",qqface_Shy:"害羞",qqface_Silent:"閉嘴",qqface_Sleep:"睡",qqface_Cry:"大哭",qqface_Awkward:"尷尬",qqface_Angry:"發怒",qqface_Tongue:"調皮",qqface_Grin:"呲牙",qqface_Surprise:"驚訝",qqface_Frown:"難過",qqface_CoolGuy:"酷",qqface_Helpless:"冷汗",qqface_Scream:"抓狂",qqface_Puke:"吐",qqface_Chuckle:"偷笑",qqface_Joyful:"可愛",qqface_Slight:"白眼",qqface_Smug:"傲慢",qqface_Hungry:"飢餓",qqface_Drowsy:"困",qqface_Panic:"驚恐",qqface_Sweat:"流汗",qqface_Laugh:"憨笑",qqface_Commando:"大兵",qqface_Determined:"奮鬥",qqface_Scold:"咒罵",qqface_Confused:"疑問",qqface_Shhh:"噓...",qqface_Dizzy:"暈",qqface_Torturing:"折磨",qqface_Toasted:"蓑",qqface_Skull:"骷顱",qqface_Hammer:"敲打",qqface_Bye:"再見",qqface_Speechless:"擦汗",qqface_NosePick:"摳鼻",qqface_Clap:"鼓掌",qqface_Embarrased:"糗大了",qqface_Trick:"壞笑","qqface_Hum!L":"左哼哼","qqface_Hum!R":"右哼哼",qqface_Yawn:"哈欠","qqface_Pooh-pooh":"鄙視",qqface_Shrunken:"委屈",qqface_TearingUp:"快哭了",qqface_Sly:"陰險",qqface_Kiss:"親親","qqface_What!":"嚇",qqface_Whimper:"可憐",qqface_Cleaver:"菜刀",qqface_Watermelon:"西瓜",qqface_Beer:"啤酒",qqface_Basketball:"籃球",qqface_Pingpong:"乒乓",qqface_Coffee:"咖啡",qqface_Rice:"飯",qqface_Pig:"豬頭",qqface_Rose:"玫瑰",qqface_Wilt:"凋謝",qqface_Lips:"示愛",qqface_Heart:"愛心",qqface_BrokenHeart:"心碎",qqface_Cake:"蛋糕",qqface_Lightning:"閃電",qqface_Bomb:"炸彈",qqface_Knife:"刀",qqface_Football:"足球",qqface_Beetle:"瓢蟲",qqface_Poop:"便便",qqface_Moon:"月亮",qqface_Sun:"太陽",qqface_Gift:"禮物",qqface_Hug:"擁抱",qqface_Thumbsup:"強",qqface_Thumbsdown:"弱",qqface_Shake:"握手",qqface_Victory:"勝利",qqface_Salute:"抱拳",qqface_Beckon:"勾引",qqface_Fist:"拳頭",qqface_Bad:"差勁",qqface_LoveYou:"愛你",qqface_NO:"NO",qqface_OK:"OK",qqface_Love:"愛情",qqface_Blow_a_kiss:"飛吻",qqface_Waddle:"跳跳",qqface_Tremble:"發抖","qqface_Aaagh!":"惱火",qqface_Twirl:"轉圈",qqface_Kowtow:"磕頭",qqface_Turn_round:"回頭",qqface_Rope_Skipping:"跳繩",qqface_Wave_hand:"揮手",qqface_Excited:"激動",qqface_Street_Dance:"街舞",qqface_Give_a_kiss:"獻吻",qqface_Tai_Chi_L:"左太極",qqface_Tai_Chi_R:"右太極",qqface_Bliss:"雙喜",qqface_Firecracker:"鞭炮",qqface_Lantern:"燈籠",qqface_Fortune:"發財",qqface_Karaoke:"K歌",qqface_Shopping:"購物",qqface_Email:"郵件",qqface_Handsome:"帥",qqface_Hurray:"喝采",qqface_Pray:"祈禱",qqface_Furious:"爆筋",qqface_Lollipop:"棒棒糖",qqface_Drink_milk:"喝奶",qqface_Noodles:"下面",qqface_Banana:"香蕉",qqface_Plane:"飛機",qqface_Driving:"開車",qqface_Highspeed_Rail_L:"高鐵左車頭",qqface_Carriage:"车厢",qqface_Highspeed_Rail_R:"高鐵右車頭",qqface_Cloudy:"多雲",qqface_Rainy:"下雨",qqface_Cash:"鈔票",qqface_Panda:"熊貓",qqface_Light_bulb:"燈泡",qqface_Windmill:"風車",qqface_Alarm_Clock:"鬧鐘",qqface_Umbrella:"大傘",qqface_Balloon:"彩球",qqface_Ring:"鑽戒",qqface_Sofa:"沙發",qqface_Toilet_Paper:"紙巾",qqface_Medicine:"藥",qqface_Pistol:"手槍",qqface_Frog:"青蛙",custom_Face:"自定義表情",common_play_error:"無法播放，請下載後播放",common_download:"下載",common_page_title:"網路客服",common_sendbtn_text:"發送",common_voicebtn_hold_text:"按住 說話",common_voicebtn_release_text:"放開 發送",common_voicebtn_cancel_text:"放開 取消",common_insert_photo_text:"上傳圖片",common_insert_emoji_text:"輸入表情",common_manual_close_text:"結束會話",common_insert_file_text:"上傳文件",common_feed_back_text:"滿意度",common_screenshot_text:"截圖",common_screenshot_tip_QQ:"推薦使用QQ/微信截圖",common_screenshot_tip_mac:"Mac：快速鍵Shift+Command+4截圖",common_screenshot_tip_win:"Windows：使用自帶“截圖工具”",short_insert_photo_text:"圖片",short_insert_file_text:"文件",common_insert_call_text:"音視頻通話",common_insert_audo_text:"轉人工",common_insert_businessCard_text:"發送名片",common_insert_businessCard_balloon_text:"一鍵發送名片",common_postarea_pc_placeholder:"請輸入，按Enter直接發送訊息，Ctrl+Enter換行",common_postarea_Macpc_placeholder:"請輸入，按Enter直接發送訊息，Command+Enter換行",common_postarea_mobile_placeholder:"請點擊輸入",common_chatting_text:"交談中",common_leave_message_text:"留言了",common_chatting_with_text:"與$1交談中",common_qq_chat_text:"去QQ交談",common_start_qq_chat_text:"發起QQ會話",common_new_message_text:"你有【新訊息】",common_add_qq_friend_text:"添加QQ聯絡人",common_confirm_text:"確定",common_cancel_text:"取消",common_tencent_certification:"",common_lang_en:"英語",common_lang_zh:"簡體中文","common_lang_zh-TW":"繁體中文",common_tencent_translator:"騰訊翻譯君實時翻譯",common_tencent_translator_fail:"翻譯失敗-騰訊翻譯君",common_tencent_translator_only:"僅支持中英互譯-騰訊翻譯君",common_allow_text:"允許",common_not_allow_text:"不允許",common_read_all:"閱讀全文",common_typing:"正在輸入...",common_typing_human:"[正在輸入...]",common_view_all:"點擊查看全部",common_audio_text:"音頻通話",common_video_text:"視頻通話",common_video_confirm:"我知道了",common_video_text_call:"前往通話",chat_max_post_limit_text:"發送訊息過長，請分條發送。",chat_history_msg_get_text:"點擊加載更多歷史訊息",chat_history_msg_get_error:"加載歷史訊息失敗",chat_history_msg_loading_text:"正在加載歷史訊息",chat_offline_msg_loading_text:"正在加載新訊息",chat_offline_msg_fail_text:"新訊息加載失敗，點擊重試",chat_offline_msg_over_text:"以下為未讀訊息",chat_menu_msg_loading_text:"正在加載菜單導航",chat_menu_msg_fail_text:"菜單導航加載失敗，點擊重試",chat_menu_msg_history_expired_text:"歷史紀錄已失效",chat_graphic_msg_readmore_text:"閱讀原文",chat_graphic_msg_viewdmore_text:"查看更多",chat_feedback_title_text:"請為本次服務打分",chat_feedback_submit_text:"提交",chat_feedback_postarea_placeholder:"感謝您的評分，可留下其他意見或建議",chat_feedback_submitting_text:"正在提交評價",chat_feedback_success_msg:"提交成功",chat_feedback_fail_msg:"提交失敗",chat_feedback_error_msg:"網路錯誤，請重試",chat_feedback_very_dissatisfied_text:"很不滿意",chat_feedback_dissatisfied_text:"不滿意",chat_feedback_neutral_text:"一般",chat_feedback_satisfied_text:"滿意",chat_feedback_very_satisfied_text:"很滿意",chat_add_friend_fetching_protocol_msg:"正在獲取添加協議",chat_add_friend_copy_success_msg:"複製成功",chat_add_friend_fail_text:"失敗",chat_add_friend_fail_get_number_fail_text:"獲取號碼失敗",chat_add_friend_fail_no_text_selected_text:"沒有選中文字，請手工複製",chat_add_friend_fail_browser_not_support_text:"瀏覽器不支持，請手工複製",chat_change_queue_immediately:"立即切换",chat_close_session_confirm:"結束會話後，重新諮詢可能需要排隊，確認結束會話嗎？",chat_close_session_succ:"會話已結束，如需繼續服務請直接發送訊息",chat_incoming:"正在接入，請稍候",chat_incoming_success:"接入成功",chat_incoming_timeout:'接入失敗，請<a class="btn-refresh" href="javascript:;" onclick="location.reload();">重新加載頁面</a>重試',chat_incoming_timeout_inframe:"接入失敗，請重新加載頁面重試",sysmsg_load_corpinfo_msg:"正在加載企業信息",sysmsg_load_corpinfo_fail_msg:"企業信息獲取失敗",sysmsg_load_staff_msg:"正在加載員工信息",sysmsg_load_staff_fail_msg:"員工信息獲取失敗",exit_queque_btn:"退出排隊",exit_queue_confirm:"確認退出當前排隊麼？",exit_queue_success:"你已退出排隊",exit_queue_fail:"退出排隊失敗，請重試",notice_slider_header:"【公告】",notice_popup_header:"企業公告",notice_item_header:"【公告】",notice_item_header_gjh:"【通知】",ec_goods_text:"商品",ec_order_text:"訂單",send_business_card_btn:"發送名片",xml_product_name:"商品名稱",xml_product_exhibition_area:"商品展區",xml_product_category:"商品類別",xml_purchase_quantity:"採購數量",xml_purchase_unit:"採購單位",xml_buyer_name:"採購商名稱",xml_buyer_location:"採購商所在地",xml_buyer_tag:"採購商屬性標籤",xml_source_product:"採購產品",xml_source_category:"產品分類",xml_source_detail:"採購意向詳情",xml_buyer_company_name:"採購商公司名稱",xml_buyer_company_country:"公司所在地",xml_exhibit_name:"展品名稱",xml_exhibit_uom:"單位",xml_exhibit_price:"單價",xml_exhibit_currency:"幣種",xml_exhibit_detail:"說明",xml_exhibit_jump_tip:"點擊查看詳細採購意向",sysmsg_msg_current_service_lang:"當前服務語言是",sysmsg_msg_change_service_lang:"服務語言已更換為",msg_unread:"未讀",msg_beenread:"已讀",ai_msg_tip:"該答案由AI助手生成，請謹慎鑒別","说话时间太短":"說話時間太短","松开发送 上滑取消":"鬆開發送 上滑取消","退出预览":"退出預覽","您打开了多个会话页面，可激活当前页面继续咨询":"您打開了多個會話頁面，可激活當前頁面繼續諮詢","继续咨询":"繼續諮詢","当前浏览器不支持录音":"當前瀏覽器不支持錄音","即将发送语音":"即將發送語音","后将停止录音":"後將停止錄音","录音异常，请检查麦克风或刷新页面重试，如依旧失败请发送文字消息":"錄音異常，請檢查麥克風或刷新頁面重試，如依舊失敗請發送文字訊息","松开手指 取消发送":"鬆開手指 取消發送","无法定位原消息":"無法定位原訊息","复制失败，请重试":"復製失敗，請重試","复制链接到浏览器即可下载文件":"複製連結到瀏覽器即可下載文件","一键复制":"一鍵複製","关闭":"關閉","复制链接到浏览器下载":"複製連結到瀏覽器下載","文件":"文件","图片":"圖片","语音":"語音","结构化消息":"結構化訊息","图文消息":"圖文訊息","表情":"表情","未知消息类型":"未知訊息類型","我":"我","客服":"客服","转文字失败":"轉文字失敗","转文字":"轉文字","不能发送空白消息":"不能發送空白訊息","获取消息内容异常":"獲取訊息內容異常","未知类型消息":"未知類型訊息","登录失败，错误码为":"登錄失敗，錯誤碼為","复制":"複製","回复":"回復","撤回":"撤回","条新消息":"條新訊息","收到一张图片":"收到一張圖片","收到一条新消息":"收到一條新訊息","您有":"您有","撤回了一条消息":"撤回了一条訊息","重新编辑":"重新編輯","撤回消息超时,请稍后重试":"撤回訊息超時，請稍後重試","你撤回了一条消息":"你撤回了一条訊息","对方":"對方","不支持的图片格式：":"不支持的圖片格式：","不支持文件格式：":"不支持的文件格式：","发送图片大小超出限制":"發送圖片大小超出限制","发送文件大小超出限制":"發送文件大小超出限制","一次最多支持选择5张图片":"一次最多支持選擇5張圖片","您的问题将会逐一应答，请耐心等待":"您的問題將會逐一應答，請耐心等待","第三方电商接口暂无数据":"第三方電商接口暫無數據","不等了，去留言":"不等了，去留言"}},ae03:function(t,e,n){"use strict";n("ac1f"),n("00b4");var i=n("bc3a"),a=n.n(i),o=n("9de0"),s=n("5ac5"),c=s["a"],r=o["a"].getSDKDomain(),l=a.a.create({baseURL:r.api,timeout:3e4});l.interceptors.request.use((function(t){t.headers||(t.headers={});var e=!(/^(https?:)?\/\/([a-zA-Z0-9]+\.)+[a-zA-Z0-9]+/.test(t.url)&&-1===t.url.indexOf("gateway"));return e&&(t.headers["X-Tenant-Id"]=c.kfuin),t})),e["a"]=l},ae76:function(t,e,n){},b0be:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-pure-text",class:{disabled:t.isDisabled,"select-none":t.selectNone}},[t.isReplayMsg?e("div",{staticClass:"msg-c2b-ref",on:{click:t.handleRefMsgClick}},[e("div",{staticClass:"msg-c2b-ref-meta"},[e("div",{staticClass:"msg-c2b-ref-name"},[t._v(t._s(t.formatNickname)+":")]),e("div",{staticClass:"msg-c2b-ref-time"},[t._v(t._s(t.formatTime))])]),e("div",{staticClass:"msg-c2b-ref-content"},[t._v(t._s(t.sourceMsg.bytes_summary))])]):t._e(),e("span",{ref:"msgTxt",domProps:{innerHTML:t._s(t.processedText)}}),t.isTransLate()?e("msg-text-translate",{attrs:{data:t.data.content}}):t._e()],1)},a=[],o=n("d90f"),s=n("f5db"),c=n("342f"),r=n("5a0c"),l=n.n(r),d=n("5ac5"),u={props:{selectNone:{type:Boolean,default:!1},data:Object},components:{MsgTextTranslate:c["default"]},data:function(){return{isDisabled:!1}},computed:{formatTime:function(){var t=this.sourceMsg.uint64_time;return l()(t).format("HH:mm")},formatNickname:function(){var t=this.sourceMsg.uint32_msg_direction;return 1===t||"访客"===t?this.$t("我"):this.$t("客服")},sourceMsg:function(){var t;return this.data.$_sourceMsg||(null===(t=this.data)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t?void 0:t.qd_source_msg)},hasMsgId:function(){var t,e;return(null===(t=this.data)||void 0===t||null===(t=t.$_sourceMsg)||void 0===t?void 0:t.str_current_qidian_msg_unique_id)||(null===(e=this.data)||void 0===e||null===(e=e.msgHead)||void 0===e||null===(e=e.msg_third_app_info)||void 0===e||null===(e=e.bytes_third_app_buf)||void 0===e||null===(e=e.bytes_crm_buf)||void 0===e?void 0:e.str_current_qidian_msg_unique_id)},isReplayMsg:function(){var t;return console.log(354364656546,this.data),this.data.$_sourceMsg||(null===(t=this.data)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t||null===(t=t.qd_source_msg)||void 0===t?void 0:t.str_reference_qidian_msg_unique_id)},processedText:function(){var t,e=null===(t=this.data)||void 0===t||null===(t=t.crm)||void 0===t||null===(t=t.msg_webim_extra_data)||void 0===t?void 0:t.bool_is_safe_html_text,n=this.data.content;return e||(n=o["a"].filterHTML(n)),n=o["a"].emojiEscape(n),-1===n.indexOf("<a ")&&(n=o["a"].urlEscape(n)),o["a"].coverEmojIndex2EmojiImg(n)}},mounted:function(){this.initDelegations()},methods:{handleRefMsgClick:function(){this.$emit("onReplayMsgClick",this.sourceMsg.str_reference_qidian_msg_unique_id)},linkClickHandler:function(t){var e=t.getAttribute("href"),n=Object(s["c"])(e);n&&"leaveform"===n.method&&(this.isDisabled=!0)},initDelegations:function(){Object(s["a"])(this.$refs.msgTxt,"a",{callback:this.linkClickHandler})},isTransLate:function(){var t=d["a"].translate||{},e=t.translateSwitch,n=t.translateAuto;return+e&&n&&!this.data.mine}}},m=u,f=(n("4086"),n("2877")),h=Object(f["a"])(m,i,a,!1,null,"cd399c56",null);e["default"]=h.exports},b10a:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return t.loading?t._e():e("div",{staticClass:"msg-form",class:t.formDisabled||t.submiting?"disabled":""},[e("div",{staticClass:"form-container"},[e("div",{staticClass:"form-header"},[e("div",{staticClass:"float-right-image"}),e("span",{staticClass:"guide-message"},[t._v(t._s(t.formConfig.FBootMessage))])]),e("div",{staticClass:"form-content"},[t._l(t.formFields,(function(n,i){return[n.show?e("div",{key:i,staticClass:"item-container",class:"FMessage"===n.fieldname?"item-container--with-message":""},[e("div",{staticClass:"content-info",attrs:{id:n.fieldname}},[e("span",{staticClass:"content-title"},[t._v(t._s(n.name))]),n.required?e("span",{staticClass:"content-tip"},[t._v("*")]):t._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:n.error,expression:"field.error"}],staticClass:"content-error"},[t._v(t._s(n.error))])]),e("div",{staticClass:"input-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData[n.fieldname],expression:"formData[field.fieldname]"}],staticClass:"content-input",class:{"has-suffix":"FCaptcha"===n.fieldname,error:n.error},attrs:{type:"text",maxlength:n.max},domProps:{value:t.formData[n.fieldname]},on:{input:function(e){e.target.composing||t.$set(t.formData,n.fieldname,e.target.value)}}}),"FCaptcha"===n.fieldname?e("div",{staticClass:"captcha-btn",on:{click:t.handleGetCaptcha}},[t._v(" "+t._s(t.isCountDown?"".concat(t.countdown,"s重新发送"):"发送验证码")+" ")]):t._e()])]):t._e()]}))],2),e("div",{staticClass:"form-commit"},[e("button",{staticClass:"submit-btn",on:{click:t.submitForm}},[t._v(" "+t._s(t.$t("chat_feedback_submit_text"))+" ")])])]),e("div",{staticClass:"popup-tip"}),t.loading?e("div",{staticClass:"form-loading"},[e("div",{staticClass:"loading"},[e("image",{staticClass:"loading-pic",attrs:{src:"@/static/icon/loading.svg",mode:"aspectFit"}})])]):t._e()])},a=[],o=(n("99af"),n("c740"),n("4e82"),n("e9f5"),n("7d54"),n("d3b7"),n("ac1f"),n("00b4"),n("5319"),n("498a"),n("159b"),n("5ac5")),s=n("97e5"),c=n("4886"),r=c["a"].getSDKDomain(),l={FMobile:/^[1]([3-9])[0-9]{9}$/,FQQ:/^[1-9]\d{4,9}$/,FWx:/^[a-zA-Z]{1}[-_a-zA-Z0-9]{5,19}$/},d=60,u={name:"form-msg",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{formDisabled:!1,loading:!0,formConfig:{},formFields:[],formData:{},submiting:!1,countdown:d}},created:function(){this.fetchFormConfig()},computed:{isCountDown:function(){return this.countdown!==d}},methods:{handleGetCaptcha:function(){var t=this;if(!this.isCountDown){var e=this.formFields.findIndex((function(t){return"FMobile"===t.fieldname}));if(this.formFields[e].show){if(!this.formData.FMobile.trim())return void this.$set(this.formFields[e],"error","不能为空");if(!l.FMobile.test(this.formData.FMobile.trim()))return void this.$set(this.formFields[e],"error","格式不正确");this.$set(this.formFields[e],"error","")}var n=this.data.msgBody.formParams;this.$ajax.post("".concat(s["D"],"?kfuin=").concat(n.kfuin),{FMobile:this.formData.FMobile.trim()}).then((function(e){0===e.data.code?(t.countdown-=1,t.timer=setInterval((function(){t.countdown>1?t.countdown-=1:(t.countdown=d,clearInterval(t.timer))}),1e3),console.log(e)):t.$Toast({text:e.data.message||t.$t("chat_feedback_error_msg"),type:"error"})})).catch((function(e){console.log("e",e),t.$Toast({text:e.message||t.$t("chat_feedback_error_msg"),type:"error"})}))}},fetchFormConfig:function(){var t=this,e=this.data.msgBody.formParams,n="".concat(s["k"]);this.$ajax.get(n,{params:e}).then((function(e){if(t.loading=!1,0!==e.data.code)return t.formConfig={FBootMessage:"请勿重复提交留言",fields:[],type:"webim"},t.formFields=[],t.formDisabled=!0,!1;t.formConfig=e.data.data,t.formFields=t.formConfig.fields;var n=function(t,e){return t.sort<e.sort?-1:1};t.formFields.sort(n),t.formFields.forEach((function(e){t.$set(t.formData,e.fieldname,"")})),o["a"].scrollToBottom&&o["a"].scrollToBottom()})).catch((function(t){throw t}))},submitForm:function(){var t=this,e=this.data.msgBody.formParams,n={type:"wxplugin"};if(this.formFields.forEach((function(e){if(e.show){var i=t.formData[e.fieldname].replace(/^\s+/,"").replace(/\s+$/,"");t.formData[e.fieldname]=i,n[e.fieldname]=i}})),this.validateItem()){Object.assign(n,e),this.submiting=!0;var i="".concat(r.api).concat(s["g"],"?kfuin=").concat(e.kfuin);this.$ajax.post(i,n).then((function(e){t.submiting=!1,0===e.data.code?(t.$Toast("留言已提交，期待您的再次来访"),t.formDisabled=!0):t.$Toast({text:e.data.msg||t.$t("chat_feedback_error_msg"),type:"error"})}))}},validateItem:function(){var t=this,e=!0;return this.formFields.forEach((function(n){var i=t.formData[n.fieldname];n&&n.show&&(t.$set(n,"error",""),n.required&&!i.length&&(t.$set(n,"error","不能为空"),e=!1),e&&n.max&&i.length>n.max&&(t.$set(n,"error","不能超过个".concat(n.max,"字符")),e=!1),e&&i.length&&l[n.fieldname]&&(l[n.fieldname].test(i)||(t.$set(n,"error","格式不正确"),e=!1)))})),e}}},m=u,f=(n("34f0"),n("2877")),h=Object(f["a"])(m,i,a,!1,null,"769c528b",null);e["default"]=h.exports},b300:function(t,e,n){"use strict";n("de0a")},b371:function(t,e,n){"use strict";n("fb6a");e["a"]={inject:["globalData"],props:{navData:{type:Object,default:function(){return{}}}},computed:{isMobile:function(){return!this.$platform.pc}},data:function(){return{currentTab:0,robotNav:this.navData}},methods:{onClick:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("onClick"),this.$emit("click",t,e)},getPageData:function(t,e){console.log("getPageData",t,e);var n=t.index||1,i=t.pageCount||e||6,a=t.total||0,o=t.list||[];if(2===t.source||1===t.source)try{t.list.length>i&&1===t.more_questions?(this.$set(t,"showChange",!0),o=t.list.slice(i*(n-1),i*n)):this.$set(t,"showChange",!1),a=Math.ceil(t.list.length/i)}catch(s){console.log("error",s)}return this.$set(t,"index",n),this.$set(t,"pageCount",i),this.$set(t,"total",a),o},onChange:function(t){var e=t.index||1,n=t.total||0;e<n?e+=1:e=1,this.$set(t,"index",e),this.$forceUpdate()},onChangeTab:function(t,e){console.log("onChangeTab：",t,e),this.currentTab=t,this.onClick({},{robot_nav_first_menu_id:0,robot_nav_first_menu_name:e.tit,robot_nav_action_type:7})}}}},b463:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n("99af"),n("c19f"),n("ace4"),n("2c66"),n("249d"),n("40e9"),n("d3b7"),n("25f0"),n("fb2c"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d61"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("6ce5"),n("2834"),n("72f7"),n("4ea1");var i=window,a=i.document,o="QD.",s=function(t){return t.toString(36)},c=function(t){var e=1;if(t){var n=0;e=0;for(var i=t.length-1;i>=0;i--)n=t.charCodeAt(i),e=(e<<6&268435455)+n+(n<<14),n=266338304&e,e=0!=n?e^n>>21:e}return e},r=function(){var t;try{var e=new Uint32Array(1);i.crypto.getRandomValues(e),t=2147483647&e[0]}catch(n){t=Math.floor(2147483648*Math.random())}return t},l=function(t){var e=i.navigator.userAgent+(a.cookie?a.cookie:"")+(a.referrer?a.referrer:"")+i.location.href,n="".concat(s(r()^2147483647&c(e)),".").concat(s(r()),".").concat(s(+new Date));return t?o+n:n}},b4e8:function(t,e,n){"use strict";n("2dba")},b5c7:function(t,e,n){var i={"./MsgAddQqCard/index.vue":"31c0","./MsgDateTime/index.vue":"888d","./MsgFace/index.vue":"9997","./MsgFeedBack/index.vue":"1e3a","./MsgFile/index.vue":"d9f8","./MsgGray/index.vue":"8986","./MsgImage/index.vue":"63c0","./MsgImageText/index.vue":"9b11","./MsgLeaveForm/index.vue":"b10a","./MsgLongMsg/index.vue":"4ff9","./MsgManualTyping/index.vue":"a84e","./MsgMedia/index.vue":"caca","./MsgMix/index.vue":"5afa","./MsgPtt/index.vue":"7722","./MsgQdxml/index.vue":"e3fc","./MsgQqInviteCard/index.vue":"1c47","./MsgRevoke/index.vue":"454e","./MsgRobot/index.vue":"933b","./MsgRobotForm/index.vue":"2ee4","./MsgRobotGoodsNav/index.vue":"a3d9","./MsgRobotNav/index.vue":"d604","./MsgRtc/index.vue":"e302","./MsgSatisfactionSurvey/index.vue":"20e9","./MsgText/index.vue":"b0be","./MsgTextTranslate/index.vue":"342f","./MsgTip/index.vue":"f2fa","./MsgUnknown/index.vue":"6d51"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id="b5c7"},b5f1a:function(t,e,n){t.exports=n.p+"img/img-upload.166aa739.svg"},b743:function(t,e,n){},b80f:function(t,e,n){"use strict";n("931a")},b9a8:function(t,e,n){t.exports=n.p+"img/business-card.49ce5fa8.svg"},bb2e:function(t,e,n){},bb58:function(t,e,n){t.exports=n.p+"img/face.2b901e2f.svg"},bc5c:function(t,e,n){},bcaa:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{class:["small-cards",t.isMobile?"":"small-cards-pc"]},[e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-box"},t._l(t.robotNav.list,(function(n,i){return e("div",{key:i,staticClass:"nav-box-row"},[e("div",{staticClass:"nav-box-wrapper nav-link",on:{click:function(e){return t.onClick(n)}}},[e("div",{staticClass:"nav-image"},[e("img",{staticClass:"nav-img-pic",attrs:{src:n.icon.url,mode:"widthFix"}})]),e("div",{staticClass:"nav-text"},[t._v(t._s(n.name))])])])})),0)])])},a=[],o=n("b371"),s={mixins:[o["a"]]},c=s,r=(n("3d4f"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"0782fa05",null);e["default"]=l.exports},c03d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAddJREFUWAnVl79KA0EQxnOSQiFgZ2Eb0AeID+AbiJZaii8gaBdzwdZS7CxtAkps0oja2mhjZSGIhdjHysLzNzErX45kTXL/cGBuv9lh5/tyO3fZK5X+k0VRVC5ML+QB3sIbhYgwYtzZQa4iYN3Avxw741FuAiCr4O9C3gHP5CmgIeQv4HklJ57VOFVM8QW8izvbUgImy/gNnk1jUvgQd/YACGICjl2Ssa65VDBFH4VgXYsyX8O1Mfc0nxhTvCrkH+CBvSa+lvxFYsJ4AYrvCsG55plfltwnuBrLVzT2Yd/jVJOFHcEG1yRuB0Hw7GLEWJ9cMiZrTArc4s5WHYGNTF65BONmLLcjuelFUORJCi3FSHy5O1lncDoRLNTnf2BPJ8iZALORInw9EOmvTogH3h9j1UK17zb7cvEtCH2EvjvwJgsXBRt8lXhFsMFTiZs8IaHE40PuwJltXt+2dSVz+y7B2Irl7OBiL6lQ5yfGFMjlRTRSGAKKfRWbMkRk/mfka0LT0LZL3+oI+n2caK575k9cknFOcDoQwnEPJGE6jEOqIKKBO8v3SGZ6YC72UNoXkdmx/K8m7G0KDWcnnmYv+Ll0BecD2Qr3aRbmwziEBRHFfZwO0ZPK1Deik9Dtm4vgyAAAAABJRU5ErkJggg=="},c09f:function(t,e,n){"use strict";n("d363")},c11c:function(t,e,n){},c216:function(t,e,n){},c226:function(t,e,n){"use strict";n("e963")},c2ad:function(t,e,n){},c2e0:function(t,e,n){"use strict";var i=n("2b0e"),a=function(){var t=this,e=t._self._c;return t.visible?e("div",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:t.showActionSheet,expression:"showActionSheet",arg:"touchhold"}],staticClass:"media-viewer-conatiner",on:{click:t.close}},["audio"===t.media.type&&t.media.url?[e("audio",{staticClass:"media-show animate__animated animate__zoomIn animate__fadeIn animate__faster",attrs:{controls:"",autoplay:"",preload:"auto",playsinline:"true"},on:{click:function(t){t.stopPropagation()}}},[e("source",{attrs:{src:t.media.url,type:"audio/mp3"},on:{error:t.onError}})])]:t._e(),"video"===t.media.type&&t.media.url?[e("video",{staticClass:"media-show animate__animated animate__zoomIn animate__fadeIn animate__faster",attrs:{controls:"",autoplay:"",preload:"auto",playsinline:"true"},on:{click:function(t){t.stopPropagation()}}},[t.isSupportsQuickTime?e("source",{attrs:{src:t.media.url,type:"video/quicktime"},on:{error:t.onError}}):e("source",{attrs:{src:t.media.url,type:"video/mp4"},on:{error:t.onError}})])]:t._e(),e("div",{staticClass:"btn-close"})],2):t._e()},o=[],s=n("2d3f"),c={name:"MediaViewer",data:function(){return{visible:!1,media:{url:"",type:"",downloadFun:null,ext:"",fileType:""}}},computed:{isMobile:function(){return!this.$platform.pc},isMov:function(){return this.media&&this.media.fileType&&".mov"===this.media.fileType},isSupportsQuickTime:function(){return this.isMov&&this.supportsQuickTime()}},methods:{close:function(){var t=this;this.visible=!1,setTimeout((function(){t.$destroy()}),500)},onError:function(){var t=this;this.$Confirm({title:this.$t("common_play_error"),confirmText:this.$t("common_download")}).then((function(){t.close(),"function"===typeof t.media.downloadFun&&t.media.downloadFun()})).catch((function(){t.close()}))},showActionSheet:function(){var t=this;if(this.$ActionSheet&&this.isMobile&&(s["b"]||s["c"]||s["a"])){var e=[this.$t("复制链接到浏览器下载")];this.$ActionSheet.show({itemList:e,success:function(){t.$copyText(t.media.url).then((function(){t.$Toast(t.$t("chat_add_friend_copy_success_msg"))}),(function(){t.$Toast({text:t.$t("复制失败，请重试"),type:"error"})}))},fail:function(){}})}},supportsQuickTime:function(){try{var t=document.createElement("video"),e=t.canPlayType("video/quicktime");return"probably"===e||"maybe"===e}catch(n){return console.log("error"),!1}}}},r=c,l=(n("5015"),n("2877")),d=Object(l["a"])(r,a,o,!1,null,"4ddc119e",null),u=d.exports,m=n("55b6"),f=i["a"].extend(u),h={show:function(t){var e=new f({i18n:m["b"]}).$mount();e.visible=!0,e.media=t,document.body.appendChild(e.$el)}};e["a"]={install:function(){i["a"].prototype.$MediaViewer||(i["a"].prototype.$MediaViewer=h)}}},c322:function(t,e,n){"use strict";n("947c")},c3d8:function(t,e,n){t.exports=n.p+"img/arrow.3216f3b5.svg"},c46f:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"kefu-free-tip"},[e("div",{staticClass:"kefu-free-tip-inner"},[e("div",{staticClass:"tip-icon"},[e("img",{attrs:{src:n("5168")}})]),t._m(0)]),e("div",{staticClass:"tip-close",on:{click:t.handleClose}},[e("img",{attrs:{src:n("c668")}})])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tip-content"},[e("p",{staticClass:"tip-content-text"},[t._v("此用户未经腾讯认证，聊天中请注意保护您的个人信息安全，您也可随时结束会话。")])])}],o={methods:{handleClose:function(){this.$emit("onClose")}}},s=o,c=(n("527b"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,"99534dc2",null);e["a"]=r.exports},c51b:function(t,e,n){"use strict";n("d21d")},c624:function(t,e,n){},c668:function(t,e,n){t.exports=n.p+"img/tip-close.a21d2515.svg"},c879:function(t,e,n){},c8ba3:function(t,e,n){},c906:function(t,e){t.exports="data:image/png;base64,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"},c9a7:function(t,e,n){"use strict";n("2f01")},ca63:function(t,e,n){"use strict";n("efb2")},ca6d:function(t,e){t.exports="data:image/png;base64,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"},caca:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-media"},[1===t.data.mediaType?e("img",{attrs:{src:t.data.mediaUrl}}):t._e()])},a=[],o={props:{data:Object},data:function(){return{selectedText:""}},computed:{},methods:{}},s=o,c=(n("b300"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,"7f4f99a1",null);e["default"]=r.exports},cb74:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("ac1f"),n("00b4"),n("1642"),n("9b4f");var i=n("2b0e"),a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("WebIMPage"),e("audio",{staticClass:"audio-sound",staticStyle:{display:"none"},attrs:{id:"ringAudio",src:"https://bqq.gtimg.com/CDN/source/audio/ring.mp3",muted:"",loop:""}})],1)},o=[],s=n("d4ec"),c=n("bee2"),r=n("8f33"),l=n("262e"),d=n("9ab4"),u=n("1b40"),m=n("5530"),f=function(){var t=this,e=t._self._c;return e("div",{ref:"imContainerRef",staticClass:"im-main-container",class:[t.inIframe?"im-in-frame":"im-not-in-frame",(t.slideOpen||!(t.styleConfig&&t.styleConfig.isUseWebSidebar)||t.isMiniMode)&&"card-info-hide"],style:Object(m["a"])({},t.customStyle)},[e("div",{staticClass:"im-msg-container",style:t.pcBgStyle},[e("pc-header",{staticClass:"im-title-bar drag-title-inIframe",style:t.inIframe&&"close"===t.iframeIMStatus?"height:50px":"",attrs:{isMinify:t.inIframe&&"close"===t.iframeIMStatus,unReadMsgNum:t.unReadSum,"title-name":t.titleName,inIframe:t.inIframe,wpaDetail:t.wpaDetail},scopedSlots:t._u([{key:"extra",fn:function(){return[t.showQQ?e("div",{staticClass:"btn-callqq",class:{iframe:t.inIframe},on:{click:t.handleLunchQQ}},[t.inIframe?e("img",{staticClass:"qq-icon",attrs:{src:n("0c6c")}}):e("img",{staticClass:"qq-icon",attrs:{src:n("5b7a")}})]):t._e(),e("div",{staticClass:"right-toggle"},[t.isShowLangIcon?e("div",{staticClass:"btn-lang-setting",on:{click:t.showSetLangPanel}},[e("i",{staticClass:"icon-lang-setting"})]):t._e(),t.isRenderSidebar?e("div",{staticClass:"toggle-card-info",on:{click:t.handleCardInfo}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.slideOpen,expression:"slideOpen"}],staticClass:"slide-icon",attrs:{src:n("298c")}}),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.slideOpen,expression:"!slideOpen"}],staticClass:"slide-icon",attrs:{src:n("f1e5")}})]):t._e()])]},proxy:!0}])}),e("aio",{ref:"aio",attrs:{inIframe:t.inIframe,aioBgImg:t.pcBgImage,toolButtons:t.toolButtonsForPC,serviceInfoShowType:t.linkInfo.openName,wpaDetail:t.wpaDetail,authConf:t.authConf,guidanceInfo:t.guidanceInfo,companyInfo:t.companyInfo,isShowWatermark:t.styleConfig.isShowWatermark,readStatusSwitch:t.readStatusSwitch,cShowTypingSwitch:t.cShowTypingSwitch,bShowTypingSwitch:t.bShowTypingSwitch,customExtuinInfo:t.customExtuinInfo,askRobotOneByOneSwitch:t.askRobotOneByOneSwitch,messageList:t.messageList,notReadNumber:t.notReadNumber,reception:t.reception,inputContent:t.inputContent,showInfo:t.showInfo,styleConfig:t.styleConfig,iframeIMStatus:t.iframeIMStatus},on:{"update:messageList":function(e){t.messageList=e},"update:message-list":function(e){t.messageList=e},"update:notReadNumber":function(e){t.notReadNumber=e},"update:not-read-number":function(e){t.notReadNumber=e},"update:reception":function(e){t.reception=e},"update:inputContent":function(e){t.inputContent=e},"update:input-content":function(e){t.inputContent=e},clickToolBtn:t.clickToolBtn,receiveNewMessage:t.onReceiveMsg,onLunchQQ:t.handleLunchQQ,onAddQQ:t.handleAddQQ,ready:function(e){t.aioReady=!0},sessionStart:t.onSessionStart,notifyRtc:t.handleNotifyRtc,error:t.handleAioError,videoMsgClick:t.videoMsgClick,updateDisableToolbar:t.updateDisableToolbar},scopedSlots:t._u([{key:"beforeMsgList",fn:function(){return[t.isShowKeSafeTip&&t.showInfo&&t.showInfo.isShowSafetyTips&&!t.isMiniMode?e("KefuFreeTip",{on:{onClose:function(e){t.isShowKeSafeTip=!1}}}):t._e(),t.styleConfig.isUseWebNotice||t.styleConfig.isShowTopNotice?e("announcement-notice",{attrs:{wpaDetail:t.wpaDetail}}):t._e()]},proxy:!0},{key:"afterMsgList",fn:function(){return[e("QuickOrderCard",{attrs:{sessionStart:t.sessionStart,wpaDetail:t.wpaDetail,authConf:t.authConf}}),t.hasBubble?e("message-bubble",{attrs:{bubbleConfig:t.bubbleConfig}}):t._e(),t.configToAutoMsg.enable?e("msg-auto-complete",{attrs:{config:t.configToAutoMsg,inputContent:t.inputContent},on:{onSelected:t.onMsgAutoCompleteSelected}}):t._e()]},proxy:!0},{key:"last",fn:function(){return[e("GoodsList",{attrs:{ecQuickMenu:t.ecQuickMenu,wpaDetail:t.wpaDetail},model:{value:t.goodsListShow,callback:function(e){t.goodsListShow=e},expression:"goodsListShow"}}),e("OrderList",{attrs:{ecQuickMenu:t.ecQuickMenu,wpaDetail:t.wpaDetail},model:{value:t.orderListShow,callback:function(e){t.orderListShow=e},expression:"orderListShow"}})]},proxy:!0}])})],1),t.isRenderSidebar?e("div",{directives:[{name:"show",rawName:"v-show",value:!t.slideOpen,expression:"!slideOpen"}],staticClass:"im-custom-container"},[e("iframe",{ref:"infoCardIframeRef",attrs:{scrolling:"no",src:t.iframeSrc}})]):t._e(),e("LinkIframeContainer",{attrs:{reception:t.reception}}),e("PcRing",{ref:"videoRing",attrs:{wpaDetail:t.wpaDetail,employeeInfo:t.employeeInfo,reception:t.reception}})],1)},h=[],p=(n("99af"),n("d3b7"),n("841c"),n("2bf8")),g=n("7a2d"),v=n("35f7"),b=n("2cbe"),_=n("5c0b"),w=n("e490"),y={mixins:[g["a"]],data:function(){return{surportTRTC:!1,dir:"",userAction:"",mediaType:"",videoStatus:b["d"].idle}},mounted:function(){this.checkTRTC()},methods:{checkTRTC:function(){var t=this;"undefined"===typeof TRTC?this.surportTRTC=!1:TRTC.checkSystemRequirements().then((function(e){t.surportTRTC=e.result})).catch((function(e){t.surportTRTC=!1,console.error("getDevices error observed ".concat(e))}))},checkTRTCFaile:function(){alert("您的浏览器不兼容此应用！\n建议下载最新版Chrome浏览器"),window.location.href="http://www.google.cn/chrome/"},canVidoStatus:function(){return this.videoStatus==b["d"].idle||(this.$Alert("当前通话没结束，不能发起新通话"),!1)},audioCall:function(){var t=this;this.canVidoStatus()&&(navigator.onLine?TRTC.getMicrophones().then((function(e){console.log("开始语音通话",e),0!==e.length?t.callUser(2):t.$Confirm({title:"未检测到麦克风",text:"可能影响通话质量，请检查连接状态",confirmText:t.$t("common_video_text_call")}).then((function(){t.callUser(2)})).catch((function(){console.log("音频通话取消")}))})):this.$Confirm({title:"",text:"当前网络不可用，请检查您的网络设置",confirmText:this.$t("common_video_confirm")}))},videoCall:function(){var t=this;this.canVidoStatus()&&(navigator.onLine?TRTC.getMicrophones().then((function(e){console.log("开始视频通话",e);var n=!0;0===e.length&&(n=!1),TRTC.getCameras().then((function(e){0!==e.length?n?t.callUser(1):t.$Confirm({title:"未检测到麦克风",text:"可能影响通话质量，请检查连接状态",confirmText:t.$t("common_video_text_call")}).then((function(){t.callUser(1)})).catch((function(){})):t.$Confirm({title:n?"未检测到摄像头":"未检测到摄像头和麦克风",text:"可能影响通话质量，请检查连接状态",confirmText:t.$t("common_video_text_call")}).then((function(){t.callUser(1)})).catch((function(){}))}))})):this.$Confirm({title:"",text:"当前网络不可用，请检查您的网络设置",confirmText:this.$t("common_video_confirm")}))},callUser:function(t){this.dir="c2b",this.mediaType=t,this.userAction="call",Object(v["a"])({message:"音视频:主叫,".concat(t)}),this.openRoom()},openRoom:function(){Object(v["a"])({message:"音视频:打开房间,用户ua".concat(navigator.userAgent)});var t="https://".concat(_["d"]?"oa":"","console.qidian.qq.com/spa/cs-video/index.html");w["a"]&&(t="".concat(window.location.origin,"/spa/cs-video/index.html"));var e="new_videocall_window",n=this.wpaDetail,i=n.kfuin,a=n.wpaId,o=n.key,s=n.visitorid,c=this.reception.extuin,r={uin:i,kfuin:i,fid:a,key:o,roleData:c,roleValue:0,visitorId:s,mediaType:this.mediaType,action:this.userAction,dir:"call"===this.userAction?"c2b":"b2c",channelType:4};"receive"===this.userAction&&(r.roomId=this.roomid),this.openURLtoBlank(Object(_["a"])(t,r),e),Object(_["k"])(this.handleVideoPostMessage)},openURLtoBlank:function(t,e){var n;if(t){var i=1*document.documentElement.clientWidth-800,a=document.documentElement.clientHeight,o=document.body.getBoundingClientRect().top;console.log("Height",i,a,o),n=window.open(t,e,"left=".concat(i,",top=").concat(o+90,",width=800,height=500,toolbar=0,titlebar=no")),console.log(e,"winname")}else n=window.open("",e),n.document.body.innerHTML="正在加载中......";return n},handleVideoPostMessage:function(t){var e=t.act;switch(e){case"audioVideoSuccess":this.videoStatus=b["d"].speaking;break;case"audioVideoEnd":default:this.videoStatus=b["d"].idle}}}},x=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:t.inIframe&&!t.isMinify?"bg-primay":""},[t.isMinify?e("div",{staticClass:"im-title-container",on:{click:t.changeMinify}},[e("div",{staticClass:"title-minify"},[e("i",{staticClass:"icon-bubble txt-primay"}),t.unReadMsgNum>0?e("span",{staticClass:"num unread-msg-num"},[t._v(t._s(t.unReadMsgNum>9?"9+":t.unReadMsgNum))]):t._e(),e("p",{staticClass:"minify-text"},[e("span",{staticClass:"name"},[t._v(t._s(t.titleMsg))]),e("span",{staticClass:"status"},[t._v(t._s(t.$t("common_chatting_text")))])])])]):e("div",{staticClass:"im-title-container"},[e("div",{staticClass:"im-title"},[e("span",[t._v(t._s(t.titleMsg))])]),e("div",{staticClass:"other-tools-container"},[t._t("extra"),t.inIframe?e("div",{staticClass:"close-btn pointer",on:{click:function(e){return t.closeBtnClick()}}},[e("i",{staticClass:"icon-close"})]):t._e()],2)])])},C=[],T=n("ade3"),k=(n("25f0"),n("5319"),function(t){function e(){var t;Object(s["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(T["a"])(t,"titleName",void 0),Object(T["a"])(t,"unReadMsgNum",void 0),Object(T["a"])(t,"isMinify",void 0),Object(T["a"])(t,"inIframe",void 0),Object(T["a"])(t,"wpaDetail",void 0),Object(T["a"])(t,"dragging",!1),Object(T["a"])(t,"tLeft",0),Object(T["a"])(t,"tTop",0),t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"changeMinify",value:function(){var t=this.$parent;t&&t.openIframeIM()}},{key:"titleMsg",get:function(){return this.titleName?this.titleName:this.$t("common_page_title")}},{key:"onTitleChange",value:function(t){var e=this.$t("common_page_title").toString();document.title=t===e?e:this.$t("common_chatting_with_text").toString().replace("$1",t)}},{key:"closeBtnClick",value:function(){var t=this.$parent;t&&t.closeIframeIM()}}])}(u["d"]));Object(d["a"])([Object(u["c"])({default:""})],k.prototype,"titleName",void 0),Object(d["a"])([Object(u["c"])({default:0})],k.prototype,"unReadMsgNum",void 0),Object(d["a"])([Object(u["c"])({default:!1})],k.prototype,"isMinify",void 0),Object(d["a"])([Object(u["c"])({default:!1})],k.prototype,"inIframe",void 0),Object(d["a"])([Object(u["c"])({default:function(){return{}}})],k.prototype,"wpaDetail",void 0),Object(d["a"])([Object(u["e"])("titleMsg",{immediate:!0})],k.prototype,"onTitleChange",null),k=Object(d["a"])([Object(u["a"])({name:"TitleBar"})],k);var I=k,M=I,A=(n("0d10"),n("2877")),S=Object(A["a"])(M,x,C,!1,null,"15a8b2d4",null),q=S.exports,O=n("c46f"),D=(n("e9c4"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"webim-aio webim-aio-pc"},[e("div",{staticClass:"im-position-container",style:t.listBgStyle},[t._t("beforeMsgList"),e("div",{staticClass:"im-message-container page-scroll-container",on:{scroll:t.scrollChange}},[e("msg-new-notice",{attrs:{nums:t.notReadNumber},on:{click:t.scrollToBottom}}),t.isMoreMessage?e("msg-load",{attrs:{isLoading:t.isLoading},on:{click:function(e){return t.onHistoryMessageClick()}}}):t._e(),e("message-list",{staticStyle:{padding:"8px 4px 0px 12px"},attrs:{msgList:t.messageList,styleConfig:t.styleConfig},on:{resendMsg:t.resendMessage,onReplay:t.replay,onCopy:t.handleCopyMsg,onRevoke:t.revokeMsg,"on-scroll-to":t.handleReplayMsgClick,onLunchQQ:function(e){return t.$emit("onLunchQQ",e)},onAddQQ:function(e){return t.$emit("onAddQQ",e)},videoMsgClick:function(e){return t.$emit("videoMsgClick",e)}},scopedSlots:t._u([{key:"thirdMsgItem",fn:function(e){return[t._t("thirdMsgItem",null,{data:e.data})]}}],null,!0)}),t.showInfo.waitPoolRemindMode&&t.showWaitPool?e("wait-pool-tips",{attrs:{showInfo:t.showInfo},on:{closeWaitPool:t.closeWaitPool,callFunc:t.onCallFunc}}):t._e(),e("div",{ref:"scrollToBottom"})],1),t._t("afterMsgList")],2),e("chat-tools",{ref:"chatTools",staticClass:"im-chat-tools",class:t.isIMReady?"":"tools-disabled",attrs:{toolButtons:t.toolButtons,inputContent:t.sendContent,"source-msg":t.sourceMsg,bShowTypingSwitch:t.bShowTypingSwitch,disableToolbar:t.disableToolbar,isShowSearchNetwork:t.isShowSearchNetwork},on:{"update:inputContent":function(e){t.sendContent=e},"update:input-content":function(e){t.sendContent=e},"on-delete-source-msg":function(e){t.sourceMsg=null},clickToolBtn:function(e){return t.$emit("clickToolBtn",e)},callFunc:t.onCallFunc}}),e("div",{staticClass:"shadow-container"},[e("image-uploader",{ref:"imageUploader",on:{preview:t.onPreviewImage,upload:t.onSendImageMessage}}),e("file-uploader",{ref:"fileUploader",on:{preview:t.onPreviewFile,progress:t.onFileProgress,upload:t.onSendFileMessage}})],1),t.isIMReady&&!t.inIframe?e("ai-tips",{attrs:{reception:t.globalData.reception}}):t._e(),t.isIMReady&&t.inIframe?e("qd-sign",{attrs:{wpaDetail:JSON.stringify(t.wpaDetail),reception:t.globalData.reception,inIframe:t.inIframe}}):t._e(),e("mock-msg",{attrs:{to:t.to}}),t._t("last"),t.isShowSetLangPanel?e("set-lang-modal"):t._e(),e("information-form",{ref:"consultForm"})],2)}),j=[],P=n("8e2d"),F=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"chat-tools-container",class:[t.inIframe?"chat-inIframe":"chat-not-inIframe",{"has-replay-msg":t.sourceMsg}]},[e("div",{staticClass:"textarea-container"},[t.sourceMsg?e("div",{staticClass:"replay-msg-wrapper"},[e("div",{staticClass:"replay-msg-inner"},[e("div",{staticClass:"replay-msg-content"},[t._v(" "+t._s(t.formatNickname(t.sourceMsg.uint32_msg_direction))+"："+t._s(t.sourceMsg.bytes_summary)+" ")]),e("div",{staticClass:"replay-msg-delete",on:{mousedown:function(e){return e.preventDefault(),t.$emit("on-delete-source-msg")}}})])]):t._e(),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.chatMsg,expression:"chatMsg"}],ref:"textarea",staticClass:"post-area",attrs:{placeholder:t.placeholderMsg,maxlength:t.inputMaxLen},domProps:{value:t.chatMsg},on:{keydown:function(e){return t.chatKeyDown(e)},keyup:function(e){return t.chatKeyUp(e)},paste:function(e){return t.pasteText(e)},input:[function(e){e.target.composing||(t.chatMsg=e.target.value)},t.onInput],blur:t.onBlur,focus:t.onFocus}})]),e("div",{staticClass:"tools-send-container"},[e("div",{staticClass:"tools-container"},[e("btn-tools",{ref:"btnTools",attrs:{toolButtons:t.toolButtons,isShowSearchNetwork:t.isShowSearchNetwork},on:{clickToolBtn:function(e){return t.$emit("clickToolBtn",e)},clickFaceItem:function(e){return t.clickFaceItem(e)},closeSession:t.closeSession,activeFeedback:t.activeFeedback,robotTransfer:t.robotTransfer,exitQueue:t.exitQueue,openFileUpload:t.openFileUpload}})],1),e("button",{directives:[{name:"show",rawName:"v-show",value:t.inIframe&&!t.disableToolbar,expression:"inIframe && !disableToolbar"}],staticClass:"send-btn bg-primay pointer",on:{click:function(e){return t.sendMsg()}}},[t._v(t._s(t.$t("common_sendbtn_text"))+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.inIframe&&!t.disableToolbar,expression:"!inIframe && !disableToolbar"}],staticClass:"send-button",on:{click:function(e){return t.sendMsg()}}},[e("img",{staticClass:"send-button-img",attrs:{src:n("6d63")}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.disableToolbar,expression:"disableToolbar"}],staticClass:"send-disable-button"},[e("img",{staticClass:"send-button-img",attrs:{src:"https://bqq.gtimg.com/CDN/source/images/webim/markdown-white-loading.gif"}})])])])},R=[],L=(n("a630"),n("14d9"),n("e9f5"),n("7d54"),n("3ca3"),n("466d"),n("498a"),n("159b"),n("b0c0"),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"btn-tools-container"},[t._l(t.showBtns,(function(n,i){return[n.isShow?e("div",{key:i,staticClass:"tool-btn",class:[!n.enable&&"disabled"],attrs:{title:n.name},on:{click:function(e){return e.stopPropagation(),t.clickToolBtn(n)}}},[e("img",{attrs:{src:n.icon,width:"20",height:"20"}}),"sendBusinessCard"===n.actionType&&t.showBizCard?e("div",{staticClass:"businesscard-balloon-container",on:{click:function(e){return e.stopPropagation(),t.hideBallon.apply(null,arguments)}}},[t._v(" 一键发送名片 "),e("span",{staticClass:"delButton"},[t._v("X")]),e("div",{staticClass:"outer"}),e("div",{staticClass:"inner"})]):t._e()]):t._e()]})),t.showMore?e("div",{staticClass:"action-button"},[e("div",{staticClass:"tool-btn",attrs:{title:"更多"},on:{click:function(e){e.stopPropagation(),t.showPop=!0}}},[e("img",{attrs:{src:n("2b8a"),width:"20",height:"20"}})]),t.items.length>0&&t.showPop?e("div",{staticClass:"pop-containner"},[e("div",{staticClass:"pop-content"},t._l(t.items,(function(n){return e("div",{key:n.name,staticClass:"list-item",class:{disabled:!n.enable},on:{click:function(e){return e.stopPropagation(),t.clickToolBtn(n)}}},[t._v(t._s(n.name))])})),0)]):t._e()]):t._e(),t.isLargeModelRobot&&t.isShowSearchNetwork?e("div",{class:["search-network-button",{"search-active":t.searchNetwork}],on:{click:function(e){return e.stopPropagation(),t.toggleSearchNetwork.apply(null,arguments)}}},[e("img",{staticClass:"button-icon",attrs:{src:n("88a6"),width:"12",height:"12"}}),e("span",{staticClass:"button-text"},[t._v("联网搜索")])]):t._e(),e("chat-face",{directives:[{name:"show",rawName:"v-show",value:t.qqFaceShow,expression:"qqFaceShow"}],staticClass:"qq-face-style",on:{click:function(t){t.stopPropagation()},clickFaceItem:function(e){return t.clickFaceItem(e)}}})],2)}),E=[],N=(n("4de4"),n("7db0"),n("d81d"),n("fb6a"),n("910d"),n("f665"),n("ab43"),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"qq-face-dialog",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"nano-content"},[e("div",{staticClass:"qq-face"},t._l(t.faceLocale,(function(n,i){return e("div",{key:i,staticClass:"qq-face-item",on:{mouseover:function(e){t.changeCurrentTip(e,t.$t(n))},mouseout:function(e){return t.outCurrentTip()},mousemove:function(e){return t.moveCurrentTip(e)},click:function(e){t.clickFaceItem(t.$t(n))}}})})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentTipName,expression:"currentTipName"}],staticClass:"tipCurrent",class:{faceShowTip:!t.hiddenTip},style:{top:t.tipTop+"px",left:t.tipLeft+"px"}},[t._v(" "+t._s(t.currentTipName)+" ")])])}),B=[],Q=n("8aeb"),G=n("dbe5"),z=n.n(G),U=(n("52b6"),function(t){function e(){var t;Object(s["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(T["a"])(t,"faceLocale",Q["c"]),Object(T["a"])(t,"currentTipName",""),Object(T["a"])(t,"tipTop",0),Object(T["a"])(t,"tipLeft",0),Object(T["a"])(t,"hiddenTip",!0),Object(T["a"])(t,"osInstance",null),t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"changeCurrentTip",value:function(t,e){var n=this;this.currentTipName=e,this.tipTop=t.pageY+20,this.tipLeft=t.pageX+10,setTimeout((function(){n.hiddenTip=!1}),200)}},{key:"outCurrentTip",value:function(){this.currentTipName="",this.hiddenTip=!0}},{key:"moveCurrentTip",value:function(t){this.tipTop=t.pageY+20,this.tipLeft=t.pageX+10}},{key:"clickFaceItem",value:function(t){this.$emit("clickFaceItem","[".concat(t,"]"))}},{key:"mounted",value:function(){var t=this.$el.querySelector(".nano-content");this.osInstance=z()(t,{}),z.a.valid(this.osInstance)}},{key:"destroyed",value:function(){this.osInstance&&(this.osInstance.destroy(),this.osInstance=null)}}])}(u["d"]));U=Object(d["a"])([Object(u["a"])({name:"ChatFace"})],U);var H=U,W=H,J=(n("7aca"),Object(A["a"])(W,N,B,!1,null,"1fbcf2bd",null)),Y=J.exports,V=6,X=function(t){function e(){var t;Object(s["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(T["a"])(t,"inIframe",void 0),Object(T["a"])(t,"globalData",void 0),Object(T["a"])(t,"to",void 0),Object(T["a"])(t,"toolButtons",void 0),Object(T["a"])(t,"isShowSearchNetwork",void 0),Object(T["a"])(t,"qqFaceShow",!1),Object(T["a"])(t,"permissionPopup",null),Object(T["a"])(t,"showPop",!1),Object(T["a"])(t,"items",[]),Object(T["a"])(t,"showBtns",[]),Object(T["a"])(t,"showBizCard",!0),Object(T["a"])(t,"searchNetwork",!0),t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"onToolBtnsChange",value:function(t){var e=t.filter((function(t){return t.isShow}));this.items=e.slice(this.maxShowBtnCount),this.showMore?this.showBtns=e.slice(0,this.maxShowBtnCount):this.showBtns=e}},{key:"onAidChange",value:function(){var t=localStorage.getItem("search_network_".concat(this.aid));"1"===t||"0"===t?this.searchNetwork="1"===t:(this.searchNetwork=!0,localStorage.setItem("search_network_".concat(this.aid),"1"))}},{key:"onShowSearchNetworkChange",value:function(){this.onToolBtnsChange(this.toolBtns)}},{key:"aid",get:function(){return this.to.user_id}},{key:"toolBtns",get:function(){var t=[{actionType:"sendFace",icon:n("bb58"),name:this.$t("common_insert_emoji_text")},{actionType:"sendImageMessage",icon:n("b5f1a"),name:this.$t("common_insert_photo_text")},{actionType:"sendFileMessage",icon:n("1ec8"),name:this.$t("common_insert_file_text")},{actionType:"activeFeedback",icon:n("9158"),name:this.$t("common_feed_back_text")},{actionType:"robotTransfer",icon:n("d200"),name:this.$t("common_insert_audo_text")},{actionType:"closeSession",icon:n("5c72"),name:this.$t("common_manual_close_text")},{actionType:"exitQueue",icon:n("5c72"),name:this.$t("exit_queque_btn")}],e=this.toolButtons.map((function(e){console.log("toolButtons",e);var n=e.actionType,i=t.find((function(t){return t.actionType===n}));return n&&i&&Object.assign(e,i,e),e}));return e.filter((function(t){return!t.fixedAction}))}},{key:"showMore",get:function(){return this.items.length>0&&this.inIframe}},{key:"canSendImage",get:function(){var t=this.toolButtons.find((function(t){return"sendImageMessage"===t.actionType})),e=t||{},n=e.isShow,i=e.enable;return n&&i}},{key:"isLargeModelRobot",get:function(){var t,e=(null===(t=this.globalData)||void 0===t?void 0:t.reception)||{},n=e.isLargeModelRobot,i=e.largeModelRobotId;return n&&i}},{key:"maxShowBtnCount",get:function(){return this.isLargeModelRobot&&this.isShowSearchNetwork?4:V}},{key:"clickToolBtn",value:function(t){var e=t.actionType,n=t.enable;n&&(e&&"function"===typeof this[e]?this[e]():this.$emit("clickToolBtn",t))}},{key:"sendImageMessage",value:function(){return this.openFileUpload("image")}},{key:"sendFileMessage",value:function(){return this.openFileUpload("file")}},{key:"openFileUpload",value:function(t){var e=this;this.requirePermission(t,(function(){e.$emit("openFileUpload",t)}))}},{key:"sendFace",value:function(){this.qqFaceShow=!this.qqFaceShow}},{key:"watchDocumentClick",value:function(){this.qqFaceShow&&(this.qqFaceShow=!1),this.showPop&&(this.showPop=!1),this.showBizCard&&(this.showBizCard=!1)}},{key:"clickFaceItem",value:function(t){this.$emit("clickFaceItem",t),this.qqFaceShow&&(this.qqFaceShow=!1)}},{key:"hideBallon",value:function(){this.showBizCard=!1}},{key:"mounted",value:function(){document.addEventListener("click",this.watchDocumentClick)}},{key:"beforeDestory",value:function(){document.removeEventListener("click",this.watchDocumentClick)}},{key:"robotTransfer",value:function(){this.$emit("robotTransfer")}},{key:"closeSession",value:function(){this.$emit("closeSession")}},{key:"exitQueue",value:function(){this.$emit("exitQueue")}},{key:"activeFeedback",value:function(){this.$emit("activeFeedback")}},{key:"requirePermission",value:function(t,e,n){var i=this,a={image:"sendImageMessage",file:"sendFileMessage"},o=this.toolButtons.find((function(e){return e.actionType===a[t]})),s=o||{},c=s.authorizeTip;c&&!this.permissionPopup?this.$Confirm({title:"".concat(c.title.replace(/\s/g,"&nbsp;")||this.$t("sysmsg_upload_file_permission_require_msg")),text:"".concat(c.explain.replace(/\s/g,"&nbsp;")),confirmText:this.$t("common_allow_text"),cancelText:this.$t("common_not_allow_text")}).then((function(){i.permissionPopup=1,e&&e()})).catch((function(){n&&n()})):e&&e()}},{key:"toggleSearchNetwork",value:function(){this.searchNetwork=!this.searchNetwork,localStorage.setItem("search_network_".concat(this.aid),this.searchNetwork?"1":"0")}}])}(u["d"]);Object(d["a"])([Object(u["b"])("inIframe")],X.prototype,"inIframe",void 0),Object(d["a"])([Object(u["b"])("globalData")],X.prototype,"globalData",void 0),Object(d["a"])([Object(u["b"])("to")],X.prototype,"to",void 0),Object(d["a"])([Object(u["c"])({default:[]})],X.prototype,"toolButtons",void 0),Object(d["a"])([Object(u["c"])({default:!1})],X.prototype,"isShowSearchNetwork",void 0),Object(d["a"])([Object(u["e"])("toolBtns",{immediate:!0,deep:!0})],X.prototype,"onToolBtnsChange",null),Object(d["a"])([Object(u["e"])("aid")],X.prototype,"onAidChange",null),Object(d["a"])([Object(u["e"])("isShowSearchNetwork")],X.prototype,"onShowSearchNetworkChange",null),X=Object(d["a"])([Object(u["a"])({name:"BtnTools",components:{ChatFace:Y}})],X);var K=X,Z=K,$=(n("c226"),Object(A["a"])(Z,L,E,!1,null,"eb3c1a52",null)),tt=$.exports,et=n("9de0"),nt=et["b"].create(),it=function(t){function e(){var t;Object(s["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(T["a"])(t,"inIframe",void 0),Object(T["a"])(t,"globalData",void 0),Object(T["a"])(t,"to",void 0),Object(T["a"])(t,"toolButtons",void 0),Object(T["a"])(t,"sourceMsg",void 0),Object(T["a"])(t,"inputContent",void 0),Object(T["a"])(t,"bShowTypingSwitch",void 0),Object(T["a"])(t,"disableToolbar",void 0),Object(T["a"])(t,"isShowSearchNetwork",void 0),Object(T["a"])(t,"chatMsg",""),Object(T["a"])(t,"isCtrlKeyDown",0),Object(T["a"])(t,"textInputStart",0),t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"onChatMsgChange",value:function(t){this.$emit("update:inputContent",t)}},{key:"onInputContent",value:function(t){this.chatMsg=t||""}},{key:"isMacOS",get:function(){return navigator.userAgent.indexOf("mac os")}},{key:"shortcutKey",get:function(){return this.isMacOS?16:17}},{key:"isLargeModelRobot",get:function(){var t,e=(null===(t=this.globalData)||void 0===t?void 0:t.reception)||{},n=e.isLargeModelRobot,i=e.largeModelRobotId;return n&&i}},{key:"inputMaxLen",get:function(){return this.isLargeModelRobot?2e3:3500}},{key:"formatNickname",value:function(t){return 1===t||"访客"===t?this.$t("我"):this.$t("客服")}},{key:"focus",value:function(){var t=document.querySelector(".post-area");t&&t.focus()}},{key:"clickFaceItem",value:function(t){var e=this.$el.querySelector(".post-area"),n=e.selectionStart||0;this.chatMsg="".concat(this.chatMsg.substring(0,n)).concat(t).concat(this.chatMsg.substring(n,this.chatMsg.length));var i=n+t.length;setTimeout((function(){e.selectionStart=i,e.selectionEnd=i,e.focus()}))}},{key:"placeholderMsg",get:function(){return/macintosh|mac os x/i.test(navigator.userAgent)?this.$tc("common_postarea_Macpc_placeholder"):this.$tc("common_postarea_pc_placeholder")}},{key:"currExtuin",get:function(){var t=this.globalData.reception.extuin;return t||0}},{key:"toInfo",get:function(){var t=Object(m["a"])(Object(m["a"])({},this.to),{},{extuin:this.currExtuin,user_type:4});return t}},{key:"chatKeyDown",value:function(t){var e,n=this.$el.querySelector(".post-area");if(!0!==t.ctrlKey&&!0!==t.metaKey||(this.isCtrlKeyDown=1),13===t.which&&1===this.isCtrlKeyDown&&!this.isMacOS){var i=n.selectionStart||0;this.chatMsg="".concat(this.chatMsg.substring(0,i),"\r\n").concat(this.chatMsg.substring(i,this.chatMsg.length));var a=i+1;setTimeout((function(){n.scrollTop=n.scrollTop+20,n.selectionStart=a,n.selectionEnd=a,n.focus()}))}if(13===t.which&&1===this.isCtrlKeyDown&&this.isMacOS){var o=n.selectionStart||0;this.chatMsg="".concat(this.chatMsg.substring(0,o),"\r\n").concat(this.chatMsg.substring(o,this.chatMsg.length));var s=o+1;setTimeout((function(){n.scrollTop=n.scrollTop+20,n.selectionStart=s,n.selectionEnd=s,n.focus()}))}13===t.which&&0===this.isCtrlKeyDown&&(t.preventDefault(),this.sendMsg(),this.currExtuin&&this.bShowTypingSwitch&&(null===(e=nt.sendInputStatusMessage)||void 0===e||e.call(nt,this.toInfo,2)))}},{key:"chatKeyUp",value:function(t){!1!==t.ctrlKey&&!1!==t.metaKey||(this.isCtrlKeyDown=0)}},{key:"pasteText",value:function(t){var e=t.clipboardData||t.originalEvent.clipboardData,n=Array.from(e.items),i=!1,a=[],o=[];n.forEach((function(t){a.push({kind:t.kind,type:t.type,file:t.getAsFile()}),"file"===t.kind&&t.type.match("^image/")&&(i=!0,o.push(t.getAsFile()))}));var s=this.$refs.btnTools;i&&s&&s.canSendImage&&(console.log("copys",a),this.$emit("callFunc","imageUploadWithCopy",{target:{files:o}}),t.preventDefault()),console.log("pasteText",t,e,n)}},{key:"openFileUpload",value:function(t){"image"===t?this.$emit("callFunc","imageUpload"):this.$emit("callFunc","fileUpload")}},{key:"sendMsg",value:function(t){var e=this;this.chatMsg&&this.chatMsg.trim()||t?(this.$emit("callFunc","sendTextMessage",this.chatMsg||t),!this.disableToolbar&&(this.chatMsg=""),this.$nextTick((function(){var t=e.$refs.textarea;t.focus(),e.textInputStart=0}))):this.$Toast(this.$t("不能发送空白消息"))}},{key:"robotTransfer",value:function(){this.$emit("callFunc","robotTransfer")}},{key:"closeSession",value:function(){this.$emit("callFunc","closeSession")}},{key:"exitQueue",value:function(){this.$emit("callFunc","exitQueue")}},{key:"activeFeedback",value:function(){this.$emit("callFunc","activeFeedback")}},{key:"clear",value:function(){var t=this;this.chatMsg="",this.$nextTick((function(){var e=t.$refs.textarea;e.focus()}))}},{key:"onInput",value:function(){var t,e=Date.now(),n=e-this.textInputStart;this.currExtuin&&this.bShowTypingSwitch&&n>=1e4&&(this.textInputStart=e,null===(t=nt.sendInputStatusMessage)||void 0===t||t.call(nt,this.toInfo,1))}},{key:"onFocus",value:function(){document.body.classList.add("keyboard-focus")}},{key:"onBlur",value:function(){var t;(document.body.classList.remove("keyboard-focus"),this.currExtuin&&this.bShowTypingSwitch)&&(null===(t=nt.sendInputStatusMessage)||void 0===t||t.call(nt,this.toInfo,2))}}])}(u["d"]);Object(d["a"])([Object(u["b"])("inIframe")],it.prototype,"inIframe",void 0),Object(d["a"])([Object(u["b"])("globalData")],it.prototype,"globalData",void 0),Object(d["a"])([Object(u["b"])("to")],it.prototype,"to",void 0),Object(d["a"])([Object(u["c"])({default:[]})],it.prototype,"toolButtons",void 0),Object(d["a"])([Object(u["c"])({default:""})],it.prototype,"sourceMsg",void 0),Object(d["a"])([Object(u["c"])({default:""})],it.prototype,"inputContent",void 0),Object(d["a"])([Object(u["c"])({default:!1})],it.prototype,"bShowTypingSwitch",void 0),Object(d["a"])([Object(u["c"])({default:!1})],it.prototype,"disableToolbar",void 0),Object(d["a"])([Object(u["c"])({default:!1})],it.prototype,"isShowSearchNetwork",void 0),Object(d["a"])([Object(u["e"])("chatMsg")],it.prototype,"onChatMsgChange",null),Object(d["a"])([Object(u["e"])("inputContent",{immediate:!0})],it.prototype,"onInputContent",null),it=Object(d["a"])([Object(u["a"])({name:"ChatTools",components:{BtnTools:tt}})],it);var at=it,ot=at,st=(n("2ffe"),Object(A["a"])(ot,F,R,!1,null,"210230e1",null)),ct=st.exports,rt=n("368b"),lt=n("7aff"),dt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.isLoading?t._e():e("div",{staticClass:"load-status",staticStyle:{"margin-top":"8px"}},[e("span",{staticClass:"btn-load-msg",on:{click:function(e){return t.$emit("click")}}},[t._v(t._s(t.$t("chat_history_msg_get_text")))])]),t.isLoading?e("div",{staticClass:"load-status",staticStyle:{"margin-top":"8px"}},[e("div",{staticClass:"status-loading"},[e("i",{staticClass:"loading loading-s"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("chat_history_msg_loading_text")))])])]):t._e()])},ut=[],mt=function(t){function e(){var t;Object(s["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(T["a"])(t,"isLoading",void 0),t}return Object(l["a"])(e,t),Object(c["a"])(e)}(u["d"]);Object(d["a"])([Object(u["c"])({default:!1})],mt.prototype,"isLoading",void 0),mt=Object(d["a"])([Object(u["a"])({name:"MsgLoad",components:{}})],mt);var ft=mt,ht=ft,pt=(n("90fa"),Object(A["a"])(ht,dt,ut,!1,null,"155ac2e4",null)),gt=pt.exports,vt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"chat-list-container"},[t._l(t.msgList,(function(n){return[e("message-item",{directives:[{name:"show",rawName:"v-show",value:"robot"!==n.type||!n.isNeedHide,expression:"item.type !== 'robot' || !item.isNeedHide"}],key:t.getKey(n),attrs:{message:n,styleConfig:t.styleConfig},on:{resendMsg:function(e){return t.resendMsg(n)},onReplay:function(e){return t.$emit("onReplay",e)},onCopy:function(e){return t.$emit("onCopy",e)},onRevoke:function(e){return t.$emit("onRevoke",e)},"on-scroll-to":function(e){return t.$emit("on-scroll-to",e)},onLunchQQ:function(e){return t.$emit("onLunchQQ",e)},onAddQQ:function(e){return t.$emit("onAddQQ",e)},videoMsgClick:function(e){return t.$emit("videoMsgClick",e)}},scopedSlots:t._u([{key:"thirdMsgItem",fn:function(e){return[t._t("thirdMsgItem",null,{data:e.data})]}}],null,!0)})]}))],2)},bt=[],_t=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"msgItem"+t.msg.seq,staticClass:"msg-item flex",class:t.msgCls,attrs:{seq:t.msg.seq}},[t.msg.type===t.IMSDKType.MSG_GRAY?[e("msg-gray",t._g({staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{device:"pc",data:t.msg}},t.$listeners))]:t.msg.type===t.MsgType.MSG_TIP?[e("msg-tip",{attrs:{device:"pc",data:t.msg}})]:t.msg.type===t.MsgType.MSG_DATETIME?[e("msg-date-time",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{data:t.msg}})]:t.msg.type===t.IMSDKType.MSG_REVOKE?[e("msg-revoke",{attrs:{data:t.msg}})]:t.msg.type==t.IMSDKType.MSG_ROBOT_NAV?[e("msg-robot-nav",{staticClass:"pc",class:[t.inIframe?"inIframe":"pc-not-frame"],attrs:{data:t.msg}})]:t.msg.type==t.MsgType.MSG_ROBOT_GOODS_NAV?[e("msg-robot-goods-nav",{class:{"pc-not-frame":!t.inIframe},attrs:{data:t.msg}})]:[t.msg.extuinInfo&&!t.msg.hideBInfo?e("div",{staticClass:"msg-avatar"},[e("img",{staticClass:"avatar-image",attrs:{src:t.msg.extuinInfo.avatar},on:{error:function(e){e.target.src=t.DEFAULTAVATAR}}})]):t._e(),e("div",{staticClass:"msg-side",style:t.customStyle},[t.msg.extuinInfo&&!t.msg.hideBInfo?e("div",{staticClass:"msg-name"},[e("div",{staticClass:"name-txt"},[t._v(t._s(t.msg.extuinInfo.name))]),e("qr-code",{attrs:{guidanceInfo:t.globalData.guidanceInfo}})],1):t._e(),e("div",{staticClass:"msg-contianer flex"},[e("div",{staticClass:"msg-body",class:Object(T["a"])({"bg-primay":t.msg.mine,"file-border-radius":t.msg.type===t.IMSDKType.MSG_FILE,"image-border-radius":t.msg.type===t.IMSDKType.MSG_IMAGE_TEXT,"flex-full":t.msg.hideBInfo},"msg_".concat(t.msgId),t.msgId)},[t.msg.type===t.IMSDKType.MSG_TEXT?e("msg-text",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{"select-none":t.canReplay,data:t.msg},on:{onReplayMsgClick:function(e){return t.$emit("on-scroll-to",e)}},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type===t.IMSDKType.MSG_IMAGE?e("msg-image",{staticClass:"pc",attrs:{data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type===t.IMSDKType.MSG_FILE?e("msg-file",{staticClass:"pc",attrs:{"data-msg":JSON.stringify(t.msg),data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_VOICE?e("msg-ptt",{attrs:{data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_LONG_MSG?e("msg-long-msg",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{"select-none":t.canReplay,data:t.msg},on:{onReplayMsgClick:function(e){return t.$emit("on-scroll-to",e)}},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_IMAGE_TEXT?e("msg-image-text",{attrs:{data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_QDXML?e("msg-qdxml",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{data:t.msg},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_MIX?e("msg-mix",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{data:t.msg},on:{onReplayMsgClick:function(e){return t.$emit("on-scroll-to",e)}},nativeOn:{contextmenu:function(e){return t.handleContextmenu.apply(null,arguments)}}}):t.msg.type==t.IMSDKType.MSG_ROBOT?e("msg-robot",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{data:t.msg},on:{changeCustomStyle:t.changeCustomStyle}}):t.msg.type==t.MsgType.MSG_TYPING?e("msg-manual-typing",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{data:t.msg}}):t.msg.type==t.MsgType.MSG_LEAVE_FORM?e("msg-leave-form",{attrs:{data:t.msg}}):t.msg.type===t.MsgType.MSG_ADD_QQ_CARD?e("msg-add-qq-card",{attrs:{data:t.msg},on:{onAddQQ:function(e){return t.$emit("onAddQQ",t.msg)}}}):t.msg.type===t.MsgType.MSG_INVITE_QQ?e("msg-qq-invite-card",{attrs:{data:t.msg},on:{onLunchQQ:function(e){return t.$emit("onLunchQQ",t.msg)}}}):t._t("thirdMsgItem",(function(){return[t.msg.type===t.IMSDKType.MSG_THIRD_MSG&&60===t.msg.content.crmFlag?e("msg-satisfaction-survey",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{data:t.msg}}):t.msg.type==t.IMSDKType.MSG_RTC?e("msg-rtc",{attrs:{data:t.msg},on:{videoMsgClick:t.videoMsgClick}}):e("msg-unknown",{staticClass:"pc",class:{"pc-not-frame":!t.inIframe},attrs:{data:t.msg}},[t._v(" ["+t._s(t.$t("未知类型消息"))+"] ")])]}),{data:t.msg})],2),t.msg.mine?[t.msg.status!==t.MsgStatus.Success?e("div",{staticClass:"msg-status"},[t.msg.status===t.MsgStatus.Sending?e("img",{staticClass:"icon-loading anim-rotate",attrs:{src:n("dbf9")}}):t._e(),t.msg.status===t.MsgStatus.Resend||t.msg.status===t.MsgStatus.Invalid?e("img",{staticClass:"icon-fail",attrs:{src:n("4f77")},on:{click:t.resendMsg}}):t._e()]):t._e(),t.isShowReadReceiptTag?e("div",{staticClass:"msg-beenread-tag"},[t.msg.hasBeenRead?e("div",{staticClass:"msg-icon-beenread"},[t._v(t._s(t.$t("msg_beenread")))]):e("div",{staticClass:"msg-icon-unread txt-primay"},[t._v(t._s(t.$t("msg_unread")))])]):t._e()]:t._e()],2)])]],2)},wt=[],yt=(n("caad"),n("a9e3"),n("4022")),xt=n("d5b4"),Ct=n("641c"),Tt=function(t){function e(){var t;Object(s["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(T["a"])(t,"message",void 0),Object(T["a"])(t,"styleConfig",void 0),Object(T["a"])(t,"MsgType",void 0),Object(T["a"])(t,"IMSDKType",void 0),Object(T["a"])(t,"MsgStatus",void 0),Object(T["a"])(t,"inIframe",void 0),Object(T["a"])(t,"globalData",void 0),Object(T["a"])(t,"customStyle",""),t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"DEFAULTAVATAR",get:function(){return xt["a"]}},{key:"msg",get:function(){return this.message}},{key:"msgType",get:function(){return""}},{key:"msgId",get:function(){var t;return null===(t=this.msg)||void 0===t||null===(t=t.msgHead)||void 0===t||null===(t=t.msg_third_app_info)||void 0===t||null===(t=t.bytes_third_app_buf)||void 0===t||null===(t=t.bytes_crm_buf)||void 0===t?void 0:t.str_current_qidian_msg_unique_id}},{key:"msgSendSuccess",get:function(){return this.msg.status===this.MsgStatus.Success}},{key:"canReplay",get:function(){return this.msgId&&this.msgSendSuccess}},{key:"msgCls",get:function(){var t=this.msg,e=this.IMSDKType,n=this.MsgType,i=Object(T["a"])(Object(T["a"])(Object(T["a"])(Object(T["a"])(Object(T["a"])({},e.MSG_GRAY,"msg-type-gray"),n.MSG_TIP,"msg-type-tip"),n.MSG_DATETIME,"msg-type-datetime"),e.MSG_REVOKE,"msg-type-revoke"),e.MSG_ROBOT_NAV,"msg-type-robot-nav");return t.type in i?i[t.type]:"".concat(t.mine?"msg-c2b":"msg-b2c"," msg-type-").concat(t.type)}},{key:"isShowReadReceiptTag",get:function(){return this.msg.status===this.MsgStatus.Success&&this.msg.readStatusSwitch&&this.msg.hasReadReceiptTag&&"undefined"!==typeof this.msg.hasBeenRead}},{key:"handleContextmenu",value:function(t){var e=this,n=[this.IMSDKType.MSG_TEXT,this.IMSDKType.MSG_LONG_MSG],i=[];if(this.canReplay&&i.push({label:this.$t("回复"),icon:"replay",onClick:function(){return e.$emit("onReplay",e.msg)}}),n.includes(this.msg.type)){var a="";this.msg.type===this.IMSDKType.MSG_TEXT&&(a=this.msg.content),this.msg.type===this.IMSDKType.MSG_LONG_MSG&&(a=this.msg._processedText),i.push({label:this.$t("复制"),icon:"copy",onClick:function(){return e.$emit("onCopy",a)}})}else if(this.msg.type===this.IMSDKType.MSG_MIX){var o="";this.msg.content.forEach((function(t){t.type===e.IMSDKType.MSG_TEXT&&(o+=t.content),t.type===e.IMSDKType.MSG_FACE&&(o+="[".concat(e.$t("表情"),"]"))})),o.trim().length>0&&i.push({label:this.$t("复制"),icon:"copy",onClick:function(){return e.$emit("onCopy",o)}})}this.canRevoke()&&i.push({label:this.$t("撤回"),icon:"revoke",onClick:function(){return e.$emit("onRevoke",e.msg)}}),0!==i.length&&(t.preventDefault(),this.$contextmenu({items:i,event:t,zIndex:3,minWidth:160}))}},{key:"resendMsg",value:function(){this.$emit("resendMsg")}},{key:"canRevoke",value:function(){if(this.msg.onlyInvisibleMsg)return!1;if(!this.styleConfig||!Number(this.styleConfig.isAllowRecall)||0!==+this.msg.status)return!1;var t=2,e=this.msg.type,n=this.msg.mine,i=this.IMSDKType,a=i.MSG_TEXT,o=i.MSG_LONG_MSG,s=i.MSG_FILE,c=i.MSG_MEDIA,r=i.MSG_IMAGE,l=i.MSG_VOICE,d=i.MSG_FACE,u=i.MSG_IMAGE_TEXT,m=i.MSG_MIX,f=i.MSG_QDXML,h=[a,o,s,c,r,l,d,u,m,f],p=this.msg.time&&parseInt(this.msg.time,10),g=(new Date).getTime(),v=g-p<=6e4*t;return n&&v&&h.includes(e)}},{key:"videoMsgClick",value:function(t){this.$emit("videoMsgClick",t)}},{key:"changeCustomStyle",value:function(t){this.customStyle=t}}])}(u["d"]);Object(d["a"])([Object(u["c"])({default:{}})],Tt.prototype,"message",void 0),Object(d["a"])([Object(u["c"])({default:function(){}})],Tt.prototype,"styleConfig",void 0),Object(d["a"])([Object(u["b"])()],Tt.prototype,"MsgType",void 0),Object(d["a"])([Object(u["b"])()],Tt.prototype,"IMSDKType",void 0),Object(d["a"])([Object(u["b"])()],Tt.prototype,"MsgStatus",void 0),Object(d["a"])([Object(u["b"])()],Tt.prototype,"inIframe",void 0),Object(d["a"])([Object(u["b"])()],Tt.prototype,"globalData",void 0),Tt=Object(d["a"])([Object(u["a"])({name:"MessageItem",components:Object(m["a"])(Object(m["a"])({},yt["a"]),{},{QrCode:Ct["a"]})})],Tt);var kt=Tt,It=kt,Mt=(n("d252"),n("53b2"),n("94a86"),Object(A["a"])(It,_t,wt,!1,null,"fe6aa256",null)),At=Mt.exports,St=function(t){function e(){var t;Object(s["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(T["a"])(t,"msgList",void 0),Object(T["a"])(t,"styleConfig",void 0),t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"resendMsg",value:function(t){this.$emit("resendMsg",t)}},{key:"getKey",value:function(t){return t.seq}}])}(u["d"]);Object(d["a"])([Object(u["c"])({default:[]})],St.prototype,"msgList",void 0),Object(d["a"])([Object(u["c"])({default:function(){}})],St.prototype,"styleConfig",void 0),St=Object(d["a"])([Object(u["a"])({name:"MessageList",components:{MessageItem:At}})],St);var qt=St,Ot=qt,Dt=Object(A["a"])(Ot,vt,bt,!1,null,"620918a0",null),jt=Dt.exports,Pt=n("803a"),Ft=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.nums?e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"btn-offlinemsg-gotop",on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"gotop-text"},[t._v(t._s("".concat(t.nums+t.$t("条新消息"))))]),e("img",{staticClass:"icon-arrow-down",attrs:{src:n("352e")}})]):t._e()},Rt=[],Lt=function(t){function e(){var t;Object(s["a"])(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Object(r["a"])(this,e,[].concat(i)),Object(T["a"])(t,"nums",void 0),Object(T["a"])(t,"isShow",!1),Object(T["a"])(t,"unreadTimer",null),t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"onNumChange",value:function(t){var e=this;console.log("[unreadMsgNum]",t),t-0>0?this.unreadTimer=setTimeout((function(){e.isShow=!0}),1e3):(clearTimeout(this.unreadTimer),this.isShow=!1)}}])}(u["d"]);Object(d["a"])([Object(u["c"])({default:0})],Lt.prototype,"nums",void 0),Object(d["a"])([Object(u["e"])("nums")],Lt.prototype,"onNumChange",null),Lt=Object(d["a"])([Object(u["a"])({name:"MsgNewNotice"})],Lt);var Et=Lt,Nt=Et,Bt=(n("4779"),Object(A["a"])(Nt,Ft,Rt,!1,null,"69e95f5b",null)),Qt=Bt.exports,Gt=n("3bd9"),zt=n("a4cc"),Ut=n("a7d8"),Ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ai-tips"},[t.aiContentAlert?e("span",{staticClass:"tips-content"},[t._v(" "+t._s(t.aiContentAlert)+" ")]):t._e()])},Wt=[],Jt=n("ea5f"),Yt=n("4328"),Vt=n.n(Yt),Xt={zh:"","zh-TW":"Tw",en:"En"},Kt={name:"AiTips",props:{reception:{type:Object,default:function(){return{}}}},data:function(){return{supportInfo:{},aiContentAlert:""}},watch:{"$i18n.locale":function(){this.handleSupport()},"reception.largeModelRobotId":{handler:function(t,e){t!==e&&this.fetchSupportInfo()}}},created:function(){this.reception.largeModelRobotId&&this.fetchSupportInfo()},methods:{fetchSupportInfo:function(){var t=this,e=Vt.a.parse(location.search,{ignoreQueryPrefix:!0}),n=e.kfuin,i=e.wpaId,a=e.key,o=e.fid,s={fields:["supportInfo"],kfuin:n||"",wpaId:o||i||"",key:a||"",robotId:this.reception.largeModelRobotId||0};Object(Jt["a"])(s,(function(e){var n=e.supportInfo,i=void 0===n?{}:n,a=i.code,o=i.data;0===a?(t.supportInfo=o,t.handleSupport()):console.error("fetchSupportInfo error:",{code:a,data:o})}))},handleSupport:function(){if("{}"!==JSON.stringify(this.supportInfo)){var t=this.$i18n.locale,e=Xt[t];this.aiContentAlert=this.supportInfo["aiContentAlert".concat(e)]}}}},Zt=Kt,$t=(n("2e28"),Object(A["a"])(Zt,Ht,Wt,!1,null,"55ca47c7",null)),te=$t.exports,ee=n("8118"),ne=n("dc1b"),ie=n("5ac5"),ae={name:"Aio",mixins:[ee["c"],ne["a"]],components:{ChatTools:ct,ImageUploader:rt["a"],FileUploader:lt["a"],MsgLoad:gt,MessageList:jt,MockMsg:Pt["a"],MsgNewNotice:Qt,QdSign:P["a"],SetLangModal:Gt["a"],InformationForm:zt["a"],WaitPoolTips:Ut["a"],AiTips:te},props:{cShowTypingSwitch:{type:Boolean,default:!1},bShowTypingSwitch:{type:Boolean,default:!1}},data:function(){return{isShowSetLangPanel:!1}},created:function(){ie["a"].switchSetLangPanel=this.switchSetLangPanel.bind(this)},methods:{replay:function(t){this.handleReplayMsg(t),this.$refs.chatTools.focus&&this.$refs.chatTools.focus()},switchSetLangPanel:function(t){this.isShowSetLangPanel=t}}},oe=ae,se=(n("a0e52"),Object(A["a"])(oe,D,j,!1,null,"724984b0",null)),ce=se.exports,re=n("72bf"),le=n.n(re),de=n("019f"),ue=n("6e0c"),me=function(){var t=this,e=t._self._c;return e("div",[t.activeCall?e("div",{staticClass:"trtc"},[e("div",{staticClass:"callMsg"},[t.isCallee?e("div",{staticClass:"call__left"},[e("div",{staticClass:"call__name"},[t._v(t._s(t.callName))]),t.speaking?e("div",{staticClass:"call__tips"},[t._v("正在和你进行"+t._s(t.callTypeName)+"通话")]):e("div",{staticClass:"call__tips"},[t._v("正在邀请你进行"+t._s(t.callTypeName)+"通话")])]):e("div",{staticClass:"call__left"},[e("div",{staticClass:"call__name"},[t._v(t._s(t.callName))]),t.speaking?e("div",{staticClass:"call__tips"},[t._v("正在和你进行"+t._s(t.callTypeName)+"通话")]):e("div",{staticClass:"call__tips"},[t._v("正在等待对方接受"+t._s(t.callTypeName)+"通话")])]),e("div",{staticClass:"accept",class:t.isCallee&&!t.speaking?"":"accept--hide"},[t.isVideo?e("div",{staticClass:"trtc__video",on:{click:t.initAnswer}},[e("img",{attrs:{src:t.icons.video,width:"40",height:"40"}})]):e("div",{staticClass:"trtc__voice",on:{click:t.initAnswer}},[e("img",{attrs:{src:t.icons.audio,width:"40",height:"40"}})])]),e("div",{staticClass:"hangup",on:{click:t.initHangup}},[e("img",{attrs:{src:t.icons.hangup,width:"40",height:"40"}})])])]):t._e()])},fe=[],he=n("e268"),pe={props:{wpaDetail:{type:Object,default:function(){return{}}},employeeInfo:{type:Object,default:function(){return{}}},reception:{type:Object,default:function(){return{}}}},mixins:[y],data:function(){return{icons:{video:n("487a"),audio:n("ed5c"),hangup:n("0355")},roomid:"",mediaType:"",activeCall:!1,isCallee:!1,speaking:!1}},computed:{isVideo:function(){return 1===this.mediaType},callTypeName:function(){return this.isVideo?"视频":"语音"},callName:function(){return console.log(this.employeeInfo),this.employeeInfo.name||"未知"}},methods:{initAnswer:function(){this.activeCall=!1,this.userAction="receive",this.dir="b2c",he["a"].stop(),this.surportTRTC?(Object(v["a"])({message:"音视频:接听,".concat(this.roomid)}),_["l"].clear("dialling_timeout_timer"),this.openRoom()):this.checkTRTCFaile()},initHangup:function(){this.activeCall=!1,Object(v["a"])({message:"音视频:挂断,".concat(this.roomid)}),Object(v["a"])({message:"音视频:ring->idle:hangup"},!1),this.videoAct(b["a"].recRefuse),this.exitSdk({event:"hangup"})},showDialling:function(t){Object(v["a"])({message:"音视频:被叫,开始响铃".concat(JSON.stringify(t))}),console.log(this.wpaDetail),console.log(this.employeeInfo);var e=t.uint32_call_type,n=t.uint32_roomid;this.mediaType=e,this.roomid=n,this.activeCall=!0,this.isCallee=!0,he["a"].play()},stopRing:function(){this.activeCall=!1,he["a"].stop()}}},ge=pe,ve=(n("febf"),Object(A["a"])(ge,me,fe,!1,null,null,null)),be=ve.exports,_e=n("d260"),we={name:"WebIMPage",mixins:[p["a"],y],components:{PcHeader:q,Aio:ce,KefuFreeTip:O["a"],AnnouncementNotice:de["a"],PcRing:be,LinkIframeContainer:_e["a"]},data:function(){return{slideOpen:!1,isShowKeSafeTip:!0,sessionStart:!1,marginTop:"calc((100vh - 600px) / 2)"}},mounted:function(){this.adjustIMWindowSize()},computed:{isRenderSidebar:function(){var t=[this.wpaDetail.kfuin,!this.inIframe,this.styleConfig&&this.styleConfig.isUseWebSidebar,!this.isMiniMode];return t.every(Boolean)},iframeSrc:function(){var t,e=le.a.stringify({kfuin:this.wpaDetail.kfuin,wpaId:this.wpaDetail.wpaId,key:this.wpaDetail.key}),n=le.a.stringify({extuin:this.currExtuin||"",largeModelRobotId:(null===(t=this.reception)||void 0===t?void 0:t.largeModelRobotId)||0});return"./info-card.html?".concat(e,"#").concat(n)},isMiniMode:function(){var t=le.a.parse(location.search),e=t.mini_mode;return"1"===e}},methods:{handleCardInfo:function(){this.slideOpen=!this.slideOpen},adjustIMWindowSize:function(){var t=this,e=this.$refs.imContainerRef;this.marginTop="calc((100vh - ".concat(e.clientHeight,"px) / 2)"),window.addEventListener("resize",Object(ue["a"])((function(){t.marginTop="calc((100vh - ".concat(e.clientHeight,"px) / 2)")}),100))},onSessionStart:function(){this.handleSessionStart()},showSetLangPanel:function(){ie["a"].switchSetLangPanel(!0)},videoMsgClick:function(t){this.currExtuin&&(1==t?this.videoCall():this.audioCall())}}},ye=we,xe=(n("9d0b"),Object(A["a"])(ye,f,h,!1,null,"4896a55e",null)),Ce=xe.exports,Te=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,e,arguments)}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"created",value:function(){var t=document.body.classList,e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);t&&e&&t.add("platform-safari")}},{key:"mounted",value:function(){}}])}(u["d"]);Te=Object(d["a"])([Object(u["a"])({components:{WebIMPage:Ce}})],Te);var ke=Te,Ie=ke,Me=(n("d429"),Object(A["a"])(Ie,a,o,!1,null,null,null)),Ae=Me.exports,Se=n("55b6"),qe=n("ae03"),Oe=n("75e4"),De=n("33ae"),je=n("c2e0"),Pe=n("0086"),Fe=n.n(Pe),Re=n("e5d9"),Le=n("4eb5"),Ee=n.n(Le),Ne=n("aa87"),Be=n.n(Ne),Qe=(n("e8e5"),navigator.userAgent);i["a"].prototype.$platform={pc:!0,iOS:/iPhone|iPad|iPod/i.test(Qe),Android:/Android/i.test(Qe),Weixin:/MicroMessenger/i.test(Qe),WeixinApp:/MicroMessenger/i.test(Qe)&&/miniProgram/i.test(Qe)},i["a"].prototype.$ajax=qe["a"],i["a"].config.productionTip=!1,i["a"].use(Oe["a"]),i["a"].use(De["a"]),i["a"].use(je["a"]),i["a"].use(Fe.a),i["a"].use(Re["a"]),i["a"].use(Ee.a),i["a"].use(Be.a),new i["a"]({i18n:Se["b"],render:function(t){return t(Ae)}}).$mount("#app")},cb85:function(t,e,n){},cbaf:function(t,e,n){t.exports=n.p+"img/icon-file-download.aac90c3f.svg"},cddf:function(t,e,n){"use strict";n("117e")},cf42:function(t,e){t.exports="data:image/png;base64,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"},d103:function(t,e,n){"use strict";n("ae76")},d1d7:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"markdown-msg",class:t.$platform.pc?"pc":""},[e("LkeMsg",{staticClass:"content",attrs:{isPrintAnimate:!0,linkify:!0,showProcedures:!1,item:t.payloadContent,type:t.msgType,loadingIcon:t.loadingIcon,isMermaidRenderAfterOutput:!0},on:{postrender:t.emitMessageRender}}),t.isMsgComplete&&t.optionCards&&t.optionCards.length?e("div",{staticClass:"answer-options"},t._l(t.optionCards,(function(n,i){return e("div",{key:i,class:t.disableOption?"option-card disable":"option-card",on:{click:function(e){return t.clickOptionCard(n,i)}}},[t._v(" "+t._s(n)+" ")])})),0):t._e(),t.isMsgComplete&&t.referenceData&&t.referenceData.length?e("div",{staticClass:"reference"},[e("div",{staticClass:"tit"},[t._v("参考来源：")]),t._l(t.referenceData,(function(i){return e("div",{key:i.url,staticClass:"article-link"},[e("a",{attrs:{href:i.url,target:"_blank"}},[4===i.type?e("svg",{staticClass:"icon-papers"},[e("use",{attrs:{"xlink:href":n("9617")+"#qdmarkdownurl"}})]):e("svg",{staticClass:"icon-papers"},[e("use",{attrs:{"xlink:href":n("fc14")+"#papers"}})]),e("span",[t._v(t._s(i.name)+" >")])])])}))],2):t._e()],1)},a=[],o=(n("7db0"),n("caad"),n("14d9"),n("13d5"),n("e9f5"),n("f665"),n("9485"),n("e9c4"),n("b64b"),n("d3b7"),n("ac1f"),n("00b4"),n("2532"),n("498a"),n("5087"),n("5ac5")),s=n("b08d"),c=n("9de0"),r=c["b"].create(),l={inject:["globalData"],props:{message:{type:Object,default:function(){return{}}}},data:function(){return{sendOver:!1,loadingTimer:null,historyTimer:null,localOptionCard:-1,beforeSendLength:0}},created:function(){var t,e,n,i=this;this.message.fromHisotry&&null!==(t=this.message)&&void 0!==t&&null!==(t=t.content)&&void 0!==t&&t.is_final||(null===(e=this.message)||void 0===e||null===(e=e.content)||void 0===e||!e.is_final||o["a"].loadingMarkdownSeq!==this.message.seq&&o["a"].loadingMarkdownSeq?null!==(n=this.message)&&void 0!==n&&null!==(n=n.content)&&void 0!==n&&n.is_final||o["a"].loadingMarkdownSeq||(o["a"].loadingMarkdownSeq=this.message.seq,o["a"].isLoadingMarkdownMsg(!0),this.loadingTimer=setTimeout((function(){console.log("disableToolbar我执行的Timeout"),o["a"].isLoadingMarkdownMsg(!1),o["a"].loadingMarkdownSeq=null,i.loadingTimer=null}),6e4),o["a"].removeLoadingMsgFun=function(){o["a"].isLoadingMarkdownMsg(!1),o["a"].loadingMarkdownSeq=null,i.loadingTimer&&clearTimeout(i.loadingTimer),i.loadingTimer=null},this.message.fromHisotry&&(this.historyTimer=setTimeout((function(){o["a"].isLoadingMarkdownMsg(!1),o["a"].loadingMarkdownSeq=null,i.loadingTimer&&clearTimeout(i.loadingTimer),i.loadingTimer=null}),3500))):(o["a"].isLoadingMarkdownMsg(!1),o["a"].loadingMarkdownSeq=null,o["a"].removeLoadingMsgFun=null))},computed:{isAiCreatedMsg:function(){var t;return null===this||void 0===this||null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.ai_reply)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.is_llm_generated},isMsgComplete:function(){var t;return null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.is_final},payloadContent:function(){var t;return null===this||void 0===this||null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.ai_reply)||void 0===t?void 0:t.payload},msgType:function(){var t;return(null===this||void 0===this||null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.ai_reply)||void 0===t?void 0:t.type)||""},referenceData:function(){var t,e=null===this||void 0===this||null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.ai_events)||void 0===t?void 0:t.find((function(t){return"reference"===t.type}));if(e){var n,i=null,a=null===e||void 0===e||null===(n=e.payload)||void 0===n?void 0:n.references;return a&&a.reduce&&(i=a.reduce((function(t,e){return t.find((function(t){return t.url===e.url}))||t.push(e),t}),[])),i}return null},optionCards:function(){var t;return(null===this||void 0===this||null===(t=this.message)||void 0===t||null===(t=t.content)||void 0===t||null===(t=t.ai_reply)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.option_cards)||[]},loadingIcon:function(){return this.$platform.pc?"https://bqq.gtimg.com/CDN/source/images/webim/markdown-loading.gif":"https://bqq.gtimg.com/CDN/source/images/webim/markdown-white-loading.gif"},disableOption:function(){return-1!==this.localOptionCard}},watch:{message:{handler:function(t){if(this.isMsgComplete){var e=r.getMessageTags(t),n=e.find((function(t){return"optioncard"===t.tag}));n&&(this.localOptionCard=JSON.parse(n.value))}}},"message.content":{deep:!0,immediate:!0,handler:function(t,e){this.historyTimer&&t&&e&&t.ai_record_no>e.ai_record_no&&(clearTimeout(this.historyTimer),this.historyTimer=null),this.changeUpdateIVHContent(t,e),e&&e.is_final&&t.ai_record_no>e.ai_record_no&&this.emitMessageRender()}},"message.content.is_final":{immediate:!0,handler:function(t){var e,n,i=this;t&&this.loadingTimer&&(console.log("disableToolbar我执行的",this.message.content.is_final),clearTimeout(this.loadingTimer),this.loadingTimer=null,o["a"].isLoadingMarkdownMsg(!1),o["a"].loadingMarkdownSeq=null,o["a"].removeLoadingMsgFun=null),!this.message.fromHisotry&&t&&null!==(e=this.payloadContent)&&void 0!==e&&e.drawer_type&&(1===this.payloadContent.drawer_type?o["a"].activeBussiness("goodsListBtn"):2===this.payloadContent.drawer_type&&o["a"].activeBussiness("orderListBtn")),!this.message.fromHisotry&&t&&this.$nextTick((function(){i.checkAndOpenIframeLink()})),!this.message.fromHisotry&&t&&null!==(n=this.payloadContent)&&void 0!==n&&n.file_collection&&Object.keys(this.payloadContent.file_collection).length>0?o["a"].file_collection=this.payloadContent.file_collection:o["a"].file_collection=null}}},methods:{clickOptionCard:function(t,e){this.disableOption||(o["a"].disableToolbar?this.$Toast({text:this.$t("您的问题将会逐一应答，请耐心等待"),maxWidth:260}):t&&(o["a"].sendTextMessage(t),this.localOptionCard=e,this.storeOptionDateToMsg(e)))},emitMessageRender:Object(s["a"])((function(){this.$emit("contentUpdate")}),100),changeUpdateIVHContent:function(t){var e,n,i;if(!(!o["a"].IVHPlayContent||this.message.fromHisotry||null!==t&&void 0!==t&&null!==(e=t.ai_reply)&&void 0!==e&&null!==(e=e.payload)&&void 0!==e&&e.is_from_self||"token_stat"===this.msgType)&&!this.sendOver){var a=(null===t||void 0===t||null===(n=t.ai_reply)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.content.substring(this.beforeSendLength))||"";this.beforeSendLength=null===t||void 0===t||null===(i=t.ai_reply)||void 0===i||null===(i=i.payload)||void 0===i?void 0:i.content.length,console.log("IVHPlayContent beforeLength",this.beforeSendLength,a,this.message.seq),this.sendOver=this.isMsgComplete,o["a"].IVHPlayContent({playContent:a,msgSeq:this.message.seq,isFinal:this.isMsgComplete})}},storeOptionDateToMsg:function(t){r.setMessageTags(this.message,[{tag:"optioncard",value:JSON.stringify(t)}])},checkAndOpenIframeLink:function(){var t=this.$el.querySelectorAll("a");if(1===t.length){var e,n,i=t[0],a=i.getAttribute("href");if(a&&a.includes("open_qd_iframe=1")&&null!==(e=this.globalData)&&void 0!==e&&null!==(e=e.reception)&&void 0!==e&&e.isLargeModelRobot&&null!==(n=this.globalData)&&void 0!==n&&null!==(n=n.reception)&&void 0!==n&&n.largeModelRobotId){var s=a.trim();/^(http)/.test(s)&&o["a"].openIframeLink({url:s,robotId:this.globalData.reception.largeModelRobotId})}}}},beforeDestroy:function(){this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=null,o["a"].isLoadingMarkdownMsg(!1),o["a"].loadingMarkdownSeq=null,o["a"].removeLoadingMsgFun=null)}},d=l,u=(n("5302"),n("2877")),m=Object(u["a"])(d,i,a,!1,null,"50c3826e",null);e["default"]=m.exports},d200:function(t,e,n){t.exports=n.p+"img/audo.d369926f.svg"},d21d:function(t,e,n){},d252:function(t,e,n){"use strict";n("0b9b")},d260:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return t.openPop?e("popup",{ref:"popup",staticClass:"iframe-link-popup",attrs:{show:t.openPop,isShowScroll:!1,title:t.title},on:{"update:show":function(e){t.openPop=e}}},[t.iframeSrc?e("iframe",{attrs:{src:t.iframeSrc,frameborder:"0",allow:"camera *; microphone *"}}):t._e()]):t._e()},a=[],o=n("53ca"),s=(n("99af"),n("e9c4"),n("ac1f"),n("5319"),n("5ac5")),c=n("7dc1"),r=n("4328"),l=n.n(r),d=n("2ca8"),u={name:"linkIframeContainer",data:function(){return{iframeSrc:"",openPop:!1,robotId:"",title:"",linkMessageFuntion:null}},props:{reception:{type:Object,default:function(){return{}}}},components:{Popup:c["a"]},watch:{},computed:{isMobile:function(){var t;return!(null!==(t=this.$platform)&&void 0!==t&&t.pc)}},created:function(){var t=this;this.linkMessageFunction=function(e){if("object"===Object(o["a"])(e)){var n=(null===e||void 0===e?void 0:e.data)||{},i=n.act,a=n.data;if("INSET_IFRAME_FOR_WEBIM_MESSAGE"===i&&a&&a.message){var c,r,l,d;if((null===(c=t.reception)||void 0===c||!c.largeModelRobotId)&&(null===(r=t.reception)||void 0===r||!r.robotId))return s["a"].showTipMessage({message:"机器人会话已结束，暂不支持提交"}),void(t.openPop=!1);if((null===(l=t.reception)||void 0===l?void 0:l.largeModelRobotId)!==t.robotId&&(null===(d=t.reception)||void 0===d?void 0:d.robotId)!==t.robotId)return s["a"].showTipMessage({message:"该轮机器人会话已结束，暂不支持提交"}),void(t.openPop=!1);if(s["a"].isSendingWaitMarkdownMsg&&s["a"].isSendingWaitMarkdownMsg())return;t.openPop=!1;var u={action:1001,name:"表单提交",meta:{message:a.message}},m="mqqwpa://im/qdmenu?svrId=1000003&robotId=".concat(t.reception.largeModelRobotId,"&ext=").concat(encodeURIComponent(JSON.stringify(u)));s["a"].sendIframeRobotMessage({args:m,text:""}),console.log(m)}"CLOSE_IFRAME_FOR_WEBIM_MESSAGE"===i&&(t.openPop=!1)}},window.addEventListener("message",this.linkMessageFunction)},mounted:function(){s["a"].openIframeLink=this.openIframeLink.bind(this)},methods:{openIframeLink:function(t){var e,n,i,a,o;if(t.url)if(t.robotId)if(null!==(e=this.reception)&&void 0!==e&&e.largeModelRobotId||null!==(n=this.reception)&&void 0!==n&&n.robotId)if((null===(i=this.reception)||void 0===i?void 0:i.largeModelRobotId)===t.robotId||(null===(a=this.reception)||void 0===a?void 0:a.robotId)===t.robotId){var c=l.a.parse(t.url.split("#")[0],{ignoreQueryPrefix:!0}),r=c.qd_iframe_title;if(this.title=r?decodeURIComponent(r):"  ",this.robotId=t.robotId,t.url.indexOf("_need_qd_trans_info=1")>-1){var u,m,f=/\b_need_qd_trans_info=1\b/g,h=(null===s["a"]||void 0===s["a"]||null===(u=s["a"].wpaDetail)||void 0===u?void 0:u.kfuin)||"",p=(null===s["a"]||void 0===s["a"]||null===(m=s["a"].wpaDetail)||void 0===m?void 0:m.visitorid)||"";this.iframeSrc=t.url.replace(f,"_need_qd_trans_info=1&c_kfuin=".concat(h,"&c_vid=").concat(p))}else this.iframeSrc=t.url;this.openPop=!0}else s["a"].showTipMessage({message:"该轮机器人会话已结束，暂不支持点击"});else s["a"].showTipMessage({message:"机器人会话已结束，暂不支持点击"});else null!==(o=this.$platform)&&void 0!==o&&o.PcWechatMiniProgram?window.open(Object(d["a"])(t.url),"_self"):window.open(Object(d["a"])(t.url),"_blank")}},beforeDestroy:function(){this.linkMessageFunction&&window.removeEventListener("message",this.linkMessageFunction)}},m=u,f=(n("7926"),n("2877")),h=Object(f["a"])(m,i,a,!1,null,null,null);e["a"]=h.exports},d363:function(t,e,n){},d3dd:function(t,e,n){},d429:function(t,e,n){"use strict";n("ab9f")},d5b4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return u}));var i=n("c14f"),a=n("1da1"),o=n("7ea6"),s=o,c={},r={name:"",avatar:o};function l(t,e){if(!e){var n=c[t];return n||null}c[t]=e}function d(t){if(!t)return r;Object.assign(r,t)}function u(t,e){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(Object(i["a"])().m((function t(e,n){var a;return Object(i["a"])().w((function(t){while(1)switch(t.n){case 0:if(!e){t.n=3;break}if(a=null,a=l(e),!a){t.n=1;break}return t.a(2,a);case 1:return t.n=2,n(e);case 2:if(a=t.v,!a){t.n=3;break}return a.avatar||(a.avatar=o),l(e,a),t.a(2,a);case 3:return t.a(2,d())}}),t)}))),m.apply(this,arguments)}},d5d6:function(t,e,n){"use strict";n.r(e),e["default"]={lang:"English",qqface_Smile:"Smile",qqface_Grimac:"Grimac",qqface_Drool:"Drool",qqface_Scowl:"Scowl",qqface_Chill:"Chill",qqface_Sob:"Sob",qqface_Shy:"Shy",qqface_Silent:"Silent",qqface_Sleep:"Sleep",qqface_Cry:"Cry",qqface_Awkward:"Awkward",qqface_Angry:"Angry",qqface_Tongue:"Tongue",qqface_Grin:"Grin",qqface_Surprise:"Surprise",qqface_Frown:"Frown",qqface_CoolGuy:"CoolGuy",qqface_Helpless:"Helpless",qqface_Scream:"Scream",qqface_Puke:"Puke",qqface_Chuckle:"Chuckle",qqface_Joyful:"Joyful",qqface_Slight:"Slight",qqface_Smug:"Smug",qqface_Hungry:"Hungry",qqface_Drowsy:"Drowsy",qqface_Panic:"Panic",qqface_Sweat:"Sweat",qqface_Laugh:"Laugh",qqface_Commando:"Commando",qqface_Determined:"Determined",qqface_Scold:"Scold",qqface_Confused:"Confused",qqface_Shhh:"Shhh",qqface_Dizzy:"Dizzy",qqface_Torturing:"Torturing",qqface_Toasted:"Toasted",qqface_Skull:"Skull",qqface_Hammer:"Hammer",qqface_Bye:"Bye",qqface_Speechless:"Speechless",qqface_NosePick:"NosePick",qqface_Clap:"Clap",qqface_Embarrased:"Embarrased",qqface_Trick:"Trick","qqface_Hum!L":"Hum!L","qqface_Hum!R":"Hum!R",qqface_Yawn:"Yawn","qqface_Pooh-pooh":"Pooh-pooh",qqface_Shrunken:"Shrunken",qqface_TearingUp:"TearingUp",qqface_Sly:"Sly",qqface_Kiss:"Kiss","qqface_What!":"What!",qqface_Whimper:"Whimper",qqface_Cleaver:"Cleaver",qqface_Watermelon:"Watermelon",qqface_Beer:"Beer",qqface_Basketball:"Basketball",qqface_Pingpong:"Pingpong",qqface_Coffee:"Coffee",qqface_Rice:"Rice",qqface_Pig:"Pig",qqface_Rose:"Rose",qqface_Wilt:"Wilt",qqface_Lips:"Lips",qqface_Heart:"Heart",qqface_BrokenHeart:"BrokenHeart",qqface_Cake:"Cake",qqface_Lightning:"Lightning",qqface_Bomb:"Bomb",qqface_Knife:"Knife",qqface_Football:"Football",qqface_Beetle:"Beetle",qqface_Poop:"Poop",qqface_Moon:"Moon",qqface_Sun:"Sun",qqface_Gift:"Gift",qqface_Hug:"Hug",qqface_Thumbsup:"Thumbsup",qqface_Thumbsdown:"Thumbsdown",qqface_Shake:"Shake",qqface_Victory:"Victory",qqface_Salute:"Salute",qqface_Beckon:"Beckon",qqface_Fist:"Fist",qqface_Bad:"Bad",qqface_LoveYou:"LoveYou",qqface_NO:"NO",qqface_OK:"OK",qqface_Love:"Love",qqface_Blow_a_kiss:"Blow a kiss",qqface_Waddle:"Waddle",qqface_Tremble:"Tremble","qqface_Aaagh!":"Aaagh!",qqface_Twirl:"Twirl",qqface_Kowtow:"Kowtow",qqface_Turn_round:"Turn round",qqface_Rope_Skipping:"Rope Skipping",qqface_Wave_hand:"Wave hand",qqface_Excited:"Excited",qqface_Street_Dance:"Street Dance",qqface_Give_a_kiss:"Give a kiss",qqface_Tai_Chi_L:"Tai Chi L",qqface_Tai_Chi_R:"Tai Chi R",qqface_Bliss:"Bliss",qqface_Firecracker:"Firecracker",qqface_Lantern:"Lantern",qqface_Fortune:"Fortune",qqface_Karaoke:"Karaoke",qqface_Shopping:"Shopping",qqface_Email:"Email",qqface_Handsome:"Handsome",qqface_Hurray:"Hurray",qqface_Pray:"Pray",qqface_Furious:"Furious",qqface_Lollipop:"Lollipop",qqface_Drink_milk:"Drink milk",qqface_Noodles:"Noodles",qqface_Banana:"Banana",qqface_Plane:"Plane",qqface_Driving:"Driving",qqface_Highspeed_Rail_L:"Highspeed Rail L",qqface_Carriage:"Carriage",qqface_Highspeed_Rail_R:"Highspeed Rail R",qqface_Cloudy:"Cloudy",qqface_Rainy:"Rainy",qqface_Cash:"Cash",qqface_Panda:"Panda",qqface_Light_bulb:"Light bulb",qqface_Windmill:"Windmill",qqface_Alarm_Clock:"Alarm Clock",qqface_Umbrella:"Umbrella",qqface_Balloon:"Balloon",qqface_Ring:"Ring",qqface_Sofa:"Sofa",qqface_Toilet_Paper:"Toilet Paper",qqface_Medicine:"Medicine",qqface_Pistol:"Pistol",qqface_Frog:"Frog",custom_Face:"Custom Expression",common_play_error:"Cannot play, please download and play",common_download:"Download",common_page_title:"Online customer service",common_sendbtn_text:"Send",common_voicebtn_hold_text:"Hold to Talk",common_voicebtn_release_text:"Release to send",common_voicebtn_cancel_text:"Release to cancel",common_insert_photo_text:"Insert photo",common_insert_emoji_text:"Insert emoji",common_manual_close_text:"Quit chat",common_insert_file_text:"Insert file",common_feed_back_text:"feedback",common_screenshot_text:"screenshot",common_screenshot_tip_QQ:"QQ/WeChat screenshot is recommended",common_screenshot_tip_mac:"Mac: shortcut key Shift+Command+4 screenshot",common_screenshot_tip_win:'Windows: Use the built-in "screenshot tool"',short_insert_photo_text:"Photo",short_insert_file_text:"File",common_insert_call_text:"Began to talk",common_insert_audo_text:"Artificial service",common_insert_businessCard_text:"Send business card",common_insert_businessCard_balloon_text:"Send My Business Card",common_postarea_pc_placeholder:'Press "Enter" to send message, "Ctrl + Enter" change to new line',common_postarea_Macpc_placeholder:'Press "Enter" to send message, "Command + Enter" change to new line',common_postarea_mobile_placeholder:"Please enter",common_chatting_text:"Chatting",common_leave_message_text:"Message",common_chatting_with_text:"Chatting with $1",common_qq_chat_text:"QQ Chat",common_start_qq_chat_text:"Start QQchat",common_new_message_text:"New message",common_add_qq_friend_text:"Add QQ friends",common_confirm_text:"Confirm",common_cancel_text:"Cancel",common_tencent_certification:"certification-en",common_lang_en:"English",common_lang_zh:"Chinese","common_lang_zh-TW":"Traditional Chinese",common_tencent_translator:"Mr.Translator Auto Translation",common_tencent_translator_fail:"Translation failure-Mr.Translator",common_tencent_translator_only:"Only Chinese-English translation is supported-Mr.Translator",common_allow_text:"Allow",common_not_allow_text:"Don't Allow",common_read_all:"Read All",common_typing:"Typing...",common_typing_human:"[Typing...]",common_view_all:"Click to view all",common_audio_text:"Audio call",common_video_text:"Video call",common_video_confirm:"I see",common_video_text_call:"To call",chat_max_post_limit_text:"Content exceeds text limit",chat_history_msg_get_text:"Click to load historical messages",chat_history_msg_get_error:"Failed to load history message",chat_history_msg_loading_text:"Loading historical messages",chat_offline_msg_loading_text:"Loading new messages",chat_offline_msg_fail_text:"Fail to receive new messages, please click to retry",chat_offline_msg_over_text:"New message",chat_menu_msg_loading_text:"Loading navigation",chat_menu_msg_fail_text:"Fail to receive navigation, click to retry",chat_menu_msg_history_expired_text:"Historical messages has expired",chat_graphic_msg_readmore_text:"Read more",chat_graphic_msg_viewdmore_text:"View more",chat_feedback_title_text:"Please rate for the service",chat_feedback_submit_text:"Submit",chat_feedback_postarea_placeholder:"Your advice is mostly welcomed :)",chat_feedback_submitting_text:"Submitting",chat_feedback_success_msg:"Submitted successfully",chat_feedback_fail_msg:"Submission Failed",chat_feedback_error_msg:"Network error, please try again",chat_feedback_very_dissatisfied_text:"Very Dissatisfied",chat_feedback_dissatisfied_text:"Dissatisfied",chat_feedback_neutral_text:"Neutral",chat_feedback_satisfied_text:"Satisfied",chat_feedback_very_satisfied_text:"Very Satisfied",chat_add_friend_fetching_protocol_msg:"Fetching protocol",chat_add_friend_copy_success_msg:"Successful copy",chat_add_friend_fail_text:"Fail",chat_add_friend_fail_get_number_fail_text:"Failed to get numerical data",chat_add_friend_fail_no_text_selected_text:"No text selected, please copy it manually",chat_add_friend_fail_browser_not_support_text:"Browser does not support, please copy it manually",chat_change_queue_immediately:"立即切换",chat_close_session_confirm:"After ending the session, you may need to queue up again for consultation. Are you sure to end the session?",chat_close_session_succ:"The session has ended. If you need to continue the service, please send a message directly",chat_incoming:"Accessing, please wait",chat_incoming_success:"Successful connection",chat_incoming_timeout:'Access fails, please <a class="btn-refresh" href="javascript:;" onclick="location.reload();">refresh</a> to try again',chat_incoming_timeout_inframe:"Access fails, please refresh to try again",sysmsg_load_corpinfo_msg:"Loading business information",sysmsg_load_corpinfo_fail_msg:"Failed to load business information",sysmsg_load_staff_msg:"Loading staff information",sysmsg_load_staff_fail_msg:"Failed to load staff information",exit_queque_btn:"Exit queue",exit_queue_confirm:"Are you sure to exit the current queue?",exit_queue_success:"You have exited the queue",exit_queue_fail:"Failed to exit the queue. Please try again",notice_slider_header:"【Noice】",notice_popup_header:"Public Notice",notice_item_header:"【Noice】",notice_item_header_gjh:"【Noice】",ec_goods_text:"Goods",ec_order_text:"Order",send_business_card_btn:"send business card",xml_product_name:"Product Name",xml_product_exhibition_area:"Exhibition Area",xml_product_category:"Product Category",xml_purchase_quantity:"Purchase Quantity",xml_purchase_unit:"Purchase Unit",xml_buyer_name:"Buyer Name",xml_buyer_location:"Buyer Location",xml_buyer_tag:"Buyer Tag",xml_source_product:"Source Product",xml_source_category:"Category",xml_source_detail:"Details",xml_buyer_company_name:"Buyer Company Name",xml_buyer_company_country:"Country /Region",xml_exhibit_name:"Product Name",xml_exhibit_uom:"Uom",xml_exhibit_price:"Price",xml_exhibit_currency:"Currency",xml_exhibit_detail:"Details",xml_exhibit_jump_tip:"Click to view detailed purchase intention",sysmsg_msg_current_service_lang:"The service language is ",sysmsg_msg_change_service_lang:"Service language changed to ",msg_unread:"Unread",msg_beenread:"Read",ai_msg_tip:"This answer is generated by an AI assistant. Please use with caution.​​","说话时间太短":"The speaking time is too short","松开发送 上滑取消":"Release to send, Slide up to cancel","退出预览":"Exit Preview","您打开了多个会话页面，可激活当前页面继续咨询":"You have opened multiple conversation pages, you can activate the current page to continue consulting.","继续咨询":" Continue","当前浏览器不支持录音":"The current browser does not support recording Voice","即将发送语音":"The voice message is about to be sent","后将停止录音":"The recording will stop in ","录音异常，请检查麦克风或刷新页面重试，如依旧失败请发送文字消息":"There is an anomaly with the recording, please check the microphone or refresh the page to try again, if it still fails, please send a text message","松开手指 取消发送":"Release your finger to cancel sending Recording","无法定位原消息":"Unable to locate the original message","复制失败，请重试":"Replication failed, please try again","复制链接到浏览器即可下载文件":"Copy the link to the browser to download the file","复制链接到浏览器下载":"Copy the link to the browser to download","一键复制":"Copy","关闭":"Close","文件":"File","图片":"Image","语音":"Voice","结构化消息":"Structured Message","图文消息":"Rich Text Message","表情":"Emoji","未知消息类型":"Unknown Message Type","我":"Me","客服":"Customer Service","转文字失败":"Failed to Convert to Text","转文字":"To Text","不能发送空白消息":"Cannot Send Blank Message","获取消息内容异常":"Exception in Getting Message Content","未知类型消息":"Unknown message type","登录失败，错误码为":"Login failed, error code is ","复制":"Copy","回复":"Reply","撤回":"Retract","条新消息":" new message","收到一张图片":"Received an image","收到一条新消息":"Received a new message","您有":"You have ","撤回了一条消息":" recalled a message","重新编辑":"Re-edit","撤回消息超时,请稍后重试":"The recall of the message has timed out, please try again later","你撤回了一条消息":"You recalled a message","对方":"The other one","不支持的图片格式：":"Unsupported image format: ","不支持文件格式：":"Unsupported file format: ","发送图片大小超出限制":"Image size exceeds the limit","发送文件大小超出限制":"File size exceeds the limit","一次最多支持选择5张图片":"A maximum of 5 images can be selected at a time","您的问题将会逐一应答，请耐心等待":"Your questions will be answered one by one, please wait patiently","第三方电商接口暂无数据":"There is no data available from the third-party e-commerce API at the moment","不等了，去留言":"No more waiting, leave a message​"}},d604:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"robot-nav-wrapper"},[e(t.type,{tag:"component",attrs:{"nav-data":t.robotNav},on:{click:t.handleCLick,"hook:mounted":t.onLoad}}),t.html?e("span",{class:[t.isMobile?"robot-nav-err":"robot-nav-err-pc"],domProps:{innerHTML:t._s(t.html)}}):t._e()],1)},a=[],o=n("c14f"),s=n("1da1"),c=n("5530"),r=(n("b0c0"),n("a9e3"),n("b64b"),n("5087"),n("3b97")),l=n("9de0"),d=n("bc3a"),u=n.n(d),m=(n("13d5"),n("e9f5"),n("9485"),n("d3b7"),n("ac1f"),n("5319"),n("ddb0"),n("6467")),f=m.keys().reduce((function(t,e){var n=Object(c["a"])({},t),i=m(e).default,a=e.replace("./","").replace(".vue","");return n[a]=i,n}),{}),h=f,p=n("5ac5"),g=n("c51a"),v={name:"robot-nav",mixins:[r["a"]],inject:["OBJTYPES","to","globalData"],components:Object(c["a"])({},h),props:{data:{type:Object,default:function(){return{}}}},computed:{type:function(){var t;switch(this.robotNav.navType){case 0:t="btnType";break;case 1:t="SimpleTextType";break;case 2:t="BasicType";break;case 3:t="MultiThemeType";break;case 4:t="LittleCardType";break;case 5:t="CombinedType";break;case 6:t="MultiBasicType";break}return t},isMobile:function(){return!this.$platform.pc}},data:function(){return{robotNav:{},html:"",navData:{}}},mounted:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n,i;return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:if(!t.data.content){e.n=1;break}return n=t.parseJsonFromXML(t.data.content),t.navData=n,t.robotNav=n.content.menu,e.a(2);case 1:if(t.data.path){e.n=2;break}return e.a(2);case 2:return e.n=3,l["c"].getDownloadUrl(t.data,l["b"].OBJTYPES.OBJ_LONGTEXT);case 3:i=e.v,i?u.a.get(i).then((function(e){if(200===e.status){var n=t.parseJsonFromXML(e.data);t.navData=n,t.robotNav=n.content.menu}else t.html="[".concat(t.$t("获取消息内容异常"),"]")})).catch((function(){t.html="[".concat(t.$t("获取消息内容异常"),"]")})):t.html="[".concat(t.$t("获取消息内容异常"),"]");case 4:return e.a(2)}}),e)})))()},methods:{handleCLick:function(t,e){var n=Object.assign({robot_nav_first_menu_id:t.id,robot_nav_first_menu_name:t.name||"",robot_nav_action_type:t.action||""},{robot_nav_id:this.navData.id||0,robot_nav_name:this.navData.name||""},e);if(this.qidianDAReport(n),Object.keys(t).length>0){var i=this.data.crm&&this.data.crm.msg_webim_extra_data&&this.data.crm.msg_webim_extra_data.uint64_robotid;this.handleAction(t,"",i)}},parseJsonFromXML:function(t){if("string"===typeof t&&0===t.indexOf("<")&&t.indexOf("extraData")>-1){var e=Object(g["xml2json"])(t,{compact:!0,ignoreDeclaration:!0}),n={};try{var i=JSON.parse(e),a=i.msg._attributes.extraData;n=JSON.parse(a),console.log("extraData",n)}catch(o){console.error(o)}return n}if("string"===typeof t)try{return JSON.parse(t)}catch(o){}return t},qidianDAReport:function(t){var e;if(!p["a"].robotTestMode){var n=this.data.crm&&this.data.crm.msg_webim_extra_data&&this.data.crm.msg_webim_extra_data.uint64_robotid||0,i=Object.assign({robot_nav_conv_type:4,robot_nav_cid:this.to.user_id,robot_nav_msg_dir:2,robot_nav_event_type:2,robot_nav_robot_id:Number(n||this.globalData.reception.robotId||this.globalData.reception.largeModelRobotId||0),wpa_id:null!==this&&void 0!==this&&null!==(e=this.wpaDetail)&&void 0!==e&&e.wpaId?Number(this.wpaDetail.wpaId):""},t);console.log("reportMsg",i),window.qidianDA("track","robot_nav_click",i)}},onLoad:function(){this.data.fromHisotry&&!p["a"].isMsgFirstGet?p["a"].checkIfNeedScrollToBottom(!0):p["a"].scrollToBottom()}}},b=v,_=(n("985a"),n("2877")),w=Object(_["a"])(b,i,a,!1,null,"49b561c0",null);e["default"]=w.exports},d684:function(t,e,n){"use strict";n("663c")},d70f:function(t,e,n){"use strict";n("4492")},d90e:function(t,e,n){"use strict";n("0161")},d90f:function(t,e,n){"use strict";n("99af"),n("14d9"),n("fb6a"),n("e9f5"),n("7d54"),n("a9e3"),n("b64b"),n("d3b7"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("5319"),n("159b");var i=n("b855"),a=n.n(i),o=n("f439"),s=n("8aeb"),c=n("55b6"),r=a()(),l=new RegExp("(https?|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]","g");function d(t){return t.replace(/['<>"`]/g,(function(t){switch(t){case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"`":return"&#96;";default:return""}}))}function u(t){return t.replace(r,'<span class="emoji">$&</span>')}function m(t){return t.replace(l,'<a href="$&" target="_blank">$&</a>')}function f(){return 1e3*Date.now()+Math.floor(1e3*Math.random())}var h={0:{TIP:"[惊讶]"},1:{TIP:"[撇嘴]"},2:{TIP:"[色]"},3:{TIP:"[发呆]"},4:{TIP:"[得意]"},5:{TIP:"[流泪]"},6:{TIP:"[害羞]"},7:{TIP:"[闭嘴]"},8:{TIP:"[睡]"},9:{TIP:"[大哭]"},10:{TIP:"[尴尬]"},11:{TIP:"[发怒]"},12:{TIP:"[调皮]"},13:{TIP:"[呲牙]"},14:{TIP:"[微笑]"},15:{TIP:"[难过]"},16:{TIP:"[酷]"},17:{TIP:"[非典]"},18:{TIP:"[抓狂]"},19:{TIP:"[吐]"},20:{TIP:"[偷笑]"},21:{TIP:"[可爱]"},22:{TIP:"[白眼]"},23:{TIP:"[傲慢]"},24:{TIP:"[饥饿]"},25:{TIP:"[困]"},26:{TIP:"[惊恐]"},27:{TIP:"[流汗]"},28:{TIP:"[憨笑]"},29:{TIP:"[大兵]"},30:{TIP:"[奋斗]"},31:{TIP:"[咒骂]"},32:{TIP:"[疑问]"},33:{TIP:"[嘘...]"},34:{TIP:"[晕]"},35:{TIP:"[折磨]"},36:{TIP:"[衰]"},37:{TIP:"[骷髅]"},38:{TIP:"[敲打]"},39:{TIP:"[再见]"},40:{TIP:"[闪人]"},41:{TIP:"[发抖]"},42:{TIP:"[爱情]"},43:{TIP:"[跳跳]"},44:{TIP:"[找]"},45:{TIP:"[美眉]"},46:{TIP:"[猪头]"},47:{TIP:"[小狗]"},48:{TIP:"[钱]"},49:{TIP:"[拥抱]"},50:{TIP:"[灯泡]"},51:{TIP:"[酒杯]"},52:{TIP:"[音乐]"},53:{TIP:"[蛋糕]"},54:{TIP:"[闪电]"},55:{TIP:"[炸弹]"},56:{TIP:"[刀]"},57:{TIP:"[足球]"},58:{TIP:"[猫咪]"},59:{TIP:"[便便]"},60:{TIP:"[咖啡]"},61:{TIP:"[饭]"},62:{TIP:"[女]"},63:{TIP:"[玫瑰]"},64:{TIP:"[凋谢]"},65:{TIP:"[男]"},66:{TIP:"[爱心]"},67:{TIP:"[心碎]"},68:{TIP:"[药丸]"},69:{TIP:"[礼物]"},70:{TIP:"[吻]"},71:{TIP:"[会议]"},72:{TIP:"[电话]"},73:{TIP:"[时间]"},74:{TIP:"[太阳]"},75:{TIP:"[月亮]"},76:{TIP:"[强]"},77:{TIP:"[弱]"},78:{TIP:"[握手]"},79:{TIP:"[胜利]"},80:{TIP:"[邮件]"},81:{TIP:"[电视]"},82:{TIP:"[多多]"},83:{TIP:"[美女]"},84:{TIP:"[汉良]"},85:{TIP:"[飞吻]"},86:{TIP:"[怄火]"},87:{TIP:"[毛毛]"},88:{TIP:"[Q仔]"},89:{TIP:"[西瓜]"},90:{TIP:"[白酒]"},91:{TIP:"[汽水]"},92:{TIP:"[下雨]"},93:{TIP:"[多云]"},94:{TIP:"[雪人]"},95:{TIP:"[星星]"},96:{TIP:"[冷汗]"},97:{TIP:"[擦汗]"},98:{TIP:"[抠鼻]"},99:{TIP:"[鼓掌]"},100:{TIP:"[糗大了]"},101:{TIP:"[坏笑]"},102:{TIP:"[左哼哼]"},103:{TIP:"[右哼哼]"},104:{TIP:"[哈欠]"},105:{TIP:"[鄙视]"},106:{TIP:"[委屈]"},107:{TIP:"[快哭了]"},108:{TIP:"[阴险]"},109:{TIP:"[亲亲]"},110:{TIP:"[吓]"},111:{TIP:"[可怜]"},112:{TIP:"[菜刀]"},113:{TIP:"[啤酒]"},114:{TIP:"[篮球]"},115:{TIP:"[乒乓]"},116:{TIP:"[示爱]"},117:{TIP:"[瓢虫]"},118:{TIP:"[抱拳]"},119:{TIP:"[勾引]"},120:{TIP:"[拳头]"},121:{TIP:"[差劲]"},122:{TIP:"[爱你]"},123:{TIP:"[NO]"},124:{TIP:"[OK]"},125:{TIP:"[转圈]"},126:{TIP:"[磕头]"},127:{TIP:"[回头]"},128:{TIP:"[跳绳]"},129:{TIP:"[挥手]"},130:{TIP:"[激动]"},131:{TIP:"[街舞]"},132:{TIP:"[献吻]"},133:{TIP:"[左太极]"},134:{TIP:"[右太极]"},135:{TIP:"[招财进宝]"},136:{TIP:"[双喜]"},137:{TIP:"[鞭炮]"},138:{TIP:"[灯笼]"},139:{TIP:"[发财]"},140:{TIP:"[K歌]"},141:{TIP:"[购物]"},142:{TIP:"[邮件]"},143:{TIP:"[帅]"},144:{TIP:"[喝彩]"},145:{TIP:"[祈祷]"},146:{TIP:"[爆筋]"},147:{TIP:"[棒棒糖]"},148:{TIP:"[喝奶]"},149:{TIP:"[下面]"},150:{TIP:"[香蕉]"},151:{TIP:"[飞机]"},152:{TIP:"[开车]"},153:{TIP:"[高铁左车头]"},154:{TIP:"[车厢]"},155:{TIP:"[高铁右车头]"},156:{TIP:"[多云]"},157:{TIP:"[下雨]"},158:{TIP:"[钞票]"},159:{TIP:"[熊猫]"},160:{TIP:"[灯泡]"},161:{TIP:"[风车]"},162:{TIP:"[闹钟]"},163:{TIP:"[打伞]"},164:{TIP:"[彩球]"},165:{TIP:"[钻戒]"},166:{TIP:"[沙发]"},167:{TIP:"[纸巾]"},168:{TIP:"[药]"},169:{TIP:"[手枪]"},170:{TIP:"[青蛙]"},171:{TIP:"[茶]"},172:{TIP:"[眨眼睛]"},173:{TIP:"[泪奔]"},174:{TIP:"[无奈]"},175:{TIP:"[卖萌]"},176:{TIP:"[小纠结]"},177:{TIP:"[喷血]"},178:{TIP:"[斜眼笑]"},179:{TIP:"[doge]"},180:{TIP:"[惊喜]"},181:{TIP:"[骚扰]"},182:{TIP:"[笑哭]"},183:{TIP:"[我最美]"},184:{TIP:"[河蟹]"},185:{TIP:"[羊驼]"},186:{TIP:"[栗子]"},187:{TIP:"[幽灵]"},188:{TIP:"[蛋]"},189:{TIP:"[马赛克]"},190:{TIP:"[菊花]"},191:{TIP:"[肥皂]"},192:{TIP:"[红包]"},193:{TIP:"[大笑]"},194:{TIP:"[不开心]"},195:{TIP:"[啊]"},196:{TIP:"[QQ表情冷汗]"},197:{TIP:"[冷漠]"},198:{TIP:"[呃]"},199:{TIP:"[好棒]"},200:{TIP:"[拜托]"},201:{TIP:"[点赞]"},202:{TIP:"[无聊]"},203:{TIP:"[托脸]"},204:{TIP:"[吃]"},205:{TIP:"[送花]"},206:{TIP:"[害怕]"},207:{TIP:"[花痴]"},208:{TIP:"[小样儿]"},209:{TIP:"[脸红]"},210:{TIP:"[飙泪]"},211:{TIP:"[我不看]"},212:{TIP:"[托腮]"},213:{TIP:"[哇哦]"},245:{TIP:"[加油必胜]"},246:{TIP:"[加油抱抱]"},247:{TIP:"[口罩护体]"},260:{TIP:"[搬砖中]"},261:{TIP:"[忙到飞起]"},262:{TIP:"[脑阔疼]"},263:{TIP:"[沧桑]"},264:{TIP:"[捂脸]"},265:{TIP:"[辣眼睛]"},266:{TIP:"[哦哟]"},267:{TIP:"[头秃]"},268:{TIP:"[问号脸]"},269:{TIP:"[暗中观察]"},270:{TIP:"[emm]"},271:{TIP:"[吃瓜]"},272:{TIP:"[呵呵哒]"},273:{TIP:"[我酸了]"},274:{TIP:"[太难了]"}};function p(t){return!!h[t]}function g(t){var e=s["a"].faceIndex.indexOf(t),n="";return e>-1&&(n=s["a"].faceLocale[e]&&"[".concat(c["b"].tc(s["a"].faceLocale[e]),"]")||""),n||p(t)&&"[".concat(c["b"].tc("custom_Face"),"]")}function v(t){var e=null;return s["a"].faceLocale.forEach((function(n,i){c["b"].tc(n)===t&&(e=s["a"].faceIndex[i])})),e||0===e?Number(e):null}function b(t){var e=[],n=t,i=-1,a=-1;while(""!==n)switch(i=n.indexOf("["),a=n.indexOf("]"),i){case 0:if(-1===a)e.push({type:"text",content:n}),n="";else{var o=n.slice(i+1,a),s=v("".concat(o));null!==s?(e.push({type:"face",index:s,content:"[".concat(o,"]")}),n=n.substring(a+1)):(e.push({type:"text",content:"["}),n=n.slice(1))}break;case-1:e.push({type:"text",content:n}),n="";break;default:e.push({type:"text",content:n.slice(0,i)}),n=n.substring(i);break}return e}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a";return t=o["b"].filterAISpeakerActionTag(t),t.replace(/<\/?[^>]+?>/gi,(function(t){return t==="</".concat(e,">")||0===t.indexOf("<".concat(e," "))?t.replace(/\s+on\w+=(?:"[^"]*"|'[^']*'|[^\s>]+)/gi,""):t.replace("<","&lt;").replace(">","&gt;")}))}function w(t){var e=/\[f_(\d+)\]/g,n=t.replace(e,(function(t,e){var n=s["a"].faceIndex.indexOf(Number(e));return-1!==n?'<img src="./static/newqq/'.concat(n,'.png" class="emojiText-image" />'):p(Number(e))?c["b"].tc("custom_Face"):t}));return n}function y(t){var e=/\[f_(\d+)\]/g,n=s["a"],i=t.replace(e,(function(t,e){var i=n.faceIndex.indexOf(Number(e));return~i&&n.faceLocale[i]?"[".concat(c["b"].tc(n.faceLocale[i]),"]"):p(Number(e))?c["b"].tc("custom_Face"):t}));return i}function x(t){var e="";return Object.keys(t).forEach((function(n){e="".concat(e,"&").concat(n,"=").concat(t[n])})),e}e["a"]={htmlEscape:d,emojiEscape:u,urlEscape:m,faceTipEscape:g,generateUUID:f,filterHTML:_,coverEmojiIndex2ImgMessage:b,coverEmojIndex2EmojiImg:w,coverEmojIndex2EmojiName:y,objToUrlParams:x,isFaceTip:p}},d938:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("99af"),n("a9e3");var i={NOT_LOAD_HISTORY_MSG:[2885820057],USE_DEFAULT_TITLE:[3009112396],MOV_PLAYER_LIST:[2852199331,2852199862,3009053381,3009115135,3009073471,2852199285,3009107705]},a=0;try{a=Number(localStorage.getItem("qdim_whitelist_test_kfuin"))}catch(s){console.error("[whiteList] localStorage set error")}function o(t,e){if(!t)return!1;var n=t-0;return n===a?(console.warn("======>[whiteList][TEST][".concat(n,"]")),!0):i[e].indexOf(n)>-1&&(console.warn("======>[whiteList][".concat(e,"][").concat(n,"]")),!0)}},d9b1:function(t,e,n){"use strict";n("99af"),n("caad"),n("fb6a"),n("b0c0"),n("2532"),n("9911");var i=function(){var t=this,e=t._self._c;return t.data.content.length?e("form",{staticClass:"information-form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t.data.note?e("div",{staticClass:"declare"},[t._v(t._s(t.data.note))]):t._e(),e("div",{staticClass:"form-container"},[e("div",{staticClass:"form-content"},t._l(t.data.content,(function(n,i){return e("div",{key:n.id,staticClass:"form-content-item"},[1===n.type?e("div",{staticClass:"input-line"},[e("div",{staticClass:"fields"},[e("label",{attrs:{for:n.apiName}},[t._v(t._s(n.name)),n.required?e("span",{staticClass:"required"},[t._v("*")]):t._e()])]),e("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"item.value"}],class:["input","input-single",{"input-error":n.error&&!n.value}],attrs:{type:"text",id:n.apiName,name:n.apiName,placeholder:"请输入",autocomplete:"off",maxlength:"100"},domProps:{value:n.value},on:{blur:function(e){return t.blur(n,i)},focus:function(e){return t.focus(n,i)},input:function(e){e.target.composing||t.$set(n,"value",e.target.value)}}}),n.value&&n.isFocus?e("span",{staticClass:"clear-btn",on:{click:function(e){return t.clearText(n,i)}}}):t._e(),n.error?e("div",{staticClass:"error"},[t._v(t._s(n.error))]):t._e()]):2===n.type?e("div",{staticClass:"item-textarea"},[e("div",{staticClass:"fields"},[e("label",{attrs:{for:n.apiName}},[t._v(t._s(n.name)),n.required?e("span",{staticClass:"required"},[t._v("*")]):t._e()])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"item.value"}],class:["textarea",{"input-error":n.error}],attrs:{maxlength:n.maxLength||1e3,name:n.apiName,id:n.apiName,placeholder:"请输入"},domProps:{value:n.value},on:{blur:function(e){return t.checkFormItem(n,i)},input:function(e){e.target.composing||t.$set(n,"value",e.target.value)}}}),e("span",{staticClass:"count-num"},[t._v(t._s(n.value.length)+"/"+t._s(n.maxLength||1e3))]),n.error?e("div",{staticClass:"error"},[t._v(t._s(n.error))]):t._e()]):3===n.type?e("div",{staticClass:"input-line"},[e("div",{staticClass:"fields"},[e("label",{attrs:{for:n.apiName}},[t._v(t._s(n.name)),n.required?e("span",{staticClass:"required"},[t._v("*")]):t._e()])]),e("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"item.value"}],class:["input","input-single",{"input-error":n.error}],attrs:{type:"number",step:"0.01",id:n.apiName,name:n.apiName,placeholder:"请输入"},domProps:{value:n.value},on:{blur:function(e){return t.blur(n,i)},focus:function(e){return t.focus(n,i)},input:function(e){e.target.composing||t.$set(n,"value",e.target.value)}}}),n.error?e("div",{staticClass:"error"},[t._v(t._s(n.error))]):t._e(),n.value&&n.isFocus?e("span",{staticClass:"clear-btn",on:{click:function(e){return t.clearText(n,i)}}}):t._e()]):4===n.type?e("div",[e("div",{staticClass:"fields"},[e("label",{attrs:{for:n.apiName}},[t._v(t._s(n.name)),n.required?e("span",{staticClass:"required"},[t._v("*")]):t._e()])]),e("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"item.value"}],staticClass:"input input-date",class:[{"input-error":n.error},{"date-placeholder":!n.value}],attrs:{id:n.apiName,type:"date",name:n.apiName,placeholder:"请选择日期"},domProps:{value:n.value},on:{input:function(e){e.target.composing||t.$set(n,"value",e.target.value)}}}),n.error?e("div",{staticClass:"error"},[t._v(t._s(n.error))]):t._e()]):6===n.type?e("div",{staticClass:"single-select"},[e("div",{staticClass:"fields"},[t._v(t._s(n.name)),n.required?e("span",{staticClass:"required"},[t._v("*")]):t._e()]),e("div",{staticClass:"select",class:[{"input-error":n.error}]},[e("div",{staticClass:"single-value",on:{click:function(e){return e.stopPropagation(),t.showSingleOptions(n,i)}}},[n.value?e("span",[t._v(t._s(n.text))]):e("span",{staticClass:"select-placeholder"},[t._v("请选择")])]),t.showingOptionIdx===i?e("div",{staticClass:"options"},t._l(n.options,(function(a){return e("div",{staticClass:"option",on:{click:function(e){return t.chooseOptions(a,n,i)}}},[t._v(t._s(a.text)+" ")])})),0):t._e()]),n.error?e("div",{staticClass:"error"},[t._v(t._s(n.error))]):t._e()]):7===n.type?e("div",[e("div",{staticClass:"fields"},[t._v(t._s(n.name)),n.required?e("span",{staticClass:"required"},[t._v("*")]):t._e()]),e("div",{staticClass:"radio-options"},t._l(n.options,(function(i){return e("div",{key:i.value,staticClass:"radio-item"},[e("label",{staticClass:"label",attrs:{for:i.key}},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"item.value"}],staticClass:"input-radio",attrs:{type:"radio",id:i,name:i.value},domProps:{value:i.value,checked:t._q(n.value,i.value)},on:{change:function(e){return t.$set(n,"value",i.value)}}}),e("span",{class:["radio-text",{"choosed-text":n.value==i.value}]},[t._v(t._s(i.text))])])])})),0),n.error?e("div",{staticClass:"error"},[t._v(t._s(n.error))]):t._e()]):8===n.type?e("div",[e("div",{staticClass:"fields"},[t._v(t._s(n.name)),n.required?e("span",{staticClass:"required"},[t._v("*")]):t._e()]),e("div",{staticClass:"checkbox-options"},t._l(n.options,(function(i){return e("div",{staticClass:"checkbox-item"},[e("label",{staticClass:"label",attrs:{for:i}}),e("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"item.value"}],staticClass:"input-checkbox",attrs:{type:"checkbox",id:i,name:i.value},domProps:{value:i.value,checked:Array.isArray(n.value)?t._i(n.value,i.value)>-1:n.value},on:{change:function(e){var a=n.value,o=e.target,s=!!o.checked;if(Array.isArray(a)){var c=i.value,r=t._i(a,c);o.checked?r<0&&t.$set(n,"value",a.concat([c])):r>-1&&t.$set(n,"value",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(n,"value",s)}}}),e("span",{class:["checkbox-text",{"choosed-text":n.value&&n.value.includes(i.value)}]},[t._v(t._s(i.text))])])})),0),n.error?e("div",{staticClass:"error"},[t._v(t._s(n.error))]):t._e()]):t._e()])})),0)]),e("div",{staticClass:"form-footer"},[t.data.hasAgreement?e("div",{staticClass:"form-agree"},[e("label",{staticClass:"agree-check",attrs:{for:"agree"}},[e("span",{class:["agree-input",{agreed:t.data.isAgree}],on:{click:t.switchAgreement}}),e("div",{staticClass:"agree-detail"},[t._l(t.data.agreement,(function(n){return[n.link?e("a",{staticClass:"agree-href",attrs:{href:n.link}},[t._v(t._s(n.text))]):e("span",{staticClass:"agree-text"},[t._v(t._s(n.text))])]}))],2)])]):t._e(),e("div",{staticClass:"footer-btn"},[e("button",{class:["submit","form-button",{"fit-width":!t.data.isSkip}],attrs:{type:"submit"}},[t._v("提交")]),t.data.isSkip?e("button",{staticClass:"skip form-button",attrs:{type:"button"},on:{click:t.handleSkip}},[t._v("跳过")]):t._e()])])]):t._e()},a=[],o=n("8ac5"),s={mixins:[o["a"]],data:function(){return{showingOptionIdx:null}},mounted:function(){var t=this;document.addEventListener("click",(function(){t.showingOptionIdx=null}))},methods:{showSingleOptions:function(t,e){this.showingOptionIdx=e},chooseOptions:function(t,e,n){this.data.content[n].value=t.value,this.$set(this.data.content[n],"text",t.text)}}},c=s,r=(n("6eb1"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"03be175f",null);e["a"]=l.exports},d9f8:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-file",on:{click:function(e){return e.preventDefault(),t.viewMedia.apply(null,arguments)}}},[e("div",{staticClass:"info",class:t.canDownload?"file-pointer":""},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:n("1284")("./".concat(t.fileFormat,".png"))}})]),e("div",{staticClass:"detail"},[e("div",{staticClass:"name",attrs:{title:t.data.fileName}},[t._v(t._s(t.data.fileName))]),e("div",{staticClass:"flex"},[e("div",{staticClass:"size"},[t._v(t._s(t.bytesToSize(t.data.fileSize)))]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showProgress,expression:"showProgress"}],staticClass:"percent"},[t._v(t._s(Math.floor(100*t.data.uploadProgress)+"%"))])])]),t.showProgress||t.canDownload?e("div",{staticClass:"operator"},[t.showProgress&&t.data.progressController?e("img",{attrs:{src:n("03a4")},on:{click:function(e){return e.stopPropagation(),t.stopUpload.apply(null,arguments)}}}):t._e(),t.canDownload?e("img",{attrs:{src:n("cbaf")},on:{click:function(e){return e.stopPropagation(),t.downloadFile.apply(null,arguments)}}}):t._e()]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showProgress,expression:"showProgress"}],staticClass:"progress",style:"width:".concat(100*t.data.uploadProgress,"%")})])])},a=[],o=n("c14f"),s=n("1da1");n("99af"),n("a9e3"),n("ac1f"),n("5319");function c(t){var e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("target","_blank"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}function r(t,e){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}var l={openFile:c,downloadFile:r},d=n("9de0"),u=n("2d3f"),m=n("97e5"),f=n("0c74"),h=n("d938"),p=n("6dc2"),g={inject:["MsgStatus","wpaDetail"],props:{data:Object},data:function(){return{formatPath:""}},computed:{showProgress:function(){return this.data.uploadProgress&&this.data.uploadProgress<1&&this.data.status===this.MsgStatus.Sending},formatTime:function(){var t=new Date(this.data.time);return t.toLocaleDateString()+t.toLocaleTimeString()},fileFormat:function(){return Object(p["a"])(this.data.fileName)},downloadUrl:function(){var t=this.formatPath;if("blob"!==this.data.uuid&&"COS"===window.type_s3_protocol){var e=encodeURIComponent(this.data.fileName);t="".concat(this.formatPath,"&response-content-disposition=").concat(encodeURIComponent("attachment; filename*=UTF-8''".concat(e)))}return t},canDownload:function(){return"blob"!==this.data.uuid&&this.data.status===this.MsgStatus.Success&&this.downloadUrl}},mounted:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){return Object(o["a"])().w((function(e){while(1)switch(e.n){case 0:if("blob"!==t.data.uuid&&0!==t.data.path.indexOf("http")){e.n=1;break}return t.formatPath=t.data.path,e.a(2);case 1:if(!t.data.isOldRoamingMsg){e.n=3;break}return e.n=2,t.getDownloadUrlForOldMsg();case 2:t.formatPath=e.v,e.n=5;break;case 3:return e.n=4,d["c"].getDownloadUrl({path:t.data.path,size:t.data.fileSize,name:t.data.fileName},d["b"].OBJTYPES.OBJ_FILE);case 4:t.formatPath=e.v;case 5:return e.a(2)}}),e)})))()},methods:{bytesToSize:function(t){if(isNaN(t)||0===t)return"0B";var e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=1024,i=Math.floor(Math.log(t)/Math.log(n));return(t/Math.pow(n,i)).toPrecision(3)+e[i]},viewMedia:function(){var t=this;if(this.canDownload){var e=this.downloadUrl,n={audio:[".mp3"],video:Object(h["a"])(Number(this.wpaDetail.kfuin),"MOV_PLAYER_LIST")?[".mp4",".mov"]:[".mp4"],image:[".gif",".jpg",".jpeg",".bmp",".png"]},i=this.data.fileName||"",a=i.substr(i.lastIndexOf(".")).toLowerCase();n.video.indexOf(a)>-1?this.$MediaViewer.show({url:e,type:"video",fileType:a,downloadFun:function(){t.downloadFile()}}):n.audio.indexOf(a)>-1?this.$MediaViewer.show({url:e,type:"audio",downloadFun:function(){t.downloadFile()}}):n.image.indexOf(a)>-1?this.$PictureViewer.show({showPhotoPreView:!0,photoUrls:[e],photoPreviewIndex:[e].length-1,closeOnClickMask:!1}):this.downloadFile()}},downloadFile:function(){var t=this.downloadUrl;u["b"]||u["c"]||u["a"]?this.wxappDownloadFile():l.downloadFile(t,this.data.fileName)},wxappDownloadFile:function(){var t=this,e=this.downloadUrl,n='\n      <div\n      style="user-select: all;-webkit-box-orient: vertical;display: -webkit-box;-webkit-line-clamp:2;overflow:hidden;"\n      >'.concat(e,"</div>\n      ");this.$Confirm({title:this.$t("复制链接到浏览器即可下载文件"),text:n,confirmText:this.$t("一键复制"),cancelText:this.$t("关闭")}).then((function(){t.$copyText(e).then((function(){t.$Toast(t.$t("chat_add_friend_copy_success_msg"))}),(function(){t.$Toast({text:t.$t("复制失败，请重试"),type:"error"})}))})).catch((function(){}))},stopUpload:function(){var t;null===(t=this.data)||void 0===t||null===(t=t.progressController)||void 0===t||t.abort()},getDownloadUrlForOldMsg:function(){var t=this;return Object(s["a"])(Object(o["a"])().m((function e(){var n,i,a,s,c,r,l;return Object(o["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:if(i=null===(n=t.data)||void 0===n||null===(n=n.crm)||void 0===n?void 0:n.msg_webim_extra_data,a=(null===i||void 0===i?void 0:i.uint64_extuin)||(null===i||void 0===i?void 0:i.uint64_robotid)||0,a){e.n=1;break}return e.a(2,"");case 1:return s={uint64_kfuin:Number(t.wpaDetail.kfuin),uint32_type:2,uint32_channel:3,uint64_kfext:Number(a),str_id:f["a"].encode(t.data.uuid),uint64_msg_time:1e3*t.data.time},e.p=2,e.n=3,t.$ajax.post(m["m"],s);case 3:if(c=e.v,r=c.data,0!==(null===r||void 0===r?void 0:r.code)){e.n=4;break}return l=f["a"].decode(r.data.str_url),l=l.replace(/^http:\/\//,"https://"),e.a(2,l);case 4:return e.a(2,"");case 5:return e.p=5,e.v,e.a(2,"")}}),e,null,[[2,5]])})))()}}},v=g,b=(n("416e"),n("2877")),_=Object(b["a"])(v,i,a,!1,null,null,null);e["default"]=_.exports},dbf9:function(t,e,n){t.exports=n.p+"img/loading.04365d1f.svg"},dc1b:function(t,e,n){"use strict";var i=n("5530"),a=n("ade3"),o=n("9de0"),s=o["b"].create();e["a"]={mounted:function(){},methods:{mockNewMsg:function(){var t=this.to.id,e=Object(a["a"])({},t,[{seq:0x5d90fed2711be,type:"text",time:1646037310050,status:0,from:t,content:"33"},{seq:0x5d91163e94b87,type:"text",time:1646037310080,status:0,to:t,content:"33👋😓"},{seq:0x5d91164486b5e,type:"ptt_info",time:1646037310090,status:2,to:t,content:"blob:http://localhost:8080/b5c15a8f-b357-4d2a-9c52-8df0f5369947",uuid:"blob",length:3,size:3829},{seq:0x5d91164f345c5,type:"image",time:1646037310100,status:3,to:t,content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-189792930-E59538E23B28257858A4768105725293/0",uuid:"blob",name:"6-71.jpg",size:246076,width:1080,height:1080},{seq:0x5d911654f9cd4,type:"file_info",time:1646037310150,status:1,to:t,content:"blob:http://localhost:8080/a1b9bb6c-3210-419d-b46b-862b6546954d",uuid:"blob",name:"1-167.jpg",size:162356,format:"image/jpeg"},{seq:0x5d91164f3461b,type:"image",time:1646037319999,status:1,from:t,content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-1407385184-A6EAA9C108A9B70BBC28E401A0AF09BC/0",uuid:"blob",name:"6-72.jpg",size:246076,width:1080,height:1080}]);s.emit(o["b"].EVENT.MESSAGE_RECEIVED,e)},mockSecNewMsg:function(){var t=this.to.id,e=Object(a["a"])({},t,[{seq:0x5d90fed2711bf,type:"text",time:Date.now()-1e4,status:0,from:t,content:"33"},{seq:0x3a7aadf180c5d0,type:"image",time:Date.now(),status:1,from:t,content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-1407385184-A6EAA9C108A9B70BBC28E401A0AF09BC/0",uuid:"blob",name:"6-72.jpg",size:246076,width:1080,height:1080}]);s.emit(o["b"].EVENT.MESSAGE_RECEIVED,e)},mockHistoryMsg:function(){var t=this.to.id,e=[{seq:0x5d912c9dfbb14,type:"text",time:1646049603074,status:0,to:t,content:'32425235👍😨😅99999"'},{seq:0x5d912cabaa197,type:"image",time:1646049617428,status:0,from:t,content:"https://c2cpicdw.qpic.cn/offpic_new/0//2852060752-1852158553-52F4133DF330089B5767114625CE99C8/0",uuid:"blob",name:"6-72.jpg",size:246076,width:1080,height:1080}];this.recoverScrollbarAfterPullHistoryMsg(),this.addMessageList(Object(i["a"])({},e[0]),1,!0),this.addMessageList(Object(i["a"])({},e[1]),1,!1)}}}},dcd9:function(t,e,n){},dd20:function(t,e,n){"use strict";n("2b4d")},dd69:function(t,e,n){},de0a:function(t,e,n){},dedc:function(t,e,n){"use strict";n("b743")},e060:function(t,e,n){"use strict";var i=n("53ca"),a=(n("e9c4"),n("b64b"),n("5087"),function(){var t={},e="QD_PM",n="CHAT",a=!1;function o(){var t=location,e=t.href;return!(e.indexOf("kfuin")>-1&&(e.indexOf("fid")>-1||e.indexOf("wpaId")>-1))&&window!==window.parent}function s(i,a){var o=Object.assign({},t,i),s=a||n;o[e]&&o[e]===s||(o[e]=s),o="string"!==typeof o?JSON.stringify(o):o,console.log("[sendMsg]",o),window.parent.postMessage(o,"*")}function c(e,n){var i=function(e){var i=e.data;if(i){try{t=JSON.parse(i),console.log("[receiveMsg]",t)}catch(a){return void console.warn("PostMsg Parse Error ".concat(i),a)}"function"===typeof n&&n(t)}};e.removeEventListener("message",i),e.addEventListener("message",i)}function r(t,e){if("object"===Object(i["a"])(t)){var n=t.act;switch(n){case"INIT":case"OPEN":case"UPDATE_UNREAD":case"DISCONNECT":case"SM_MANUAL_INVITE":e.operateIframe(n,t);break;default:console.log("[postMsgListener]未被处理的消息",t)}}}function l(t){"undefined"!==typeof t?c(window,(function(e){r(e,t)})):console.error("[wpaBridge]未绑定IM对象")}function d(e){var n,i,o;"undefined"===typeof e&&console.error("[bindDragEvent]未绑定DOM节点");var c=function(e){var c=t,d=c.kfuin;a=!1,n=!0,i=e.screenX,o=e.screenY,s({act:"DRAG_START",kfuin:d}),document.addEventListener("mouseup",r),document.addEventListener("mousemove",l)},r=function(){var e=t,i=e.kfuin;n=!1,s({act:"DRAG_END",kfuin:i}),document.removeEventListener("mouseup",r),document.removeEventListener("mousemove",l)},l=function(e){var c=t,r=c.kfuin;if(n){var l=e.screenX-i,d=e.screenY-o;Math.abs(l)+Math.abs(d)>5&&(a=!0),s({act:"DRAG_MOVE",kfuin:r,data:{x:l,y:d}})}};e.removeEventListener("mousedown",c),e.addEventListener("mousedown",c)}function u(){return a}return{inIframe:o,sendMsg:s,bindListener:l,bindDragEvent:d,isHasDragged:u}}());e["a"]=a},e268:function(t,e,n){"use strict";var i={play:function(){var t=document.getElementById("ringAudio");t&&(t.muted=!1,t.play())},stop:function(){var t=document.getElementById("ringAudio");t&&t.pause()},playPreventPageSleep:function(){var t=document.getElementById("preventPageSleepAudio");t&&(t.muted=!1,t.play(),t.volume=.02,console.log("∮∮∮----------------\x3e play"))},stopPreventPageSleep:function(){var t=document.getElementById("preventPageSleepAudio");t&&(t.pause(),console.log("∮∮∮++++++++++++++++> stop"))}};e["a"]=i},e302:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-rtc",class:{mine:t.data.mine,"call-over":!t.data.mine&&2===t.data.content.uint32_video_status_type,isMobile:t.isMobile},attrs:{title:t.formatTime},on:{contextmenu:function(e){return e.preventDefault(),t.onContextMenu.apply(null,arguments)},click:function(e){return e.stopPropagation(),t.openVideo.apply(null,arguments)}}},[t.data.mine?t._e():e("span",{staticClass:"icon",class:{audio:2===t.data.content.uint32_call_type}}),e("span",[t._v(t._s(t.processedText))]),t.data.mine?e("span",{staticClass:"icon icon-right",class:{audio:2===t.data.content.uint32_call_type}}):t._e()])},a=[],o={inject:[],props:{data:Object},data:function(){return{}},computed:{processedText:function(){return this.data.content.str_text_msg},formatTime:function(){var t=new Date(this.data.time);try{return t.toLocaleString()}catch(e){return""}},isMobile:function(){return!this.$platform.pc}},mounted:function(){},methods:{onContextMenu:function(){},openVideo:function(){this.$emit("videoMsgClick",this.data.content.uint32_call_type)}}},s=o,c=(n("6e79"),n("2877")),r=Object(c["a"])(s,i,a,!1,null,null,null);e["default"]=r.exports},e395:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("c14f"),a=n("1da1"),o=(n("99af"),n("ae03")),s=n("ebd1"),c=n("97e5");function r(t,e){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(Object(i["a"])().m((function t(e,n){var a,r,l;return Object(i["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,Object(s["a"])(o["a"].post("".concat(c["f"],"?kfuin=").concat(e.kfuin),e));case 1:if(a=t.v,console.log("🥳 ~ fetchCompanyInfo ~ res",a),r=a.code,l=a.data,0===r){t.n=2;break}return t.a(2);case 2:n&&n(l);case 3:return t.a(2)}}),t)}))),l.apply(this,arguments)}},e3fc:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{ref:"msgQdxml",staticClass:"msg-qdxml"},[e("div",{ref:"xmlBox",attrs:{title:t.data.brief||""},domProps:{innerHTML:t._s(t.html)}})])},a=[],o=n("5530"),s=n("3835"),c=n("c14f"),r=n("1da1"),l=(n("a9e3"),n("ac1f"),n("466d"),n("841c"),n("bc3a")),d=n.n(l),u=n("8a2f"),m=n("94ea"),f=n("0d3f"),h=n("9de0"),p=n("f5db"),g=n("5ac5"),v=n("7b05"),b=n("97e5"),_=n("4328"),w=n.n(_),y={props:{data:Object},data:function(){return{html:""}},computed:{},mounted:function(){var t=this;return Object(r["a"])(Object(c["a"])().m((function e(){var n,i;return Object(c["a"])().w((function(e){while(1)switch(e.p=e.n){case 0:if(t.initDelegations(),!t.data.content){e.n=1;break}return t.transferXml(t.data.content),t.onLoad(),e.a(2);case 1:if(t.data.path){e.n=2;break}return t.html='<span class="xml-data-err">['.concat(t.$t("获取消息内容异常"),"]</span>"),e.a(2);case 2:if(!t.data.compressed){e.n=7;break}return e.p=3,e.n=4,h["c"].downloadAndParseLongText(t.data,"xml");case 4:n=e.v,e.n=6;break;case 5:e.p=5,e.v;case 6:n?t.transferXml(n):t.html='<span class="xml-data-err">['.concat(t.$t("获取消息内容异常"),"]</span>"),e.n=9;break;case 7:return e.n=8,h["c"].getDownloadUrl(t.data,h["b"].OBJTYPES.OBJ_LONGTEXT);case 8:i=e.v,i?d.a.get(i).then((function(e){200===e.status?t.transferXml(e.data):t.html='<span class="xml-data-err">['.concat(t.$t("获取消息内容异常"),"]</span>")})).catch((function(){t.html='<span class="xml-data-err">['.concat(t.$t("获取消息内容异常"),"]</span>")})):t.html='<span class="xml-data-err">['.concat(t.$t("获取消息内容异常"),"]</span>");case 9:t.onLoad();case 10:return e.a(2)}}),e,null,[[3,5]])})))()},methods:{transferXml:function(t){var e=this,n=this.getExtendCls(t);this.getExtendCls(n);var i=this.getSpecialCls(n),a=Object(u["d"])(t),c=Object(s["a"])(a,2),r=c[0],l=c[1],d=Object(u["e"])(r);console.log("[xmlDom]",d);var h=Object(u["f"])(d),p=Object(m["a"])(h,{dir:"webim-xml ".concat(i)});this.html=p,this.$nextTick((function(){Object(f["a"])(e.$refs.xmlBox,h,l,Object(o["a"])({},e.getEcCardCtx()))}))},initDelegations:function(){Object(p["a"])(this.$refs.msgQdxml,"a")},getExtendCls:function(t){var e=/<msg.+?extClass="([\w-]+)".*?>/i,n=t.match(e);return n&&n[1]?n[1]:""},getSpecialCls:function(t){if(!t)return"";var e=["webim-kf-change"];return e.indexOf(t)>-1?"no-shadow":""},onLoad:function(){(g["a"].LAST_SHOW_XML_TIME&&Date.now()-g["a"].LAST_SHOW_XML_TIME<300||Object(v["a"])()<v["b"])&&(g["a"].scrollToBottom(!0,500),g["a"].LAST_SHOW_XML_TIME=Date.now())},getEcCardCtx:function(){var t=w.a.parse(window.location.search,{ignoreQueryPrefix:!0});return{__onlineGoodsObj:{scene:Number(t.scene)||null,sceneArgs:t.sceneArgs||null,channelType:4,infoUrl:b["p"]}}}}},x=y,C=(n("fdef"),n("2877")),T=Object(C["a"])(x,i,a,!1,null,"0be41f04",null);e["default"]=T.exports},e490:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=!1},e578:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-msg"},[e("div",{staticClass:"html-content",domProps:{innerHTML:t._s(t.msgContent)}}),t.tableData?e("div",{staticClass:"table-box"},[e("table",{staticClass:"table"},[e("tr",{staticClass:"tr table-head"},t._l(t.tableData.headers,(function(n,i){return e("td",{key:i,staticClass:"th",attrs:{width:100/t.tableData.headers.length+"%"},domProps:{innerHTML:t._s(n)}})})),0),t._l(t.tableData.rows,(function(n,i){return e("tr",{key:i,staticClass:"tr"},t._l(n,(function(n,i){return e("td",{key:i,staticClass:"td",class:0===i?"td-first":"",domProps:{innerHTML:t._s(n)}})})),0)}))],2)]):t._e()])},a=[],o=n("f439"),s=n("d90f"),c={props:{message:{type:Object,default:function(){return{}}},contentFold:{default:!1}},data:function(){return{}},computed:{msgContent:function(){var t=this.message.content.content;return t=s["a"].coverEmojIndex2EmojiImg(Object(o["a"])(t)),t},tableData:function(){return this.message.content.table}},methods:{getTdContent:function(t){var e=30;return this.contentFold&&t.length>e?"".concat(t.substr(0,e),"…"):t}}},r=c,l=(n("5c27"),n("2877")),d=Object(l["a"])(r,i,a,!1,null,"245a2262",null);e["default"]=d.exports},e8e5:function(t,e,n){"use strict";var i=n("2b0e"),a=(n("99af"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"com-tip v-popper--usearrow",class:t.extClass,style:"z-index:".concat(t.zIndex,";").concat(t.postionStyle),attrs:{"x-placement":t.placement}},[e("span",{staticClass:"v-popper__arrow",style:t.arrowStyle}),e("div",{staticClass:"v-popper__content"},[t._t("default")],2)])}),o=[],s={props:{placement:{default:"top"},clazz:{default:""},zIndex:{default:200},isFlowPageScroll:{default:!1}},data:function(){return{refer:null,postionStyle:"",arrowStyle:"",isHidden:!0}},computed:{extClass:function(){return"".concat(this.clazz," ").concat(this.isHidden?"is-hidden":"")}},mounted:function(){try{document.body.appendChild(this.$el)}catch(t){console.warn("append tip Fail!")}this.isFlowPageScroll?document.addEventListener("scroll",this.computePosition,!0):document.addEventListener("scroll",this.checkIfHideWhenScroll,!0)},destroyed:function(){this.isFlowPageScroll?document.removeEventListener("scroll",this.computePosition,!0):document.removeEventListener("scroll",this.checkIfHideWhenScroll,!0)},methods:{show:function(t){var e=this;this.refer=t,this.refer&&(this.computePosition(),this.$nextTick((function(){e.isHidden=!1,e.computePosition()})))},hide:function(){this.isHidden=!0},checkIfHideWhenScroll:function(t){var e=t.target;this.$el.contains(e)||this.hide()},computePosition:function(){var t,e=(null===this||void 0===this||null===(t=this.refer)||void 0===t?void 0:t.getBoundingClientRect())||null;if(e){var n=this.$el.getBoundingClientRect(),i=n.width,a=n.height,o=e.left,s=e.top,c=e.right,r=e.bottom,l=e.width,d=e.height,u=6,m=0,f=0,h=0,p=0;switch(this.placement){case"top":f=s-a-u,m=o+l/2-i/2,h=i/2,this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="left: ".concat(h,"px");break;case"top-start":f=s-a-u,m=o,h=Math.min(l/2,i/2),this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="left: ".concat(h,"px");break;case"top-end":f=s-a-u,m=c-i,h=i-Math.min(l/2,i/2),this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="left: ".concat(h,"px");break;case"bottom":f=s+d+u,m=o+l/2-i/2,h=i/2,this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="left: ".concat(h,"px");break;case"bottom-start":f=s+d+u,m=o,h=Math.min(l/2,i/2),this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="left: ".concat(h,"px");break;case"bottom-end":f=s+d+u,m=c-i,h=i-Math.min(l/2,i/2),this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="left: ".concat(h,"px");break;case"left":m=o-i-u,f=s+d/2-a/2,p=a/2,this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="top: ".concat(p,"px");break;case"left-start":m=o-i-u,f=s,p=Math.min(d/2,a/2),this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="top: ".concat(p,"px");break;case"left-end":m=o-i-u,f=r-a,p=a-Math.min(d/2,a/2),this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="top: ".concat(p,"px");break;case"right":m=o+l+u,f=s+d/2-a/2,p=a/2,this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="top: ".concat(p,"px");break;case"right-start":m=o+l+u,f=s,p=Math.min(d/2,a/2),this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="top: ".concat(p,"px");break;case"right-end":m=o+l+u,f=r-a,p=a-Math.min(d/2,a/2),this.postionStyle="left:".concat(m,"px; top:").concat(f,"px;"),this.arrowStyle="top: ".concat(p,"px");break}}else console.warn("dom position error!")}}},c=s,r=(n("1c5f"),n("2877")),l=Object(r["a"])(c,a,o,!1,null,"0c2f1552",null),d=l.exports;i["a"].component("v-webim-tip",d),i["a"].directive("webim-tip",{bind:function(t,e,n){var i=e.arg||e.expression,a=n.context.$refs[i];if(a){var o=e.modifiers.click?"click":"hover",s=e.modifiers.delay?300:0,c=null;"hover"===o?(t.addEventListener("mouseenter",(function(){clearTimeout(c),a.show(t)})),t.addEventListener("mouseleave",(function(){c=setTimeout((function(){a.hide()}),s)})),a.$el.addEventListener("mouseenter",(function(){clearTimeout(c),a.show(t)})),a.$el.addEventListener("mouseleave",(function(){c=setTimeout((function(){a.hide()}),s)}))):"click"===o&&(t.addEventListener("click",(function(e){e.stopPropagation(),a.isHidden?a.show(t):a.hide()})),document.body.addEventListener("click",(function(t){a&&(a.$el.contains(t.target)||a.isHidden||a.hide())})))}else console.error("Tip component not found")}})},e90f:function(t,e,n){t.exports=n.p+"img/close.3777bb9e.svg"},e963:function(t,e,n){},e9ac:function(t,e,n){},ea4d:function(t,e,n){},ea5f:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("c14f"),a=n("1da1"),o=(n("99af"),n("ae03")),s=n("ebd1"),c=n("97e5");function r(t,e){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(Object(i["a"])().m((function t(e,n){var a,r,l;return Object(i["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,Object(s["a"])(o["a"].post("".concat(c["e"],"?kfuin=").concat(e.kfuin),e));case 1:if(a=t.v,r=a.code,l=a.data,0===r){t.n=2;break}return t.a(2);case 2:n&&n(l);case 3:return t.a(2)}}),t)}))),l.apply(this,arguments)}},eaea:function(t,e,n){},ebd1:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("c14f"),a=n("3835"),o=n("1da1"),s=n("2b0e");function c(t){return console.log("[awaitWrap]",t),t.then((function(t){return console.log("[awaitWrap] then"),[null,t]})).catch((function(t){return console.log("[awaitWrap] catch",t),[t,null]}))}function r(t,e){return l.apply(this,arguments)}function l(){return l=Object(o["a"])(Object(i["a"])().m((function t(e,n){var o,r,l,d;return Object(i["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,c(e);case 1:if(o=t.v,r=Object(a["a"])(o,2),l=r[0],d=r[1],!d){t.n=3;break}if(!d.data){t.n=2;break}return t.a(2,d.data);case 2:return t.a(2,{code:-1e5,msg:"Network error（".concat(d.status,"）")});case 3:if(!l){t.n=4;break}return n&&s["a"].prototype.$Toast({text:"Network error",type:"error"}),t.a(2,{code:-2e5,msg:l||"Network error"});case 4:return t.a(2)}}),t)}))),l.apply(this,arguments)}},ed5c:function(t,e){t.exports="data:image/png;base64,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"},ee7c:function(t,e,n){},eea6:function(t,e,n){},efb2:function(t,e,n){},efdc:function(t,e,n){"use strict";n("c879")},f041:function(t,e){t.exports="data:image/png;base64,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"},f11e:function(t,e,n){"use strict";n("a909")},f1e5:function(t,e,n){t.exports=n.p+"img/close-slide.8f27aa75.svg"},f2fa:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msg-tip"},[e("span",{class:t.device,attrs:{title:t.formatTime},domProps:{innerHTML:t._s(t.processedText)}})])},a=[],o=n("d90f"),s={props:{device:{type:String,default:"pc"},data:Object},computed:{processedText:function(){var t=this.data.content;return t=o["a"].filterHTML(t),t},formatTime:function(){var t=new Date(this.data.time);return t.toLocaleDateString()+t.toLocaleTimeString()}}},c=s,r=(n("6f94"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"7ed0b05b",null);e["default"]=l.exports},f3ae:function(t,e,n){"use strict";n("c8ba3")},f439:function(t,e,n){"use strict";n.d(e,"b",(function(){return i}));n("cb29"),n("a15b"),n("ac1f"),n("5319");var i={replaceWrap:function(t){return t.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>")},removeScript:function(t){return t.replace(/<\/?script[^>]+>/g,"")},filterAISpeakerActionTag:function(t){return t.replace(/<\/?insert-action[^>]*?>/gim,"")},replaceSpace:function(t){return t&&t.replace(/\s{2,}/g,(function(t){return new Array(t.length).fill("&nbsp;").join("")}))}};e["a"]=function(t){var e=t;return e=i.removeScript(e),e=i.replaceWrap(e),e=i.filterAISpeakerActionTag(e),e=i.replaceSpace(e),e}},f45a:function(t,e,n){t.exports=n.p+"img/arrow-down.33b11fe8.svg"},f4de:function(t,e,n){},f4e7:function(t,e,n){t.exports=n.p+"img/audio_line.605e0740.svg"},f5db:function(t,e,n){"use strict";n.d(e,"c",(function(){return w})),n.d(e,"b",(function(){return y})),n.d(e,"a",(function(){return x}));var i=n("3835"),a=n("5530"),o=(n("99af"),n("caad"),n("e9f5"),n("7d54"),n("e9c4"),n("d3b7"),n("ac1f"),n("00b4"),n("2532"),n("5319"),n("498a"),n("159b"),n("5ac5")),s=n("8c50"),c=n.n(s),r=n("9ec0"),l=n("2ca8"),d=n("2b0e"),u=n("ae03"),m=n("126a"),f=n("7273"),h=n("97e5"),p={key:"message",sendc2b:function(t){o["a"].sendTextMessage(t.content)},extsendc2b:function(t){o["a"].sendQDMenuMessage({args:t.href,text:t.content}),o["a"].scrollToBottom()},leaveform:function(t){o["a"].createLeaveMessage({type:102,formParams:t},{dir:"b2c"}),console.log("[leaveform]",t)},ext2robotsendc2b:function(t){var e=Object(r["b"])(t.href),n=w(e),i=n.params;i.content=Object(r["a"])(i.content),i&&o["a"].sendTextMessage(i.content,{robot_ctrl:{str_ext2robot:i.ext||""}})},newQueueHandle:function(t){console.log("[newQueueHandle]",t)},reload:function(){location.reload()},changeNewKF:function(t){console.log("[changeNewKF]",t)},operateRobotXmlMsg:function(t){var e,n;console.log("[operateRobotXmlMsg]",t);var i=(null===o["a"]||void 0===o["a"]||null===(e=o["a"].wpaDetail)||void 0===e?void 0:e.kfuin)||o["a"].kfuin,a=null===o["a"]||void 0===o["a"]||null===(n=o["a"].to)||void 0===n?void 0:n.user_id;if(1===+t.type){var s={scene:+t.scene,sceneArgs:t.id,channelType:4};m["a"].post("".concat(h["p"],"?kfuin=").concat(i),s).then((function(e){var n=e.data,i=n.code,a=n.message,s=n.data;0===+i?o["a"].sendQDXMLMessage({qdxml:{content:s.xmlMsg,brief:"零售电商卡片消息"}},null,{robot_ctrl:{str_ext2robot:JSON.stringify({scene:+t.scene,extRobotType:4})}}):console.error(a||"获取商品xml失败，请稍后重试")})).catch((function(t){console.error("获取商品xml失败",t)}))}else if(2===+t.type)if(t.url){var c={goodsId:t.id,reqUrl:t.url,sessionChannelType:4,corpUin:+i,cid:a};u["a"].post("".concat(h["a"],"?kfuin=").concat(i),c).then((function(t){var e=t.data,n=e.code,i=e.message;0===+n?d["a"].prototype.$Toast("操作成功"):d["a"].prototype.$Toast(i||"操作失败，请稍后重试")})).catch((function(t){console.error("操作失败，请稍后重试",t),d["a"].prototype.$Toast("操作失败，请稍后重试")}))}else d["a"].prototype.$Toast("未配置第三方接口")}},g={key:"launch",miniprogram:function(t){if(wx&&wx.miniProgram){var e=Object(a["a"])({},t);e.url&&(e.url=decodeURIComponent(e.url)),console.log("[miniprogram]",e,t),wx.miniProgram[e.interface]&&wx.miniProgram[e.interface](e)}else console.log("[launch/miniprogram]在非微信内置webview环境中无法运行")},wxapp:function(t){var e=Object(a["a"])({},t);e.path&&(e.path=decodeURIComponent(e.path)),wx&&wx[e.interface]?(console.log("[wxapp]",e,t),wx[e.interface](e)):console.log("[launch/wxapp]请确认调用的API及参数是否正确")},pageaction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(a["a"])({},t),n=e.actionType,i=void 0===n?"":n;switch(i){case"consultForm":o["a"].switchConsultForm(!0,e);break;default:break}},postMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window&&window.parent&&window.parent.postMessage&&window.parent.postMessage(t,"*")},navigatorToMiniprogram:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.appPath&&Object(f["a"])(t.appPath)}},v=/((qdweb)|(qdim)|(mqqwpa)):\/\//,b={},_="mqqwpa://";function w(t){if(v.test(t)){var e=t.replace(v,""),n=[],a=[],o={},s=e.split("?");if(n=s[0].split("/"),s.length>1&&(a=s[1].split("&"),a.forEach((function(t){var e=t.split("=");if(e.length>1){var n=Object(i["a"])(e,2),a=n[0],s=n[1];o[a]=s}else o[e[0]]=!0}))),n.length>0){var c=n,r=Object(i["a"])(c,3),l=r[0],d=r[1],u=r[2];return{namespace:l,action:d,method:u,params:o,href:t}}}return!1}function y(t,e,n){console.log("[handleLinkClick]",t,e,n);var i=w(t);if(!1!==i){var a=i.action,s=i.method,c=i.params,r=i.href;if(0===r.indexOf(_)||"extsendc2b"===s)return void b.message.extsendc2b({href:r,content:c.content||""});if("ext2robotsendc2b"===s)return void b.message.ext2robotsendc2b({href:r,content:c.content||""});var u=b[a];u&&u[s]&&"function"===typeof u[s]&&u[s](c,n)}else{var m;if("string"!==typeof t)return;var f,h=t.trim();if(!/^(http|tel|mailto)/.test(h))return;if(/^(http)/.test(h))return h.includes("open_qd_iframe=1")&&o["a"].openIframeLink?void o["a"].openIframeLink({url:h,robotId:(null===n||void 0===n?void 0:n.robotId)||""}):void(null!==(f=d["a"].prototype.$platform)&&void 0!==f&&f.PcWechatMiniProgram?window.open(Object(l["a"])(h),"_self"):window.open(Object(l["a"])(h)));null!==(m=d["a"].prototype.$platform)&&void 0!==m&&m.PcWechatMiniProgram?window.open(h,"_self"):window.open(h)}}function x(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.callback,a=n.options;t&&c()(t,e,"click",(function(t){t.preventDefault();var e=t.delegateTarget;return"function"===typeof i&&i(e),y(e.getAttribute("href"),e.getAttribute("target"),a),!1}))}b[p.key]=p,b[g.key]=g},f6d3:function(t,e,n){"use strict";n("8b54")},f8b2:function(t,e,n){"use strict";n("1747")},fa30:function(t,e,n){},fc0b:function(t,e,n){},fc14:function(t,e,n){t.exports=n.p+"img/papers.37147fcf.svg"},fc29:function(t,e,n){"use strict";n("75c9")},fc4a:function(t,e,n){},fc61:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("99af");var i=n("9ec0");function a(t){var e=t.count,n=t.des,a=void 0===n?"":n,s=t.logo,c=t.mon,r=t.much,l=t.tit,d=void 0===l?"":l,u='<msg brief="企点结构化消息" serviceID="115" msgName="e-commerce-goods" background="#FFFFFFFF">\n  <linear background="#FFFFFFFF" width="-2" height="-2" margin="24,24,24,24" margin.pc="12,12,12,12" cornerRadius="12" orientation="vertical">\n  <linear width="-2" height="-2">\n  <linear width="-2" height="-2">',m="</linear>\n  </linear>\n  </linear>\n  </linear>\n  </msg>",f="",h=d?'<text width="304" height="-2" width.pc="152" weight="500" size="28" size.pc="10" style="bold" color.pc="#262d3d" maxLine="1" lineSpace="0" lineSpace.pc="5" text="'.concat(d,'"/>\n  '):"",p=a?'<text width="304"  height="-2" width.pc="152" margin="0,22,0,0" margin.pc="0,0,0,0" size="24" size.pc="8" color="#FF78849E" color.pc="0xFF78849E" maxLine="1" text="'.concat(a,'"/>\n  '):"",g=s?'<image name="onlineGoods" width="144" width.pc="72" height="144" height.pc="72" src="'.concat(Object(i["c"])(s),'"></image>'):"",v=o(c)?'  <text width="160"  width.pc="15" height="-2" margin="0,32,0,0" margin.pc="0,2,0,0" size="24" size.pc="8" color="#FFFF8147" color.pc="0xFFFF8147" text="'.concat(c,'" />\n  '):"",b=o(e)?'  <text width="120"  width.pc="15" height="-2" margin="0,32,0,0" margin.pc="0,2,0,0" size="24" size.pc="8" color="#68010B32" color.pc="0x68010B32" text="x '.concat(e,'"></text>\n  '):"",_=o(r)?'<text width="304" width.pc="152" height="-2" margin="10,4,0,0" margin.pc="0,2,0,0" size="24" size.pc="8" color="#68010B32" color.pc="0x68010B32" text="'.concat(r,'件已售" maxLine="1"/>'):"";return f="".concat(u,"\n  ").concat(g,'\n  <linear width="-2" height="-2" margin="16,0,0,0" margin.pc="8,0,0,0" gravity="top" orientation="vertical">\n  ').concat(h).concat(p,'\n  <linear orientation="horizontal" gravity="left">\n  ').concat(v).concat(b,'\n  </linear>\n  </linear>\n  <linear width="-2" height="-2" margin.pc="8,0,0,0" orientation="vertical" gravity="bottom">\n  ').concat(_,"\n  ").concat(m,"\n  "),f}function o(t){return t||"0"===String(t)}},fdd0:function(t,e,n){"use strict";n("fc4a")},fdef:function(t,e,n){"use strict";n("0ba6")},fe1a:function(t,e,n){t.exports=n.p+"img/ecommerce-empty-list.1c8103df.svg"},fe1b:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{class:["basis-style",t.isMobile?"":"basis-style-pc"]},[e("div",{staticClass:"nav-content",style:t.globalData.runMode?"":"background-image:url("+t.robotNav.img.url+")"},[e("div",{staticClass:"nav-title"},[t._v(t._s(t.robotNav.tit))]),e("div",{staticClass:"nav-list"},t._l(t.getPageData(t.robotNav),(function(i,a){return e("div",{key:a,staticClass:"nav-item nav-link",on:{click:function(e){return t.onClick(i)}}},[e("div",{staticClass:"nav-item-text"},[t._v(t._s(i.name||i.question||""))]),e("img",{staticClass:"icon-arrow-right",attrs:{src:n("c3d8")}})])})),0),t.robotNav.showChange?e("div",{staticClass:"nav-change"},[e("div",{staticClass:"nav-change-box",on:{click:function(e){return t.onChange(t.robotNav)}}},[e("img",{staticClass:"batch-head-icon",attrs:{src:n("9fa0")}}),t._v(" 换一批 ")])]):t._e()])])},a=[],o=n("b371"),s={mixins:[o["a"]]},c=s,r=(n("a253"),n("2877")),l=Object(r["a"])(c,i,a,!1,null,"3fa7c3fe",null);e["default"]=l.exports},febe:function(t,e,n){"use strict";n("7c85")},febf:function(t,e,n){"use strict";n("32da")},ffc2:function(t,e,n){}});